<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>SpringBootåˆè¯† | MoMoAoğŸ“</title><meta name="keywords" content="Java,SpringBoot"><meta name="author" content="MoMoAoğŸ“"><meta name="copyright" content="MoMoAoğŸ“"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="ğŸ”æœ¬æ–‡æ±‡æ€»SpringBootçš„åŸºç¡€çŸ¥è¯†">
<meta property="og:type" content="article">
<meta property="og:title" content="SpringBootåˆè¯†">
<meta property="og:url" content="https://momoao.github.io/posts/202308301711.html">
<meta property="og:site_name" content="MoMoAoğŸ“">
<meta property="og:description" content="ğŸ”æœ¬æ–‡æ±‡æ€»SpringBootçš„åŸºç¡€çŸ¥è¯†">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://momoao.github.io/assets/wallpaper/w14.jpg">
<meta property="article:published_time" content="2023-07-10T10:19:03.000Z">
<meta property="article:modified_time" content="2023-09-13T10:45:19.021Z">
<meta property="article:author" content="MoMoAoğŸ“">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="SpringBoot">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://momoao.github.io/assets/wallpaper/w14.jpg"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://momoao.github.io/posts/202308301711"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"è¿™ç¯‡æ–‡ç« æ˜¯","messageNext":"å¤©ä¹‹å‰æ›´æ–°çš„ï¼Œå†…å®¹å¯èƒ½æ¯”è¾ƒè€äº†"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":30,"languages":{"author":"ä½œè€…: MoMoAoğŸ“","link":"é“¾æ¥: ","source":"æ¥æº: MoMoAoğŸ“","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SpringBootåˆè¯†',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-13 18:45:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script src="https://npm.elemecdn.com/echarts@4.9.0/map/js/china.js"></script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="MoMoAoğŸ“" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/tx.jpg" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> ä¸ªäºº</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> å” å¨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> æ‹çˆ±å°å±‹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> å…³äº</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">MoMoAoğŸ“</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> ä¸ªäºº</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> å” å¨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> æ‹çˆ±å°å±‹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> å…³äº</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="æ£€ç´¢ç«™å†…ä»»ä½•ä½ æƒ³è¦çš„ä¿¡æ¯"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> æœç´¢</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="ç¾åŒ–è®¾ç½®-è‡ªå®šä¹‰ä½ çš„é£æ ¼" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">SpringBootåˆè¯†</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">å‘è¡¨äº </span><time class="post-meta-date-created" datetime="2023-07-10T10:19:03.000Z" title="å‘è¡¨äº 2023-07-10 18:19:03">2023-07-10</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-09-13T10:45:19.021Z" title="æ›´æ–°äº 2023-09-13 18:45:19">2023-09-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/%E6%A1%86%E6%9E%B6/">æ¡†æ¶</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">1.4w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>51åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SpringBootåˆè¯†"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>SpringBoot</h1>
<div class="note info flat"><p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Es4y1q7Bf/?share_source=copy_web&amp;vd_source=aff3d5a6c89df5e200cc71287221c16c">éƒ¨åˆ†ç¬”è®°å‚è€ƒå°šç¡…è°·SPringBoot3é›¶åŸºç¡€æ•™ç¨‹</a></p>
</div>
<div class="note info flat"><p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Bootå®˜æ–¹æ–‡æ¡£</a></p>
</div>
<h1>åŠŸèƒ½æè¿°</h1>
<h1>å¿«é€Ÿå…¥é—¨</h1>
<h2 id="å¼€å‘æµç¨‹">å¼€å‘æµç¨‹</h2>
<ol>
<li>
<p>åˆ›å»ºé¡¹ç›®</p>
<ol>
<li>
<p>åˆ›å»ºmavené¡¹ç›®ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å†™</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    æ‰€æœ‰springbooté¡¹ç›®éƒ½å¿…é¡»ç»§æ‰¿è‡ª spring-boot-starter-parent --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li>
<p>å¯¼å…¥ç¯å¢ƒ</p>
<ol>
<li>
<p>å¯¼å…¥webçš„åœºæ™¯å¯åŠ¨å™¨</p>
</li>
<li>
<p>æ›´å¤šåœºæ™¯å¯åŠ¨å™¨å¯ä»¥æŸ¥è¯¢<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters">SpringBootåœºæ™¯å¯åŠ¨å™¨-å®˜æ–¹</a>ï¼Œè¿™äº›æ˜¯å®˜æ–¹æ”¯æŒçš„åœºæ™¯éƒ½ä¼šä»¥spring-boot-starter-*å‘½åï¼Œè¿˜æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹åœºæ™¯éƒ½æ˜¯ä»¥*-spring-boot-starterçš„æ–¹å¼å‘½åã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    ä»¥åå¼€å‘ç›´æ¥å¼•å…¥starterå°±è¡Œäº†ï¼Œè¿™æ˜¯ä¸€ä¸ªwebå¼€å‘çš„åœºæ™¯å¯åŠ¨å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
<p>å¯¼å…¥æ‰“åŒ…ç”¨çš„ç¯å¢ƒ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è¿™æ˜¯ä¸€ä¸ªæ’ä»¶ï¼Œè¿™æ˜¯springbootå®˜æ–¹æä¾›çš„åº”ç”¨æ‰“åŒ…æ’ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å†™ä¸»ç¨‹åºï¼ˆå›ºå®šå†™æ³•ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.boot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜ç¡®å‘Šè¯‰springbootï¼Œè¿™æ˜¯ä¸€ä¸ªspringbootåº”ç”¨</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//å›ºå®šå†™æ³•</span></span><br><span class="line">        SpringApplication.run(MainApplication.class,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å°†ç¯å¢ƒæ‰“åŒ…">å°†ç¯å¢ƒæ‰“åŒ…</h2>
<p>åœ¨å³ä¾§mavenæ§åˆ¶ç•Œé¢æ‰§è¡Œcleanå’Œpackageï¼Œå°†pom.xmlä¸­çš„ç¯å¢ƒæ‰“åŒ…ï¼Œæ‰“åŒ…å¥½çš„ç¯å¢ƒä¼šåœ¨æ¨¡å—æ–‡ä»¶å¤¹ä¸­çš„targetæ–‡ä»¶å¤¹ä¸­ï¼Œå°†è¿™ä¸ªåŒ…ä¸Šä¼ åˆ°linuxæœåŠ¡å™¨ä¸­ï¼Œå°±å¯ä»¥ä¸ç”¨åœ¨ç‰¹æ„å®‰è£…tomcatï¼Œå¯ä»¥ç›´æ¥è¿è¡ŒwebæœåŠ¡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230903193024953.png" alt="image-20230903193024953"></p>
<p>ä¹Ÿå¯ä»¥åœ¨cmdä¸­ä½¿ç”¨java -jarç›´æ¥è¿è¡ŒjaråŒ…å°±å¯ä»¥åœ¨æœ¬æœºç›´æ¥è¿è¡ŒwebæœåŠ¡ï¼Œå’Œåœ¨IDEAä¸­æä¾›çš„æœåŠ¡ä¸€æ ·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230903193420233.png" alt="image-20230903193420233"></p>
<p>ä¹‹å‰æ”¹é…ç½®éœ€è¦å†jaråŒ…ä¸­çš„xmlæ–‡ä»¶ä¸­æ”¹ï¼Œç°åœ¨åªéœ€è¦åœ¨ä¸jaråŒ…åŒä¸€ä¸ªç›®å½•çš„åˆ›å»ºä¸€ä¸ªapplication.propertiesæ–‡ä»¶ï¼Œåœ¨å…¶ä¸­å¡«å†™é…ç½®å°±å¯ä»¥äº†ã€‚SSMçš„æ‰€æœ‰é…ç½®éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230903194137996.png" alt="image-20230903194137996"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230903194129152.png" alt="image-20230903194129152"></p>
<p>å¯ä»¥ä½¿ç”¨IDEAï¼Œç¼–å†™ï¼Œä¼šæœ‰å¾ˆå¤šæç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230903195607190.png" alt="image-20230903195607190"></p>
<p>æ›´å¤šé…ç½®å¯ä»¥æŸ¥çœ‹spring bootå®˜æ–¹çš„<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties">Appication Propertiesæ–‡æ¡£-å®˜æ–¹</a></p>
<h2 id="IDEAç›´æ¥åˆ›å»ºSpringbooté¡¹ç›®">IDEAç›´æ¥åˆ›å»ºSpringbooté¡¹ç›®</h2>
<p>åˆ›å»ºæ–°çš„æ¨¡å—</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230904163117321.png" alt="image-20230904163117321"></p>
<p>ä¸‹ä¸€æ­¥ä¹‹åå°±å¯ä»¥é€‰æ‹©å¯åŠ¨å™¨åœºæ™¯äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230903201324810.png" alt="image-20230903201324810"></p>
<p>IDEAä¼šåˆ›å»ºå¥½ä¸»å‡½æ•°å’Œé…ç½®æ–‡ä»¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230903201446502.png" alt="image-20230903201446502"></p>
<p>Springbootåªæ‰«æä¸»ç¨‹åºæ ¹ç›®å½•å’Œä»¥ä¸‹çš„åŒ…ï¼Œå†™åœ¨ä¸»ç¨‹åºçˆ¶ç›®å½•åŠå…¶ä»¥ä¸Šçš„å†…å®¹ä¸è¢«æ‰«æ</p>
<p>ç›®å½•ç»“æ„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230904161351951.png" alt="image-20230904161351951"></p>
<h2 id="åº”ç”¨åˆ†æ">åº”ç”¨åˆ†æ</h2>
<h3 id="ä¸ºä»€ä¹ˆå¯¼å…¥starter-webæ‰€æœ‰ç›¸å…³ä¾èµ–éƒ½å¯¼å…¥è¿›æ¥">ä¸ºä»€ä¹ˆå¯¼å…¥starter-webæ‰€æœ‰ç›¸å…³ä¾èµ–éƒ½å¯¼å…¥è¿›æ¥</h3>
<ul>
<li>å®˜æ–¹ä¼šæ•´ç†å¥½ç‰ˆæœ¬</li>
<li>mavençš„ä¾èµ–ä¼ é€’åŸåˆ™ã€‚å¦‚æœAä¾èµ–Bï¼ŒBä¾èµ–Cï¼Œé‚£ä¹ˆå¯¼å…¥Aï¼Œå°±æ‹¥æœ‰äº†ABC</li>
<li>æ‰€ä»¥ï¼Œå¯¼å…¥åœºæ™¯å¯åŠ¨å™¨è‡ªåŠ¨æŠŠæ‰€æœ‰ä¾èµ–å¯¼å…¥</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆç‰ˆæœ¬å·éƒ½ä¸ç”¨å†™">ä¸ºä»€ä¹ˆç‰ˆæœ¬å·éƒ½ä¸ç”¨å†™</h3>
<ul>
<li>æ¯ä¸ªbooté¡¹ç›®éƒ½æœ‰ä¸€ä¸ªçˆ¶é¡¹ç›®spring-boot-starter-parent</li>
<li>parentçš„çˆ¶é¡¹ç›®å¼spinrg-boot-dependencies
<ul>
<li>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­æœ‰æ‰€æœ‰å¯åŠ¨å™¨çš„å¯¼å…¥ï¼Œå’Œç‰ˆæœ¬æŒ‡å®š</li>
<li>è¿™ä¸ªé¡¹ç›®å¯ä»¥å« çˆ¶é¡¹ç›®çš„ç‰ˆæœ¬ä»²è£ä¸­å¿ƒï¼Œæ‰€æœ‰çš„å¸¸è§çš„jaråŒ…ç‰ˆæœ¬éƒ½å£°æ˜å¥½äº†</li>
</ul>
</li>
</ul>
<h3 id="è‡ªå®šä¹‰ç‰ˆæœ¬å·">è‡ªå®šä¹‰ç‰ˆæœ¬å·</h3>
<ul>
<li>mavençš„å°±è¿‘åŸåˆ™ï¼Œåœ¨pom.xmlæ–‡ä»¶ä¸­ç›´æ¥å°†æƒ³è¦çš„ç‰ˆæœ¬å£°æ˜å³å¯ã€‚åœ¨çˆ¶é¡¹ç›®ä¸­æ ‡ç­¾ç”¨çš„ä»€ä¹ˆï¼Œè¿™é‡Œå°±ç”¨ä»€ä¹ˆ</li>
<li>è¿™ä¸¤ç§å†™æ³•éƒ½å¯ä»¥</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230904170126458.png" alt="image-20230904170126458"></li>
</ul>
<h3 id="ä¾èµ–">ä¾èµ–</h3>
<ul>
<li>
<p>Appå°±æ˜¯springbootæ¨¡å—</p>
</li>
<li>
<p>å¦‚æœbootçˆ¶é¡¹ç›®æ²¡æœ‰åŒ…æ‹¬çš„éœ€è¦è‡ªè¡Œå£°æ˜</p>
</li>
<li>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230905134400792.png" alt="image-20230905134400792"></p>
</li>
</ul>
<h3 id="è‡ªåŠ¨é…ç½®æœºåˆ¶">è‡ªåŠ¨é…ç½®æœºåˆ¶</h3>
<h4 id="åˆæ­¥äº†è§£">åˆæ­¥äº†è§£</h4>
<ol>
<li>
<p>è‡ªåŠ¨é…ç½®äº†Tomcatã€SPringMVCç­‰</p>
<ol>
<li>ä»¥å‰ï¼šViewResolverã€DispatcherServletã€CharacterEncodingFitler</li>
<li>ç°åœ¨ï¼šè‡ªåŠ¨é…ç½®å¥½çš„è¿™äº›ç»„ä»¶</li>
<li>éªŒè¯ï¼šå®¹å™¨ä¸­æœ‰ä»€ä¹ˆç»„ä»¶ï¼Œå°±æœ‰ä»€ä¹ˆåŠŸèƒ½
<ol>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230905135520950.png" alt="image-20230905135520950"></li>
</ol>
</li>
</ol>
</li>
<li>
<p>é»˜è®¤åŒ…æ‰«æ</p>
<ol>
<li>
<p>springbootåªä¼šæ‰«æä¸»ç¨‹åºæ‰€åœ¨çš„åŒ…å’Œä»¥ä¸‹çš„åŒ…</p>
</li>
<li>
<p>@SPringBootApplicationæ³¨è§£æ ‡æ³¨çš„ç±»å°±æ˜¯springbootä¸»ç¨‹åºæ‰€åœ¨çš„ç±»</p>
</li>
<li>
<p>ä¹Ÿå¯ä»¥é€šè¿‡æ”¹å˜æ³¨è§£çš„å±æ€§ï¼ŒæŒ‡å®šæ‰«æå“ªä¸ªåŒ…ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„æ³¨è§£æ‰€åœ¨åŒ…</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication(scanBasePackages = <span class="string">&quot;com.atguigu&quot;</span>)</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>@SpringBootApplicationç­‰åŒäºè¿™ä¸‰ä¸ªæ³¨è§£ï¼Œå…¶ä¸­æœ‰ä¸ªæ³¨è§£ä¹Ÿå¯ä»¥æŒ‡å®šæ‰«æåŒ…çš„è·¯å¾„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230905140340266.png" alt="image-20230905140340266"></p>
</li>
<li>
<p>é…ç½®é»˜è®¤å€¼</p>
<ol>
<li>é…ç½®æ–‡ä»¶çš„æ‰€æœ‰é…ç½®é¡¹å’ŒæŸä¸€ä¸ªç±»çš„å¯¹è±¡è¿›è¡Œç»‘å®š</li>
<li>ç»‘å®šäº†é…ç½®æˆ‘å‘¢è§ä¸­æ¯ä¸€é¡¹å€¼çš„ç±»ï¼š<strong>é…ç½®å±æ€§ç±»</strong></li>
<li>æ¯”å¦‚ï¼š
<ol>
<li>ServerPropertiesï¼šç»‘å®šäº†æ‰€æœ‰TomcatæœåŠ¡å™¨æœ‰å…³çš„é…ç½®</li>
<li>MultipartPropertiesï¼šç»‘å®šäº†æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ çš„ç›¸å…³é…ç½®</li>
</ol>
</li>
</ol>
</li>
<li>
<p>æŒ‰éœ€åŠ è½½é…ç½®åœºæ™¯</p>
<ol>
<li>å¯¼å…¥åœºæ™¯spring-boot-starter-webï¼Œè¿™ä¸ªåœºæ™¯é‡Œæœ‰ä¸€ä¸ªspring-boot-starterï¼Œè¿™æ˜¯æ‰€æœ‰starterçš„starter</li>
<li>è€Œspring-boot-starterå¯¼å…¥äº†spring-boot-aotuconfigureï¼Œè¿™ä¸ªåŒ…é‡Œé¢æ˜¯å„ç§åœºæ™¯çš„<strong>é…ç½®å±æ€§ç±»</strong></li>
<li>è™½ç„¶éƒ½åœ¨è¿™ä¸ªåŒ…ä¸­ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯é»˜è®¤å…¨å¼€å¯ï¼Œå¯¼å…¥äº†å“ªä¸ªåœºæ™¯ï¼Œå“ªä¸ªåœºæ™¯çš„é…ç½®ç±»å°±ä¼šè‡ªåŠ¨åŠ è½½</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="å®Œæ•´æµç¨‹">å®Œæ•´æµç¨‹</h4>
<ol>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230905151416080.png" alt="image-20230905151416080"></li>
</ol>
<p><em><strong>è‡ªåŠ¨é…ç½®æµç¨‹ç»†èŠ‚æ¢³ç†ï¼š</strong></em></p>
<p>**1ã€**å¯¼å…¥<code>starter-web</code>ï¼šå¯¼å…¥äº†webå¼€å‘åœºæ™¯</p>
<ul>
<li>1ã€åœºæ™¯å¯åŠ¨å™¨å¯¼å…¥äº†ç›¸å…³åœºæ™¯çš„æ‰€æœ‰ä¾èµ–ï¼š<code>starter-json</code>ã€<code>starter-tomcat</code>ã€<code>springmvc</code></li>
<li>2ã€æ¯ä¸ªåœºæ™¯å¯åŠ¨å™¨éƒ½å¼•å…¥äº†ä¸€ä¸ª<code>spring-boot-starter</code>ï¼Œæ ¸å¿ƒåœºæ™¯å¯åŠ¨å™¨ã€‚</li>
<li>3ã€<strong>æ ¸å¿ƒåœºæ™¯å¯åŠ¨å™¨</strong>å¼•å…¥äº†<code>spring-boot-autoconfigure</code>åŒ…ã€‚</li>
<li>4ã€<code>spring-boot-autoconfigure</code>é‡Œé¢å›Šæ‹¬äº†æ‰€æœ‰åœºæ™¯çš„æ‰€æœ‰é…ç½®ã€‚</li>
<li>5ã€åªè¦è¿™ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç±»éƒ½èƒ½ç”Ÿæ•ˆï¼Œé‚£ä¹ˆç›¸å½“äºSpringBootå®˜æ–¹å†™å¥½çš„æ•´åˆåŠŸèƒ½å°±ç”Ÿæ•ˆäº†ã€‚</li>
<li>6ã€SpringBooté»˜è®¤å´æ‰«æä¸åˆ° <code>spring-boot-autoconfigure</code>ä¸‹å†™å¥½çš„æ‰€æœ‰<strong>é…ç½®ç±»</strong>ã€‚ï¼ˆè¿™äº›<strong>é…ç½®ç±»</strong>ç»™æˆ‘ä»¬åšäº†æ•´åˆæ“ä½œï¼‰ï¼Œ<strong>é»˜è®¤åªæ‰«æä¸»ç¨‹åºæ‰€åœ¨çš„åŒ…</strong>ã€‚</li>
</ul>
<p>**2ã€**<strong>ä¸»ç¨‹åº</strong>ï¼š<code>@SpringBootApplication</code></p>
<ul>
<li>
<p>1ã€<code>@SpringBootApplication</code>ç”±ä¸‰ä¸ªæ³¨è§£ç»„æˆ<code>@SpringBootConfiguration</code>ã€<code>@EnableAutoConfiguratio</code>ã€<code>@ComponentScan</code></p>
</li>
<li>
<p>2ã€SpringBooté»˜è®¤åªèƒ½æ‰«æè‡ªå·±ä¸»ç¨‹åºæ‰€åœ¨çš„åŒ…åŠå…¶ä¸‹é¢çš„å­åŒ…ï¼Œæ‰«æä¸åˆ° <code>spring-boot-autoconfigure</code>åŒ…ä¸­å®˜æ–¹å†™å¥½çš„<strong>é…ç½®ç±»</strong></p>
</li>
<li>
<p>3ã€<code>**@EnableAutoConfiguration**</code>ï¼šSpringBoot <strong>å¼€å¯è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒ</strong>ã€‚</p>
</li>
<li>
<ul>
<li>\1. æ˜¯ç”±<code>@Import(AutoConfigurationImportSelector.class)</code>æä¾›åŠŸèƒ½ï¼šæ‰¹é‡ç»™å®¹å™¨ä¸­å¯¼å…¥ç»„ä»¶ã€‚</li>
<li>\2. SpringBootå¯åŠ¨ä¼šé»˜è®¤åŠ è½½ 142ä¸ªé…ç½®ç±»ã€‚</li>
<li>\3. è¿™<strong>142ä¸ªé…ç½®ç±»</strong>æ¥è‡ªäº<code>spring-boot-autoconfigure</code>ä¸‹ <code>META-INF/spring/**org.springframework.boot.autoconfigure.AutoConfiguration**.imports</code>æ–‡ä»¶æŒ‡å®šçš„</li>
<li>é¡¹ç›®å¯åŠ¨çš„æ—¶å€™åˆ©ç”¨ @Import æ‰¹é‡å¯¼å…¥ç»„ä»¶æœºåˆ¶æŠŠ <code>autoconfigure</code> åŒ…ä¸‹çš„142 <code>xxxxAutoConfiguration</code>ç±»å¯¼å…¥è¿›æ¥ï¼ˆ<strong>è‡ªåŠ¨é…ç½®ç±»</strong>ï¼‰</li>
<li>è™½ç„¶å¯¼å…¥äº†<code>142</code>ä¸ªè‡ªåŠ¨é…ç½®ç±»</li>
</ul>
</li>
<li>
<p>4ã€æŒ‰éœ€ç”Ÿæ•ˆï¼š</p>
</li>
<li>
<ul>
<li>å¹¶ä¸æ˜¯è¿™<code>142</code>ä¸ªè‡ªåŠ¨é…ç½®ç±»éƒ½èƒ½ç”Ÿæ•ˆ</li>
<li>æ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»ï¼Œéƒ½æœ‰æ¡ä»¶æ³¨è§£<code>@ConditionalOnxxx</code>ï¼Œåªæœ‰æ¡ä»¶æˆç«‹ï¼Œæ‰èƒ½ç”Ÿæ•ˆ</li>
</ul>
</li>
</ul>
<p><strong>3ã€</strong><code>**xxxxAutoConfiguration**</code><strong>è‡ªåŠ¨é…ç½®ç±»</strong></p>
<ul>
<li><strong>1ã€ç»™å®¹å™¨ä¸­ä½¿ç”¨@Bean æ”¾ä¸€å †ç»„ä»¶ã€‚</strong></li>
<li>2ã€æ¯ä¸ª<strong>è‡ªåŠ¨é…ç½®ç±»</strong>éƒ½å¯èƒ½æœ‰è¿™ä¸ªæ³¨è§£<code>@EnableConfigurationProperties(**ServerProperties**.class)</code>ï¼Œç”¨æ¥æŠŠé…ç½®æ–‡ä»¶ä¸­é…çš„æŒ‡å®šå‰ç¼€çš„å±æ€§å€¼å°è£…åˆ° <code>xxxProperties</code><strong>å±æ€§ç±»</strong>ä¸­</li>
<li>3ã€ä»¥Tomcatä¸ºä¾‹ï¼šæŠŠæœåŠ¡å™¨çš„æ‰€æœ‰é…ç½®éƒ½æ˜¯ä»¥<code>server</code>å¼€å¤´çš„ã€‚é…ç½®éƒ½å°è£…åˆ°äº†å±æ€§ç±»ä¸­ã€‚</li>
<li>4ã€ç»™<strong>å®¹å™¨</strong>ä¸­æ”¾çš„æ‰€æœ‰<strong>ç»„ä»¶</strong>çš„ä¸€äº›<strong>æ ¸å¿ƒå‚æ•°</strong>ï¼Œéƒ½æ¥è‡ªäº<code>**xxxProperties**</code><strong>ã€‚</strong><code>**xxxProperties**</code><strong>éƒ½æ˜¯å’Œé…ç½®æ–‡ä»¶ç»‘å®šã€‚</strong></li>
<li><strong>åªéœ€è¦æ”¹é…ç½®æ–‡ä»¶çš„å€¼ï¼Œæ ¸å¿ƒç»„ä»¶çš„åº•å±‚å‚æ•°éƒ½èƒ½ä¿®æ”¹</strong></li>
</ul>
<p>**4ã€**å†™ä¸šåŠ¡ï¼Œå…¨ç¨‹æ— éœ€å…³å¿ƒå„ç§æ•´åˆï¼ˆåº•å±‚è¿™äº›æ•´åˆå†™å¥½äº†ï¼Œè€Œä¸”ä¹Ÿç”Ÿæ•ˆäº†ï¼‰</p>
<p><strong>æ ¸å¿ƒæµç¨‹æ€»ç»“ï¼š</strong></p>
<p>1ã€å¯¼å…¥<code>starter</code>ï¼Œå°±ä¼šå¯¼å…¥<code>autoconfigure</code>åŒ…ã€‚</p>
<p>2ã€<code>autoconfigure</code> åŒ…é‡Œé¢ æœ‰ä¸€ä¸ªæ–‡ä»¶ <code>META-INF/spring/**org.springframework.boot.autoconfigure.AutoConfiguration**.imports</code>,é‡Œé¢æŒ‡å®šçš„æ‰€æœ‰å¯åŠ¨è¦åŠ è½½çš„è‡ªåŠ¨é…ç½®ç±»</p>
<p>3ã€@EnableAutoConfiguration ä¼šè‡ªåŠ¨çš„æŠŠä¸Šé¢æ–‡ä»¶é‡Œé¢å†™çš„æ‰€æœ‰<strong>è‡ªåŠ¨é…ç½®ç±»éƒ½å¯¼å…¥è¿›æ¥ã€‚xxxAutoConfiguration æ˜¯æœ‰æ¡ä»¶æ³¨è§£è¿›è¡ŒæŒ‰éœ€åŠ è½½</strong></p>
<p>4ã€<code>xxxAutoConfiguration</code>ç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€å †ç»„ä»¶ï¼Œç»„ä»¶éƒ½æ˜¯ä» <code>xxxProperties</code>ä¸­æå–å±æ€§å€¼</p>
<p>5ã€<code>xxxProperties</code>åˆæ˜¯å’Œ<strong>é…ç½®æ–‡ä»¶</strong>è¿›è¡Œäº†ç»‘å®š</p>
<p>**æ•ˆæœï¼š**å¯¼å…¥<code>starter</code>ã€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°±èƒ½ä¿®æ”¹åº•å±‚è¡Œä¸ºã€‚</p>
<h4 id="å¦‚ä½•å­¦å¥½SpringBoot">å¦‚ä½•å­¦å¥½SpringBoot</h4>
<p>æ¡†æ¶çš„æ¡†æ¶ã€åº•å±‚åŸºäºSpringã€‚èƒ½è°ƒæ•´æ¯ä¸€ä¸ªåœºæ™¯çš„åº•å±‚è¡Œä¸ºã€‚100%é¡¹ç›®ä¸€å®šä¼šç”¨åˆ°<strong>åº•å±‚è‡ªå®šä¹‰</strong></p>
<p>æ‘„å½±ï¼š</p>
<ul>
<li>å‚»ç“œï¼šè‡ªåŠ¨é…ç½®å¥½ã€‚</li>
<li><strong>å•å</strong>ï¼šç„¦è·ã€å…‰åœˆã€å¿«é—¨ã€æ„Ÿå…‰åº¦â€¦</li>
<li>å‚»ç“œ+<strong>å•å</strong>ï¼š</li>
</ul>
<ol>
<li>
<p>ç†è§£<strong>è‡ªåŠ¨é…ç½®åŸç†</strong></p>
</li>
<li>
<ol>
<li><strong>å¯¼å…¥starter</strong> <strong>â€“&gt; ç”Ÿæ•ˆxxxxAutoConfiguration --&gt;</strong> <strong>ç»„ä»¶</strong> <strong>â€“&gt; xxxProperties --&gt;</strong> <strong>é…ç½®æ–‡ä»¶</strong></li>
</ol>
</li>
<li>
<p>ç†è§£<strong>å…¶ä»–æ¡†æ¶åº•å±‚</strong></p>
</li>
<li>
<ol>
<li>æ‹¦æˆªå™¨</li>
</ol>
</li>
<li>
<p>å¯ä»¥éšæ—¶<strong>å®šåˆ¶åŒ–ä»»ä½•ç»„ä»¶</strong></p>
</li>
<li>
<ol>
<li><strong>é…ç½®æ–‡ä»¶</strong></li>
<li><strong>è‡ªå®šä¹‰ç»„ä»¶</strong></li>
</ol>
</li>
</ol>
<p>æ™®é€šå¼€å‘ï¼š<code>å¯¼å…¥starter</code>ï¼ŒControllerã€Serviceã€Mapperã€å¶å°”ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<p><strong>é«˜çº§å¼€å‘</strong>ï¼šè‡ªå®šä¹‰ç»„ä»¶ã€è‡ªå®šä¹‰é…ç½®ã€è‡ªå®šä¹‰starter</p>
<p>æ ¸å¿ƒï¼š</p>
<ul>
<li>è¿™ä¸ªåœºæ™¯è‡ªåŠ¨é…ç½®å¯¼å…¥äº†å“ªäº›ç»„ä»¶ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½Autowiredè¿›æ¥ä½¿ç”¨</li>
<li>èƒ½ä¸èƒ½é€šè¿‡ä¿®æ”¹é…ç½®æ”¹å˜ç»„ä»¶çš„ä¸€äº›é»˜è®¤å‚æ•°</li>
<li>éœ€ä¸éœ€è¦è‡ªå·±å®Œå…¨å®šä¹‰è¿™ä¸ªç»„ä»¶</li>
<li>åœºæ™¯å®šåˆ¶åŒ–</li>
</ul>
<p><strong>æœ€ä½³å®æˆ˜</strong>ï¼š</p>
<ul>
<li>
<p><strong>é€‰åœºæ™¯</strong>ï¼Œå¯¼å…¥åˆ°é¡¹ç›®</p>
</li>
<li>
<ul>
<li>å®˜æ–¹ï¼šstarter</li>
<li>ç¬¬ä¸‰æ–¹ï¼šå»ä»“åº“æœ</li>
</ul>
</li>
<li>
<p><strong>å†™é…ç½®ï¼Œæ”¹é…ç½®æ–‡ä»¶å…³é”®é¡¹</strong></p>
</li>
<li>
<ul>
<li>æ•°æ®åº“å‚æ•°ï¼ˆè¿æ¥åœ°å€ã€è´¦å·å¯†ç â€¦ï¼‰</li>
</ul>
</li>
<li>
<p>åˆ†æè¿™ä¸ªåœºæ™¯ç»™æˆ‘ä»¬å¯¼å…¥äº†<strong>å“ªäº›èƒ½ç”¨çš„ç»„ä»¶</strong></p>
</li>
<li>
<ul>
<li><strong>è‡ªåŠ¨è£…é…</strong>è¿™äº›ç»„ä»¶è¿›è¡Œåç»­ä½¿ç”¨</li>
<li>ä¸æ»¡æ„bootæä¾›çš„è‡ªåŠ¨é…å¥½çš„é»˜è®¤ç»„ä»¶</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li><strong>å®šåˆ¶åŒ–</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>æ”¹é…ç½®</li>
<li>è‡ªå®šä¹‰ç»„ä»¶</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>æ•´åˆredisï¼š</p>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters">é€‰åœºæ™¯</a>ï¼š<code>spring-boot-starter-data-redis </code></p>
</li>
<li>
<ul>
<li>åœºæ™¯AutoConfiguration å°±æ˜¯è¿™ä¸ªåœºæ™¯çš„è‡ªåŠ¨é…ç½®ç±»</li>
</ul>
</li>
<li>
<p>å†™é…ç½®ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨IDEAæŸ¥æ‰¾åŠŸèƒ½æŸ¥æ‰¾ç±»RedisAutoConfigurationï¼Œé…ç½®éƒ½æ˜¯å†™åœ¨XXXAutoConfigurationç±»ä¸­ï¼Œç„¶åå‘ç°æ³¨è§£@EnableConfigurationPropertiesï¼ŒæŸ¥çœ‹æ³¨è§£ä¸­ä½¿ç”¨çš„ç±»ï¼Œå°±æ˜¯å†™redisé…ç½®çš„ç±»ï¼Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230907082338070.png" alt="image-20230907082338070"></p>
</li>
</ul>
</li>
<li>
<ul>
<li>
<p>è¿›åˆ°ç±»ä¸­æŸ¥çœ‹æ³¨è§£@ConfigurationPropertiesä¸­å£°æ˜äº†é…ç½®æ–‡ä»¶ä¸­è¯»å–çš„ä¿¡æ¯çš„å‰ç¼€ï¼Œç„¶ååœ¨è‡ªå·±çš„é…ç½®æ–‡ä»¶ä¸­å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‰ç¼€æ¥é…ç½®RedisPropertiesç±»ä¸­çš„å±æ€§</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230907082445135.png" alt="image-20230907082445135"></p>
</li>
<li>
<p>é…ç½®redisï¼Œä¾‹å¦‚åœ¨application.propertiesä¸­é…ç½®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230907082609726.png" alt="image-20230907082609726"></p>
</li>
<li>
<p>åˆ†æåˆ°è¿™ä¸ªåœºæ™¯çš„è‡ªåŠ¨é…ç½®ç±»å¼€å¯äº†å“ªäº›å±æ€§ç»‘å®šå…³ç³»</p>
</li>
<li>
<p><code>@EnableConfigurationProperties(RedisProperties.class)</code></p>
</li>
<li>
<p>ä¿®æ”¹redisç›¸å…³çš„é…ç½®</p>
</li>
</ul>
</li>
<li>
<p>åˆ†æç»„ä»¶ï¼š</p>
</li>
<li>
<ul>
<li>
<p>åˆ†æåˆ° <code>RedisAutoConfiguration</code>  ç»™å®¹å™¨ä¸­æ”¾äº† <code>StringRedisTemplate</code>ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ç”¨äºç»™redisåšå¢åˆ æ”¹æŸ¥æ“ä½œçš„</p>
</li>
<li>
<p>@ConditionalOnMissingBeanè¡¨ç¤ºï¼Œå½“å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªç»„ä»¶æ—¶ï¼ŒSpringBootæ‰ä¼šåŠ å…¥ï¼Œæœ‰çš„è¯å°±ä¸ä¼šå†è¿›è¡ŒåŠ å…¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230907082755115.png" alt="image-20230907082755115"></p>
</li>
<li>
<p>ä½¿ç”¨@Autowiredï¼Œå°†StringRedisTemplateè‡ªåŠ¨æ³¨å…¥</p>
</li>
<li>
<p>redisTemplate.opsForValue()æ–¹æ³•å¯ä»¥è·å–å¯¹rediså­—ç¬¦ä¸²å€¼æ“ä½œçš„æ¥å£ValueOperationsã€‚</p>
<p>ValueOperationsæä¾›äº†å¯¹rediså­—ç¬¦ä¸²å€¼çš„å¸¸ç”¨æ“ä½œ,incrementå°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚</p>
<p>incrementæ–¹æ³•å¯ä»¥å¯¹redisä¸­çš„æ•°å­—å€¼è¿›è¡Œå¢é‡æ“ä½œã€‚å®ƒéœ€è¦ä¸¤ä¸ªå‚æ•°:</p>
<ul>
<li>key - redisä¸­çš„é”®</li>
<li>delta - è¦å¢åŠ çš„æ•°å€¼ã€‚é»˜è®¤æ˜¯1ã€‚</li>
</ul>
<p>incrementæ–¹æ³•ä¼šè¿”å›å¢åŠ åçš„å€¼ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230907083036741.png" alt="image-20230907083036741"></p>
</li>
</ul>
</li>
<li>
<p>å®šåˆ¶åŒ–</p>
</li>
<li>
<ul>
<li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li>
<li>è‡ªå®šä¹‰ç»„ä»¶ï¼Œè‡ªå·±ç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª <code>StringRedisTemplate</code></li>
</ul>
</li>
</ul>
<h2 id="æ ¸å¿ƒæŠ€èƒ½">æ ¸å¿ƒæŠ€èƒ½</h2>
<h3 id="å¸¸ç”¨æ³¨è§£">å¸¸ç”¨æ³¨è§£</h3>
<ol>
<li>spring bootæ‘’å¼ƒäº†XMLé…ç½®æ–¹å¼ï¼Œæ”¹ä¸ºå…¨æ³¨è§£é©±åŠ¨</li>
</ol>
<h4 id="ç»„ä»¶æ³¨å†Œ">ç»„ä»¶æ³¨å†Œ</h4>
<ol>
<li>
<p><strong>@Configuration</strong>ã€<strong>@SpringBootConfiguration</strong></p>
<p><strong>@Bean</strong>ã€<strong>@Scope</strong></p>
<p><strong>@Controllerã€ @Serviceã€@Repositoryã€@Component</strong></p>
<p><strong>@Import</strong></p>
<p>@ComponentScan</p>
</li>
<li>
<p>ä¹‹å‰éƒ½æ˜¯åœ¨é…ç½®xmlæ–‡ä»¶ä¸­ï¼Œç°åœ¨å¯ä»¥ç”¨æ³¨è§£ç›´æ¥ä½¿ç”¨</p>
</li>
</ol>
<p>æ­¥éª¤ï¼š</p>
<p><strong>1ã€@Configuration ç¼–å†™ä¸€ä¸ªé…ç½®ç±»</strong></p>
<p><strong>2ã€åœ¨é…ç½®ç±»ä¸­ï¼Œè‡ªå®šä¹‰æ–¹æ³•ç»™å®¹å™¨ä¸­æ³¨å†Œç»„ä»¶ã€‚é…åˆ@Bean</strong></p>
<p><strong>3ã€æˆ–ä½¿ç”¨@Import å¯¼å…¥ç¬¬ä¸‰æ–¹çš„ç»„ä»¶</strong></p>
<h4 id="æ¡ä»¶æ³¨è§£">æ¡ä»¶æ³¨è§£</h4>
<ol>
<li>
<p>å¦‚æœæ³¨è§£æŒ‡å®šçš„<strong>æ¡ä»¶æˆç«‹</strong>ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</p>
<p><em><strong>@ConditionalOnXxx</strong></em></p>
<p><strong>@ConditionalOnClassï¼šå¦‚æœç±»è·¯å¾„ä¸­å­˜åœ¨è¿™ä¸ªç±»ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</strong></p>
<p><strong>@ConditionalOnMissingClassï¼šå¦‚æœç±»è·¯å¾„ä¸­ä¸å­˜åœ¨è¿™ä¸ªç±»ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</strong></p>
<p><strong>@ConditionalOnBeanï¼šå¦‚æœå®¹å™¨ä¸­å­˜åœ¨è¿™ä¸ªBeanï¼ˆç»„ä»¶ï¼‰ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</strong></p>
<p><strong>@ConditionalOnMissingBeanï¼šå¦‚æœå®¹å™¨ä¸­ä¸å­˜åœ¨è¿™ä¸ªBeanï¼ˆç»„ä»¶ï¼‰ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</strong></p>
<p>åœºæ™¯ï¼š</p>
<ul>
<li>
<p>å¦‚æœå­˜åœ¨<code>FastsqlException</code>è¿™ä¸ªç±»ï¼Œç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª<code>Cat</code>ç»„ä»¶ï¼Œåcat01ï¼Œ</p>
<ul>
<li>
<p>åœ¨@Beanæ³¨è§£çš„ä¸Šé¢ä½¿ç”¨@ConditionalOnClassæ³¨è§£å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConditionalOnMissingClass(value=&quot;com.alibaba.druid.FastsqlException&quot;)</span> <span class="comment">//æ”¾åœ¨ç±»çº§åˆ«ï¼Œå¦‚æœæ³¨è§£åˆ¤æ–­ç”Ÿæ•ˆï¼Œåˆ™æ•´ä¸ªé…ç½®ç±»æ‰ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ConditionalOnClass(name=&quot;com.alibaba.druid.FastsqlException&quot;)</span> <span class="comment">//æ”¾åœ¨æ–¹æ³•çº§åˆ«ï¼Œå•ç‹¬å¯¹è¿™ä¸ªæ–¹æ³•è¿›è¡Œæ³¨è§£åˆ¤æ–­ã€‚</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Cat <span class="title function_">cat01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>å¦åˆ™ï¼Œå°±ç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª<code>Dog</code>ç»„ä»¶ï¼Œådog01</p>
</li>
<li>
<p>å¦‚æœç³»ç»Ÿä¸­æœ‰<code>dog01</code>è¿™ä¸ªç»„ä»¶ï¼Œå°±ç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª Userç»„ä»¶ï¼Œåzhangsan</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConditionalOnBean(value = Dog.class)</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">zhangsan</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¦åˆ™ï¼Œå°±æ”¾ä¸€ä¸ªUserï¼Œåå«lisi</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConditionalOnMissingBean(value = Dog.class)</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">lisi</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>@ConditionalOnBeanï¼ˆvalue=ç»„ä»¶ç±»å‹ï¼Œname=ç»„ä»¶åå­—ï¼‰ï¼šåˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦æœ‰è¿™ä¸ªç±»å‹çš„ç»„ä»¶ï¼Œå¹¶ä¸”åå­—æ˜¯æŒ‡å®šçš„å€¼</strong></p>
</li>
</ol>
<h4 id="å±æ€§ç»‘å®š">å±æ€§ç»‘å®š</h4>
<ol>
<li>
<p><strong>@ConfigurationPropertiesï¼š å£°æ˜ç»„ä»¶çš„å±æ€§å’Œé…ç½®æ–‡ä»¶å“ªäº›å‰ç¼€å¼€å§‹é¡¹è¿›è¡Œç»‘å®š</strong></p>
<ol>
<li>è¿™æ ·é…ç½®ï¼Œå°±ä¼šåœ¨å®¹å™¨çš„propertiesæ–‡ä»¶ä¸­è¯»å–å‰ç¼€ä¸ºpigçš„å±æ€§å€¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;pig&quot;)</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pig</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pig.id</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">pig.name</span>=ä½©å¥‡</span><br><span class="line"><span class="attr">pig.age</span>=<span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨<strong>é…ç½®ç±»</strong>è¿›è¡Œå±æ€§ç»‘å®š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootConfiguration</span> <span class="comment">//è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œæ›¿ä»£ä»¥å‰çš„é…ç½®æ–‡ä»¶ã€‚é…ç½®ç±»æœ¬èº«ä¹Ÿæ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = &quot;pig&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Pig <span class="title function_">pig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pig</span>(); <span class="comment">//æˆ‘ä»¬è‡ªå·±newæ–°pig</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>@ConfigurationPropertiesæ³¨è§£å¯ä»¥ç”¨åœ¨æ–¹æ³•ä¸Šæˆ–ç±»ä¸Šï¼Œä¸Šé¢çš„ä»‹ç»æ˜¯ç”¨åœ¨äº†æ–¹æ³•ä¸Šï¼Œä¸‹é¢ä»‹ç»ç”¨åœ¨ç±»ä¸Šçš„å†™æ³•</p>
</li>
</ul>
<p><strong>@EnableConfigurationPropertiesï¼šå¿«é€Ÿæ³¨å†Œæ³¨è§£ï¼š</strong></p>
<ul>
<li>
<p><strong>ä¸»è¦ç”¨äºå¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼Œå› ä¸ºspring bootåªæ‰«ææ‰€åœ¨åŒ…ï¼Œæ‰€ä»¥ç¬¬ä¸‰æ–¹åŒ…å°±ç®—å†™äº†@Componentæ³¨è§£ä¹Ÿæ‰«æä¸åˆ°ï¼Œåªèƒ½ä½¿ç”¨è¿™ä¸ªæ³¨è§£è¿›è¡Œå¯¼å…¥å’Œå±æ€§ç»‘å®š</strong></p>
</li>
<li>
<p>è¿™ä¸ªæ³¨è§£ç›¸å½“äº@Importå’Œ@ConfigurationProperties</p>
</li>
<li>
<p>**åœºæ™¯ï¼š**SpringBooté»˜è®¤åªæ‰«æè‡ªå·±ä¸»ç¨‹åºæ‰€åœ¨çš„åŒ…ã€‚å¦‚æœå¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼Œå³ä½¿ç»„ä»¶ä¸Šæ ‡æ³¨äº† @Componentã€@ConfigurationProperties æ³¨è§£ï¼Œä¹Ÿæ²¡ç”¨ã€‚å› ä¸ºç»„ä»¶éƒ½æ‰«æä¸è¿›æ¥ï¼Œæ­¤æ—¶ä½¿ç”¨è¿™ä¸ªæ³¨è§£å°±å¯ä»¥å¿«é€Ÿè¿›è¡Œå±æ€§ç»‘å®šå¹¶æŠŠç»„ä»¶æ³¨å†Œè¿›å®¹å™¨</p>
</li>
<li>
<p>ä¹‹å‰éœ€è¦å†è¦åŠ å…¥çš„ç»„ä»¶çš„ç±»ä¸Šä½¿ç”¨@ConfigurationPropertieså’Œ@Componentæ³¨è§£ï¼Œè¿™é‡Œåªéœ€è¦å†™å‰è€…å°±è¡Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;sheep&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Sheep</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>é…ç½®æ–‡ä»¶ä¸­å†™</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sheep.id</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">sheep.name</span>=è‹è¥¿</span><br><span class="line"><span class="attr">sheep.age</span>=<span class="number">5</span>r</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ç„¶ååœ¨é…ç½®ç±»ä¸Šä½¿ç”¨@EnableConfigurationPropertiesæ³¨è§£å¯¼å…¥ç¬¬ä¸‰æ–¹å†™å¥½çš„ç»„ä»¶è¿›è¡Œå±æ€§é…ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1ã€å¼€å¯Sheepç»„ä»¶çš„å±æ€§ç»‘å®š</span></span><br><span class="line"><span class="comment"> * 2ã€é»˜è®¤ä¼šæŠŠè¿™ä¸ªç»„ä»¶è‡ªå·±æ”¾åˆ°å®¹å™¨ä¸­</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(Sheep.class)</span> <span class="comment">//å¯¼å…¥ç¬¬ä¸‰æ–¹å†™å¥½çš„ç»„ä»¶è¿›è¡Œå±æ€§ç»‘å®š</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span> <span class="comment">//è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œæ›¿ä»£ä»¥å‰çš„é…ç½®æ–‡ä»¶ã€‚é…ç½®ç±»æœ¬èº«ä¹Ÿæ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>å°†å®¹å™¨ä¸­ä»»æ„<strong>ç»„ä»¶ï¼ˆBeanï¼‰çš„å±æ€§å€¼</strong>å’Œ<strong>é…ç½®æ–‡ä»¶</strong>çš„é…ç½®é¡¹çš„å€¼<strong>è¿›è¡Œç»‘å®š</strong></p>
<ul>
<li><strong>1ã€ç»™å®¹å™¨ä¸­æ³¨å†Œç»„ä»¶ï¼ˆ@Componentã€@Beanï¼‰</strong></li>
<li><strong>2ã€ä½¿ç”¨</strong>**@ConfigurationProperties å£°æ˜ç»„ä»¶å’Œé…ç½®æ–‡ä»¶çš„å“ªäº›é…ç½®é¡¹è¿›è¡Œç»‘å®š**</li>
</ul>
</li>
</ol>
<h3 id="YAMLé…ç½®æ–‡ä»¶">YAMLé…ç½®æ–‡ä»¶</h3>
<p><strong>ç—›ç‚¹</strong>ï¼šSpringBoot é›†ä¸­åŒ–ç®¡ç†é…ç½®ï¼Œ<code>application.properties</code></p>
<p><strong>é—®é¢˜</strong>ï¼šé…ç½®å¤šä»¥åéš¾é˜…è¯»å’Œä¿®æ”¹ï¼Œ<strong>å±‚çº§ç»“æ„è¾¨è¯†åº¦ä¸é«˜</strong></p>
<p>YAML æ˜¯ â€œYAML Ainâ€™t a Markup Languageâ€ï¼ˆYAML ä¸æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰ã€‚åœ¨å¼€å‘çš„è¿™ç§è¯­è¨€æ—¶ï¼ŒYAML çš„æ„æ€å…¶å®æ˜¯ï¼šâ€œYet Another Markup Languageâ€ï¼ˆæ˜¯å¦ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰ã€‚</p>
<ul>
<li>è®¾è®¡ç›®æ ‡ï¼Œå°±æ˜¯<strong>æ–¹ä¾¿äººç±»è¯»å†™</strong></li>
<li><strong>å±‚æ¬¡åˆ†æ˜</strong>ï¼Œæ›´é€‚åˆåšé…ç½®æ–‡ä»¶</li>
<li>ä½¿ç”¨<code>.yaml</code>æˆ– <code>.yml</code>ä½œä¸ºæ–‡ä»¶åç¼€</li>
</ul>
<h4 id="åŸºæœ¬è¯­æ³•">åŸºæœ¬è¯­æ³•</h4>
<ul>
<li>
<p><strong>å¤§å°å†™æ•æ„Ÿ</strong></p>
</li>
<li>
<p>ä½¿ç”¨<strong>ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œk: vï¼Œä½¿ç”¨ç©ºæ ¼åˆ†å‰²k,v</strong></p>
</li>
<li>
<p>ç¼©è¿›æ—¶ä¸å…è®¸ä½¿ç”¨Tabé”®ï¼Œåªå…è®¸<strong>ä½¿ç”¨ç©ºæ ¼</strong>ã€‚æ¢è¡Œ</p>
</li>
<li>
<p>ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦<strong>ç›¸åŒå±‚çº§</strong>çš„å…ƒç´ <strong>å·¦ä¾§å¯¹é½</strong>å³å¯</p>
</li>
<li>
<p><strong># è¡¨ç¤ºæ³¨é‡Š</strong>ï¼Œä»è¿™ä¸ªå­—ç¬¦ä¸€ç›´åˆ°è¡Œå°¾ï¼Œéƒ½ä¼šè¢«è§£æå™¨å¿½ç•¥ã€‚</p>
</li>
<li>
<p>åœ¨propertiesä¸­ä½¿ç”¨&quot;.â€œï¼Œåœ¨ymlä¸­ä½¿ç”¨â€:&quot;å’Œç­‰é‡çš„ç¼©è¿›æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230907084708284.png" alt="image-20230907084708284"></p>
</li>
</ul>
<p>æ”¯æŒçš„å†™æ³•ï¼š</p>
<ul>
<li><strong>å¯¹è±¡</strong>ï¼š<strong>é”®å€¼å¯¹</strong>çš„é›†åˆï¼Œå¦‚ï¼šæ˜ å°„ï¼ˆmapï¼‰/ å“ˆå¸Œï¼ˆhashï¼‰ / å­—å…¸ï¼ˆdictionaryï¼‰</li>
<li><strong>æ•°ç»„</strong>ï¼šä¸€ç»„æŒ‰æ¬¡åºæ’åˆ—çš„å€¼ï¼Œå¦‚ï¼šåºåˆ—ï¼ˆsequenceï¼‰ / åˆ—è¡¨ï¼ˆlistï¼‰</li>
<li><strong>çº¯é‡</strong>ï¼šå•ä¸ªçš„ã€ä¸å¯å†åˆ†çš„å€¼ï¼Œå¦‚ï¼šå­—ç¬¦ä¸²ã€æ•°å­—ã€boolã€æ—¥æœŸ</li>
</ul>
<h4 id="ç¤ºä¾‹">ç¤ºä¾‹</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;person&quot;)</span> <span class="comment">//å’Œé…ç½®æ–‡ä»¶personå‰ç¼€çš„æ‰€æœ‰é…ç½®è¿›è¡Œç»‘å®š</span></span><br><span class="line"><span class="meta">@Data</span> <span class="comment">//è‡ªåŠ¨ç”ŸæˆJavaBeanå±æ€§çš„getter/setter</span></span><br><span class="line"><span class="comment">//@NoArgsConstructor //è‡ªåŠ¨ç”Ÿæˆæ— å‚æ„é€ å™¨</span></span><br><span class="line"><span class="comment">//@AllArgsConstructor //è‡ªåŠ¨ç”Ÿæˆå…¨å‚æ„é€ å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birthDay;</span><br><span class="line">    <span class="keyword">private</span> Boolean like;</span><br><span class="line">    <span class="keyword">private</span> Child child; <span class="comment">//åµŒå¥—å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Dog&gt; dogs; <span class="comment">//æ•°ç»„ï¼ˆé‡Œé¢æ˜¯å¯¹è±¡ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,Cat&gt; cats; <span class="comment">//è¡¨ç¤ºMap</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Child</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birthDay;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; text; <span class="comment">//æ•°ç»„</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>propertiesè¡¨ç¤ºæ³•</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">person.name</span>=<span class="string">å¼ ä¸‰</span></span><br><span class="line"><span class="attr">person.age</span>=<span class="string">18</span></span><br><span class="line"><span class="attr">person.birthDay</span>=<span class="string">2010/10/12 12:12:12</span></span><br><span class="line"><span class="attr">person.like</span>=<span class="string">true</span></span><br><span class="line"><span class="attr">person.child.name</span>=<span class="string">æå››</span></span><br><span class="line"><span class="attr">person.child.age</span>=<span class="string">12</span></span><br><span class="line"><span class="attr">person.child.birthDay</span>=<span class="string">2018/10/12</span></span><br><span class="line"><span class="attr">person.child.text[0]</span>=<span class="string">abc</span></span><br><span class="line"><span class="attr">person.child.text[1]</span>=<span class="string">def</span></span><br><span class="line"><span class="attr">person.dogs[0].name</span>=<span class="string">å°é»‘</span></span><br><span class="line"><span class="attr">person.dogs[0].age</span>=<span class="string">3</span></span><br><span class="line"><span class="attr">person.dogs[1].name</span>=<span class="string">å°ç™½</span></span><br><span class="line"><span class="attr">person.dogs[1].age</span>=<span class="string">2</span></span><br><span class="line"><span class="attr">person.cats.c1.name</span>=<span class="string">å°è“</span></span><br><span class="line"><span class="attr">person.cats.c1.age</span>=<span class="string">3</span></span><br><span class="line"><span class="attr">person.cats.c2.name</span>=<span class="string">å°ç°</span></span><br><span class="line"><span class="attr">person.cats.c2.age</span>=<span class="string">2</span></span><br></pre></td></tr></table></figure>
<p>yamlè¡¨ç¤ºæ³•</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">å¼ ä¸‰</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">18</span></span><br><span class="line">  <span class="attr">birthDay:</span> <span class="number">2010</span><span class="string">/10/10</span> <span class="number">12</span><span class="string">:12:12</span></span><br><span class="line">  <span class="attr">like:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">child:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">æå››</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">birthDay:</span> <span class="number">2018</span><span class="string">/10/10</span></span><br><span class="line"><span class="comment">#    text: [&quot;abc&quot;,&quot;def&quot;]</span></span><br><span class="line">    <span class="attr">text:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">abc</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">def</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">|</span></span><br><span class="line"><span class="string">        dogs:</span></span><br><span class="line"><span class="string">          - name: å°é»‘</span></span><br><span class="line"><span class="string">            age: 3</span></span><br><span class="line"><span class="string">          - name: å°ç™½</span></span><br><span class="line"><span class="string">            age: 2</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="string">&gt;</span></span><br><span class="line"><span class="string">        æ´»åŠ¨ç»“æŸçœ‹å¤§</span></span><br><span class="line"><span class="string">        å·èŠ‚è¯¾ç¬¬ä¸‰</span></span><br><span class="line"><span class="string">        å¸¦å›å®¶çœ‹</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="string">|</span></span><br><span class="line"><span class="string">        dhhdh</span></span><br><span class="line"><span class="string">        fjkdsl</span></span><br><span class="line"><span class="string">        gflkd</span></span><br><span class="line"><span class="string"></span>  <span class="attr">dogs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å°é»‘</span></span><br><span class="line">      <span class="attr">age:</span> <span class="number">3</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å°ç™½</span></span><br><span class="line">      <span class="attr">age:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">cats:</span></span><br><span class="line">    <span class="attr">c1:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">å°è“</span></span><br><span class="line">      <span class="attr">age:</span> <span class="number">3</span></span><br><span class="line">    <span class="attr">c2:</span> &#123;<span class="attr">name:</span> <span class="string">å°ç»¿</span>,<span class="attr">age:</span> <span class="number">2</span>&#125; <span class="comment">#å¯¹è±¡ä¹Ÿå¯ç”¨&#123;&#125;è¡¨ç¤º</span></span><br></pre></td></tr></table></figure>
<h4 id="ç»†èŠ‚">ç»†èŠ‚</h4>
<ul>
<li>
<p>birthDay æ¨èå†™ä¸º birth-day</p>
</li>
<li>
<p><strong>æ–‡æœ¬</strong>ï¼š</p>
</li>
<li>
<ul>
<li><strong>å•å¼•å·</strong>ä¸ä¼šè½¬ä¹‰ã€\n åˆ™ä¸ºæ™®é€šå­—ç¬¦ä¸²æ˜¾ç¤ºã€‘</li>
<li><strong>åŒå¼•å·</strong>ä¼šè½¬ä¹‰ã€\nä¼šæ˜¾ç¤ºä¸º<strong>æ¢è¡Œç¬¦</strong>ã€‘</li>
</ul>
</li>
<li>
<p><strong>å¤§æ–‡æœ¬</strong></p>
</li>
<li>
<ul>
<li><code>|</code>å¼€å¤´ï¼Œå¤§æ–‡æœ¬å†™åœ¨ä¸‹å±‚ï¼Œ<strong>ä¿ç•™æ–‡æœ¬æ ¼å¼</strong>ï¼Œ<strong>æ¢è¡Œç¬¦æ­£ç¡®æ˜¾ç¤º</strong></li>
<li><code>&gt;</code>å¼€å¤´ï¼Œå¤§æ–‡æœ¬å†™åœ¨ä¸‹å±‚ï¼ŒæŠ˜å æ¢è¡Œç¬¦</li>
</ul>
</li>
<li>
<p><strong>å¤šæ–‡æ¡£åˆå¹¶</strong></p>
</li>
<li>
<ul>
<li>ä½¿ç”¨<code>---</code>å¯ä»¥æŠŠå¤šä¸ªyamlæ–‡æ¡£åˆå¹¶åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­ï¼Œæ¯ä¸ªæ–‡æ¡£åŒºä¾ç„¶è®¤ä¸ºå†…å®¹ç‹¬ç«‹</li>
</ul>
</li>
</ul>
<h4 id="å°æŠ€å·§ï¼šlombok">å°æŠ€å·§ï¼šlombok</h4>
<p>è¿™ä¸ªæ’ä»¶åªåœ¨ç¼–è¯‘æ—¶æœ‰æ•ˆ</p>
<p>ç®€åŒ–JavaBean å¼€å‘ã€‚è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨ã€getter/setterã€è‡ªåŠ¨ç”ŸæˆBuilderæ¨¡å¼ç­‰</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>@Data</code>ç­‰æ³¨è§£</p>
<p>è¿˜æœ‰ç±»ä¼¼çš„æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@NoArgsConstructor //è‡ªåŠ¨ç”Ÿæˆæ— å‚æ„é€ å™¨</span></span><br><span class="line"><span class="comment">//@AllArgsConstructor //è‡ªåŠ¨ç”Ÿæˆå…¨å‚æ„é€ å™¨</span></span><br></pre></td></tr></table></figure>
<h3 id="æ—¥å¿—é…ç½®">æ—¥å¿—é…ç½®</h3>
<p>è§„èŒƒï¼šé¡¹ç›®å¼€å‘ä¸è¦ç¼–å†™<code>System.out.println()</code>ï¼Œåº”è¯¥ç”¨<strong>æ—¥å¿—</strong>è®°å½•ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image.png" alt="image"></p>
<p>é—¨é¢å°±æ˜¯æ¥å£ï¼Œç±»ä¼¼äºJDBCçš„ä½œç”¨ï¼Œè€Œæ—¥å¿—å®ç°å°±æ˜¯å…·ä½“çš„è®°å½•æ–¹å¼ï¼Œç±»ä¼¼äºmysqlã€orcal</p>
<h4 id="ç®€ä»‹">ç®€ä»‹</h4>
<ol>
<li>
<p>Springä½¿ç”¨commons-loggingä½œä¸ºå†…éƒ¨æ—¥å¿—ï¼Œä½†åº•å±‚æ—¥å¿—å®ç°æ˜¯å¼€æ”¾çš„ã€‚å¯å¯¹æ¥å…¶ä»–æ—¥å¿—æ¡†æ¶ã€‚</p>
</li>
<li>
<ol>
<li>spring5åŠä»¥å commons-loggingè¢«springç›´æ¥è‡ªå·±å†™äº†ã€‚</li>
</ol>
</li>
<li>
<p>æ”¯æŒ julï¼Œlog4j2,logbackã€‚SpringBoot æä¾›äº†é»˜è®¤çš„æ§åˆ¶å°è¾“å‡ºé…ç½®ï¼Œä¹Ÿå¯ä»¥é…ç½®è¾“å‡ºä¸ºæ–‡ä»¶ã€‚</p>
</li>
<li>
<p>logbackæ˜¯é»˜è®¤ä½¿ç”¨çš„ã€‚</p>
</li>
<li>
<p>è™½ç„¶<strong>æ—¥å¿—æ¡†æ¶å¾ˆå¤š</strong>ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ç”¨æ‹…å¿ƒï¼Œä½¿ç”¨ SpringBoot çš„<strong>é»˜è®¤é…ç½®å°±èƒ½å·¥ä½œçš„å¾ˆå¥½</strong>ã€‚</p>
</li>
</ol>
<p><strong>SpringBootæ€ä¹ˆæŠŠæ—¥å¿—é»˜è®¤é…ç½®å¥½çš„</strong></p>
<p>1ã€æ¯ä¸ª<code>starter</code>åœºæ™¯ï¼Œéƒ½ä¼šå¯¼å…¥ä¸€ä¸ªæ ¸å¿ƒåœºæ™¯<code>spring-boot-starter</code></p>
<p>2ã€æ ¸å¿ƒåœºæ™¯å¼•å…¥äº†æ—¥å¿—çš„æ‰€ç”¨åŠŸèƒ½<code>spring-boot-starter-logging</code></p>
<p>3ã€é»˜è®¤ä½¿ç”¨äº†<code>**logback + slf4j**</code> ç»„åˆä½œä¸ºé»˜è®¤åº•å±‚æ—¥å¿—</p>
<p>â€‹	åŒæ—¶ä¹Ÿå¯¼å…¥äº†å…¶ä»–æ—¥å¿—æ¡†æ¶å¯¹è¿™ä¸¤ä¸ªæ¡†æ¶çš„é€‚é…</p>
<p>4ã€<code>æ—¥å¿—æ˜¯ç³»ç»Ÿï¼ˆSpringBootï¼‰ä¸€å¯åŠ¨å°±è¦ç”¨</code>ï¼Œ<code>xxxAutoConfiguration</code>æ˜¯ç³»ç»Ÿå¯åŠ¨å¥½äº†ä»¥åæ”¾å¥½çš„ç»„ä»¶ï¼Œåæ¥ç”¨çš„ã€‚</p>
<p>5ã€æ—¥å¿—æ˜¯åˆ©ç”¨<strong>ç›‘å¬å™¨æœºåˆ¶</strong>é…ç½®å¥½çš„ã€‚<code>ApplicationListener</code>ã€‚</p>
<p>6ã€æ—¥å¿—æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶å®ç°ã€‚ä»¥<code>logging</code>å¼€å§‹çš„æ‰€æœ‰é…ç½®ã€‚</p>
<h4 id="æ—¥å¿—æ ¼å¼">æ—¥å¿—æ ¼å¼</h4>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">2023</span>-<span class="number">03</span>-<span class="number">31</span>T13:<span class="number">56</span>:<span class="number">17</span>.<span class="number">511</span>+<span class="number">08</span>:<span class="number">00</span>  INFO <span class="number">4944</span> ---<span class="meta"> [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span></span><br><span class="line"><span class="attribute">2023</span>-<span class="number">03</span>-<span class="number">31</span>T13:<span class="number">56</span>:<span class="number">17</span>.<span class="number">511</span>+<span class="number">08</span>:<span class="number">00</span>  INFO <span class="number">4944</span> ---<span class="meta"> [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]</span></span><br></pre></td></tr></table></figure>
<p>é»˜è®¤è¾“å‡ºæ ¼å¼ï¼š</p>
<ul>
<li>æ—¶é—´å’Œæ—¥æœŸï¼šæ¯«ç§’çº§ç²¾åº¦</li>
<li>æ—¥å¿—çº§åˆ«ï¼šERROR, WARN, INFO, DEBUG, or TRACE.</li>
<li>è¿›ç¨‹ ID</li>
<li>â€”ï¼š æ¶ˆæ¯åˆ†å‰²ç¬¦</li>
<li>çº¿ç¨‹åï¼š ä½¿ç”¨[]åŒ…å«</li>
<li>Logger åï¼š é€šå¸¸æ˜¯äº§ç”Ÿæ—¥å¿—çš„<strong>ç±»å</strong></li>
<li>æ¶ˆæ¯ï¼š æ—¥å¿—è®°å½•çš„å†…å®¹</li>
</ul>
<p>æ³¨æ„ï¼š logback æ²¡æœ‰FATALçº§åˆ«ï¼Œå¯¹åº”çš„æ˜¯ERROR</p>
<p>é»˜è®¤å€¼ï¼šå‚ç…§ï¼š<code>spring-boot</code>åŒ…<code>additional-spring-configuration-metadata.json</code>æ–‡ä»¶</p>
<p>é»˜è®¤è¾“å‡ºæ ¼å¼å€¼ï¼š<code>%clr(%d&#123;$&#123;LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd'T'HH:mm:ss.SSSXXX&#125;&#125;)&#123;faint&#125; %clr($&#123;LOG_LEVEL_PATTERN:-%5p&#125;) %clr($&#123;PID:- &#125;)&#123;magenta&#125; %clr(---)&#123;faint&#125; %clr([%15.15t])&#123;faint&#125; %clr(%-40.40logger&#123;39&#125;)&#123;cyan&#125; %clr(:)&#123;faint&#125; %m%n$&#123;LOG_EXCEPTION_CONVERSION_WORD:-%wEx&#125;</code></p>
<p>é»˜è®¤å€¼å­˜å‚¨åœ¨spring bootæ ¸å¿ƒåŒ…ä¸­</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230907152226390.png" alt="image-20230907152226390"></p>
<p>å¯ä¿®æ”¹ä¸ºï¼š<code>'%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %-5level [%thread] %logger&#123;15&#125; ===&gt; %msg%n'</code></p>
<p>åœ¨é…ç½®æ–‡ä»¶(application.propertiese)ä¸­å¯ä»¥æ›´æ”¹æ ¼å¼</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#logging.pattern.console=%d&#123;yyyy-MM-dd HH:mm:ss&#125; %-5level [%thread] %logger&#123;15&#125; ===&gt; %msg%n</span><br><span class="line">logging.pattern.dateformat=yyyy-MM-dd HH:mm:ss.SSS</span><br><span class="line">#2023-03-31 13:59:58 INFO  [main] o.s.b.w.e.t.TomcatWebServer ===&gt; Tomcat initialized with port(s): 8080 (http)</span><br><span class="line"></span><br><span class="line">#é»˜è®¤æ‰€æœ‰æ—¥å¿—æ²¡æœ‰ç²¾ç¡®æŒ‡å®šçº§åˆ«å°±ä½¿ç”¨rootçš„é»˜è®¤çº§åˆ«</span><br><span class="line">#logging.level.root=info</span><br><span class="line"></span><br><span class="line">#ç²¾ç¡®è°ƒæ•´æŸä¸ªåŒ…ä¸‹çš„æ—¥å¿—çº§åˆ«</span><br><span class="line">#logging.level.com.atguigu.logging.controller=debug</span><br><span class="line">#logging.level.com.atguigu.logging.service=debug</span><br><span class="line">#logging.level.com.aaa=debug</span><br><span class="line">#logging.level.com.bbb=debug</span><br><span class="line"></span><br><span class="line">logging.group.abc=com.atguigu.logging.controller,com.atguigu.logging.service,com.aaa,com.bbb</span><br><span class="line"></span><br><span class="line">logging.level.abc=debug</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">logging.level.sql=debug</span><br></pre></td></tr></table></figure>
<h4 id="è®°å½•æ—¥å¿—">è®°å½•æ—¥å¿—</h4>
<p>æ ¹æ®æ¥æ”¶ä¸åŒçš„æŒ‡ä»¤æ¥è®°å½•ä¸åŒçš„æ—¥å¿—ï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹æ³•è®°å½•ä¸åŒç­‰çº§çš„æ—¥å¿—</p>
<p>é»˜è®¤çº§åˆ«æ˜¯infoï¼Œæ‰€ä»¥åªä¼šæ‰“å°infoå’Œæ›´é«˜çº§åˆ«çš„æ—¥å¿—</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"><span class="comment">//    Logger logger = LoggerFactory.getLogger(getClass());</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/h/**&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(String a,String b)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            log.trace(<span class="string">&quot;trace æ—¥å¿—.....&quot;</span>);</span><br><span class="line">            log.debug(<span class="string">&quot;debug æ—¥å¿—.....&quot;</span>);</span><br><span class="line">            <span class="comment">//SpringBootåº•å±‚é»˜è®¤çš„æ—¥å¿—çº§åˆ« info</span></span><br><span class="line">            log.info(<span class="string">&quot;info æ—¥å¿—..... å‚æ•°a:&#123;&#125; b:&#123;&#125;&quot;</span>,a,b);</span><br><span class="line">            log.warn(<span class="string">&quot;warn æ—¥å¿—...&quot;</span>);</span><br><span class="line">            log.error(<span class="string">&quot;error æ—¥å¿—...&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ—¥å¿—å¹¶ä¸æ˜¯ä½¿ç”¨System.out.println();ï¼Œè€Œæ˜¯ä¸Šé¢æ¼”ç¤ºçš„é‚£æ ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(getClass());</span><br><span class="line"></span><br><span class="line">æˆ–è€…ä½¿ç”¨Lombokçš„<span class="meta">@Slf4j</span>æ³¨è§£</span><br></pre></td></tr></table></figure>
<h4 id="æ—¥å¿—çº§åˆ«">æ—¥å¿—çº§åˆ«</h4>
<ul>
<li>
<p>ç”±ä½åˆ°é«˜ï¼š<code>ALL,TRACE, DEBUG, INFO, WARN, ERROR,FATAL,OFF</code>ï¼›</p>
</li>
<li>
<ul>
<li><strong>åªä¼šæ‰“å°æŒ‡å®šçº§åˆ«åŠä»¥ä¸Šçº§åˆ«çš„æ—¥å¿—</strong></li>
<li>ALLï¼šæ‰“å°æ‰€æœ‰æ—¥å¿—</li>
<li>TRACEï¼šè¿½è¸ªæ¡†æ¶è¯¦ç»†æµç¨‹æ—¥å¿—ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨</li>
<li>DEBUGï¼šå¼€å‘è°ƒè¯•ç»†èŠ‚æ—¥å¿—</li>
<li>INFOï¼šå…³é”®ã€æ„Ÿå…´è¶£ä¿¡æ¯æ—¥å¿—</li>
<li>WARNï¼šè­¦å‘Šä½†ä¸æ˜¯é”™è¯¯çš„ä¿¡æ¯æ—¥å¿—ï¼Œæ¯”å¦‚ï¼šç‰ˆæœ¬è¿‡æ—¶</li>
<li>ERRORï¼šä¸šåŠ¡é”™è¯¯æ—¥å¿—ï¼Œæ¯”å¦‚å‡ºç°å„ç§å¼‚å¸¸</li>
<li>FATALï¼šè‡´å‘½é”™è¯¯æ—¥å¿—ï¼Œæ¯”å¦‚jvmç³»ç»Ÿå´©æºƒ</li>
<li>OFFï¼šå…³é—­æ‰€æœ‰æ—¥å¿—è®°å½•</li>
</ul>
</li>
<li>
<p>ä¸æŒ‡å®šçº§åˆ«çš„æ‰€æœ‰ç±»ï¼Œéƒ½ä½¿ç”¨rootæŒ‡å®šçš„çº§åˆ«ä½œä¸ºé»˜è®¤çº§åˆ«</p>
</li>
<li>
<p>SpringBootæ—¥å¿—<strong>é»˜è®¤çº§åˆ«æ˜¯</strong> <strong>INFO</strong></p>
</li>
</ul>
<p>â€‹	åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨logging.level.root=infoå¯ä»¥è°ƒæ•´æ—¥å¿—çº§åˆ«</p>
<ol>
<li>åœ¨application.properties/yamlä¸­é…ç½®logging.level.<logger-name>=<level>æŒ‡å®šæ—¥å¿—çº§åˆ«</li>
<li>levelå¯å–å€¼èŒƒå›´ï¼š<code>TRACE, DEBUG, INFO, WARN, ERROR, FATAL, or OFF</code>ï¼Œå®šä¹‰åœ¨ <code>LogLevel</code>ç±»ä¸­</li>
<li>root çš„logger-nameå«rootï¼Œå¯ä»¥é…ç½®logging.level.root=warnï¼Œä»£è¡¨æ‰€æœ‰æœªæŒ‡å®šæ—¥å¿—çº§åˆ«éƒ½ä½¿ç”¨ root çš„ warn çº§åˆ«</li>
</ol>
<h4 id="æ—¥å¿—åˆ†ç»„">æ—¥å¿—åˆ†ç»„</h4>
<p>æ¯”è¾ƒæœ‰ç”¨çš„æŠ€å·§æ˜¯ï¼š</p>
<p>å°†ç›¸å…³çš„loggeråˆ†ç»„åœ¨ä¸€èµ·ï¼Œç»Ÿä¸€é…ç½®ã€‚SpringBoot ä¹Ÿæ”¯æŒã€‚æ¯”å¦‚ï¼šTomcat ç›¸å…³çš„æ—¥å¿—ç»Ÿä¸€è®¾ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">logging.group.tomcat=org.apache.catalina,org.apache.coyote,org.apache.tomcat</span><br><span class="line">logging.level.tomcat=trace</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥åˆ†åˆ«é…ç½®æŸä¸ªåŒ…çš„æ—¥å¿—çº§åˆ«</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#ç²¾ç¡®è°ƒæ•´æŸä¸ªåŒ…ä¸‹çš„æ—¥å¿—çº§åˆ«</span><br><span class="line"><span class="selector-id">#logging</span><span class="selector-class">.level</span><span class="selector-class">.com</span><span class="selector-class">.atguigu</span><span class="selector-class">.logging</span>.controller=debug</span><br><span class="line"><span class="selector-id">#logging</span><span class="selector-class">.level</span><span class="selector-class">.com</span><span class="selector-class">.atguigu</span><span class="selector-class">.logging</span>.service=debug</span><br><span class="line"><span class="selector-id">#logging</span><span class="selector-class">.level</span><span class="selector-class">.com</span>.aaa=debug</span><br><span class="line"><span class="selector-id">#logging</span><span class="selector-class">.level</span><span class="selector-class">.com</span>.bbb=debug</span><br></pre></td></tr></table></figure>
<p>SpringBoot é¢„å®šä¹‰ä¸¤ä¸ªç»„</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Loggers</th>
</tr>
</thead>
<tbody>
<tr>
<td>web</td>
<td>org.springframework.core.codec, org.springframework.http, <a target="_blank" rel="noopener" href="http://org.springframework.web">org.springframework.web</a>, <a target="_blank" rel="noopener" href="http://org.springframework.boot.actuate.endpoint.web">org.springframework.boot.actuate.endpoint.web</a>, org.springframework.boot.web.servlet.ServletContextInitializerBeans</td>
</tr>
<tr>
<td>sql</td>
<td>org.springframework.jdbc.core, org.hibernate.SQL, org.jooq.tools.LoggerListener</td>
</tr>
</tbody>
</table>
<h4 id="æ–‡ä»¶è¾“å‡º">æ–‡ä»¶è¾“å‡º</h4>
<p>SpringBoot é»˜è®¤åªæŠŠæ—¥å¿—å†™åœ¨æ§åˆ¶å°ï¼Œå¦‚æœæƒ³é¢å¤–è®°å½•åˆ°æ–‡ä»¶ï¼Œ<a target="_blank" rel="noopener" href="http://xn--application-2u0r773cbuk.xn--propertieslogging-4g60al23dy78j.file.name">å¯ä»¥åœ¨application.propertiesä¸­æ·»åŠ logging.file.name</a> or logging.file.pathé…ç½®é¡¹ã€‚</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„è·¯å¾„, æ—¥å¿—æ–‡ä»¶é»˜è®¤åå« spring.log</span></span><br><span class="line"><span class="comment">#logging.file.path=D:\\</span></span><br><span class="line"><span class="comment">#æŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„åï¼š filename å’Œ pathçš„é…ç½®åŒæ—¶å­˜åœ¨åªçœ‹filename</span></span><br><span class="line"><span class="comment"># 1ã€åªå†™åå­—ï¼š å°±ç”Ÿæˆåˆ°å½“å‰é¡¹ç›®åŒä½ç½®çš„ my.log</span></span><br><span class="line"><span class="comment"># 2ã€å†™åå­—+è·¯å¾„ï¼šç”Ÿæˆåˆ°æŒ‡å®šä½ç½®çš„æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line"><span class="attr">logging.file.name</span>=<span class="string">my.log</span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="http://xn--pathnamelog-z18qomo3ff65awvl2ms3q1ax5dwupus6kyftd.info">åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®špathæˆ–nameä¹‹ålog.info</a>()ç­‰æ–¹æ³•å°±ä¼šç›´æ¥å°†æ—¥å¿—å†™åœ¨æ–‡ä»¶ä¸­</p>
<table>
<thead>
<tr>
<th><a target="_blank" rel="noopener" href="http://logging.file.name">logging.file.name</a></th>
<th>logging.file.path</th>
<th>ç¤ºä¾‹</th>
<th>æ•ˆæœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>æœªæŒ‡å®š</td>
<td>æœªæŒ‡å®š</td>
<td></td>
<td>ä»…æ§åˆ¶å°è¾“å‡º</td>
</tr>
<tr>
<td><strong>æŒ‡å®š</strong></td>
<td>æœªæŒ‡å®š</td>
<td>my.log</td>
<td>å†™å…¥æŒ‡å®šæ–‡ä»¶ã€‚å¯ä»¥åŠ è·¯å¾„</td>
</tr>
<tr>
<td>æœªæŒ‡å®š</td>
<td><strong>æŒ‡å®š</strong></td>
<td>/var/log</td>
<td>å†™å…¥æŒ‡å®šç›®å½•ï¼Œæ–‡ä»¶åä¸ºspring.log</td>
</tr>
<tr>
<td><strong>æŒ‡å®š</strong></td>
<td><strong>æŒ‡å®š</strong></td>
<td></td>
<td>ä»¥logging.file.nameä¸ºå‡†</td>
</tr>
</tbody>
</table>
<h4 id="æ–‡ä»¶å½’æ¡£ä¸æ–‡ä»¶åˆ‡å‰²">æ–‡ä»¶å½’æ¡£ä¸æ–‡ä»¶åˆ‡å‰²</h4>
<p>å½’æ¡£ï¼šæ¯å¤©çš„æ—¥å¿—å•ç‹¬å­˜åˆ°ä¸€ä¸ªæ–‡æ¡£ä¸­ã€‚</p>
<p>åˆ‡å‰²ï¼šæ¯ä¸ªæ–‡ä»¶10MBï¼Œè¶…è¿‡å¤§å°åˆ‡å‰²æˆå¦å¤–ä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<ol>
<li>æ¯å¤©çš„æ—¥å¿—åº”è¯¥ç‹¬ç«‹åˆ†å‰²å‡ºæ¥å­˜æ¡£ã€‚å¦‚æœä½¿ç”¨logbackï¼ˆSpringBoot é»˜è®¤æ•´åˆï¼‰ï¼Œå¯ä»¥é€šè¿‡application.properties/yamlæ–‡ä»¶æŒ‡å®šæ—¥å¿—æ»šåŠ¨è§„åˆ™ã€‚</li>
<li>å¦‚æœæ˜¯å…¶ä»–æ—¥å¿—ç³»ç»Ÿï¼Œéœ€è¦è‡ªè¡Œé…ç½®ï¼ˆæ·»åŠ log4j2.xmlæˆ–log4j2-spring.xmlï¼‰</li>
<li>æ”¯æŒçš„æ»šåŠ¨è§„åˆ™è®¾ç½®å¦‚ä¸‹</li>
</ol>
<table>
<thead>
<tr>
<th>é…ç½®é¡¹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>logging.logback.rollingpolicy.file-name-pattern</td>
<td>æ—¥å¿—å­˜æ¡£çš„æ–‡ä»¶åæ ¼å¼ï¼ˆé»˜è®¤å€¼ï¼š${LOG_FILE}.%d{yyyy-MM-dd}.%i.gzï¼‰</td>
</tr>
<tr>
<td>logging.logback.rollingpolicy.clean-history-on-start</td>
<td>åº”ç”¨å¯åŠ¨æ—¶æ˜¯å¦æ¸…é™¤ä»¥å‰å­˜æ¡£ï¼ˆé»˜è®¤å€¼ï¼šfalseï¼‰</td>
</tr>
<tr>
<td>logging.logback.rollingpolicy.max-file-size</td>
<td>å­˜æ¡£å‰ï¼Œæ¯ä¸ªæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°ï¼ˆé»˜è®¤å€¼ï¼š10MBï¼‰</td>
</tr>
<tr>
<td>logging.logback.rollingpolicy.total-size-cap</td>
<td>æ—¥å¿—æ–‡ä»¶è¢«åˆ é™¤ä¹‹å‰ï¼Œå¯ä»¥å®¹çº³çš„æœ€å¤§å¤§å°ï¼ˆé»˜è®¤å€¼ï¼š0Bï¼‰ã€‚è®¾ç½®1GBåˆ™ç£ç›˜å­˜å‚¨è¶…è¿‡ 1GB æ—¥å¿—åå°±ä¼šåˆ é™¤æ—§æ—¥å¿—æ–‡ä»¶</td>
</tr>
<tr>
<td>logging.logback.rollingpolicy.max-history</td>
<td>æ—¥å¿—æ–‡ä»¶ä¿å­˜çš„æœ€å¤§å¤©æ•°(é»˜è®¤å€¼ï¼š7).</td>
</tr>
</tbody>
</table>
<p>é…ç½®æ–‡ä»¶å†™æ³•</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å½’æ¡£ã€åˆ‡å‰²</span></span><br><span class="line"><span class="comment">#%iæ˜¯å½“å¤©çš„ç¬¬å‡ ä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="attr">logging.logback.rollingpolicy.file-name-pattern</span>=<span class="string">$&#123;LOG_FILE&#125;.%d&#123;yyyy-MM-dd&#125;.%i.gz</span></span><br><span class="line"><span class="attr">logging.logback.rollingpolicy.max-file-size</span>=<span class="string">1MB</span></span><br></pre></td></tr></table></figure>
<h4 id="è‡ªå®šä¹‰é…ç½®">è‡ªå®šä¹‰é…ç½®</h4>
<p>é€šå¸¸æˆ‘ä»¬é…ç½® application.properties å°±å¤Ÿäº†ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚æ¯”å¦‚ï¼š</p>
<table>
<thead>
<tr>
<th>æ—¥å¿—ç³»ç»Ÿ</th>
<th>è‡ªå®šä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>Logback</td>
<td>logback-spring.xml, logback-spring.groovy, logback.xml, or logback.groovy</td>
</tr>
<tr>
<td>Log4j2</td>
<td>log4j2-spring.xml or log4j2.xml</td>
</tr>
<tr>
<td>JDK (Java Util Logging)</td>
<td>logging.properties</td>
</tr>
</tbody>
</table>
<p><strong>åœ¨æŒ‡å®šçš„æ–‡ä»¶åçš„æ–‡ä»¶ä¸­é…ç½®ä¹Ÿå¯ä»¥è¿›è¡Œé…ç½®</strong></p>
<p>å¦‚æœå¯èƒ½ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨åœ¨æ—¥å¿—é…ç½®ä¸­ä½¿ç”¨<code>-spring</code> å˜é‡ï¼ˆä¾‹å¦‚ï¼Œ<code>logback-spring.xml</code> è€Œä¸æ˜¯ <code>logback.xml</code>ï¼‰ã€‚å¦‚æœæ‚¨ä½¿ç”¨æ ‡å‡†é…ç½®æ–‡ä»¶ï¼Œspring æ— æ³•å®Œå…¨æ§åˆ¶æ—¥å¿—åˆå§‹åŒ–ã€‚</p>
<p>æœ€ä½³å®æˆ˜ï¼šè‡ªå·±è¦å†™é…ç½®ï¼Œé…ç½®æ–‡ä»¶ååŠ ä¸Š <code>xx-spring.xml</code></p>
<h4 id="åˆ‡æ¢æ—¥å¿—ç»„åˆ">åˆ‡æ¢æ—¥å¿—ç»„åˆ</h4>
<p>ä¸æƒ³ç”¨é»˜è®¤çš„æ—¥å¿—ç³»ç»Ÿï¼Œå¯ä»¥åœ¨pomæ–‡ä»¶ä¸­å£°æ˜ä¸è¦é»˜è®¤çš„æ—¥å¿—ç³»ç»Ÿï¼Œç„¶ååœ¨æŒ‡å®šæƒ³è¦çš„æ—¥å¿—ç³»ç»Ÿä¸‹é¢æ¼”ç¤ºå°†loggingæ›¿æ¢ä¸ºlog4j2</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-log4j2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>log4j2æ”¯æŒyamlå’Œjsonæ ¼å¼çš„é…ç½®æ–‡ä»¶</p>
<table>
<thead>
<tr>
<th>æ ¼å¼</th>
<th>ä¾èµ–</th>
<th>æ–‡ä»¶å</th>
</tr>
</thead>
<tbody>
<tr>
<td>YAML</td>
<td>com.fasterxml.jackson.core:jackson-databind + com.fasterxml.jackson.dataformat:jackson-dataformat-yaml</td>
<td>log4j2.yaml + log4j2.yml</td>
</tr>
<tr>
<td>JSON</td>
<td>com.fasterxml.jackson.core:jackson-databind</td>
<td>log4j2.json + log4j2.jsn</td>
</tr>
</tbody>
</table>
<h4 id="æœ€ä½³å®æˆ˜">æœ€ä½³å®æˆ˜</h4>
<p>1å¯¼å…¥ä»»ä½•ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œå…ˆæ’é™¤å®ƒçš„æ—¥å¿—åŒ…ï¼Œå› ä¸ºBootåº•å±‚æ§åˆ¶å¥½äº†æ—¥å¿—<br>
2ä¿®æ”¹ application.properties é…ç½®æ–‡ä»¶ï¼Œå°±å¯ä»¥è°ƒæ•´æ—¥å¿—çš„æ‰€æœ‰è¡Œä¸ºã€‚å¦‚æœä¸å¤Ÿï¼Œå¯ä»¥ç¼–å†™æ—¥å¿—æ¡†æ¶è‡ªå·±çš„é…ç½®æ–‡ä»¶æ”¾åœ¨ç±»è·¯å¾„ä¸‹å°±è¡Œï¼Œæ¯”å¦‚logback-spring.xmlï¼Œlog4j2-spring.xml<br>
3å¦‚éœ€å¯¹æ¥ä¸“ä¸šæ—¥å¿—ç³»ç»Ÿï¼Œä¹Ÿåªéœ€è¦æŠŠ logback è®°å½•çš„æ—¥å¿—çŒå€’ kafkaä¹‹ç±»çš„ä¸­é—´ä»¶ï¼Œè¿™å’ŒSpringBootæ²¡å…³ç³»ï¼Œéƒ½æ˜¯æ—¥å¿—æ¡†æ¶è‡ªå·±çš„é…ç½®ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯<br>
<strong>4</strong>ä¸šåŠ¡ä¸­ä½¿ç”¨slf4j-apiè®°å½•æ—¥å¿—ã€‚ä¸è¦å† sout äº†</p>
<h1>Webå¼€å‘</h1>
<p>SpringBootçš„Webå¼€å‘èƒ½åŠ›ï¼Œç”±<strong>SpringMVC</strong>æä¾›ã€‚</p>
<h2 id="WebMvcAutoConfigurationç±»åŸç†">WebMvcAutoConfigurationç±»åŸç†</h2>
<h3 id="ç”Ÿæ•ˆæ¡ä»¶">ç”Ÿæ•ˆæ¡ä»¶</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AutoConfiguration(after = &#123; DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class,</span></span><br><span class="line"><span class="meta">		ValidationAutoConfiguration.class &#125;)</span> <span class="comment">//åœ¨è¿™äº›è‡ªåŠ¨é…ç½®ä¹‹å,åœ¨è¿›è¡Œ@AutoConfigurationçš„é…ç½®</span></span><br><span class="line"><span class="meta">@ConditionalOnWebApplication(type = Type.SERVLET)</span> <span class="comment">//å¦‚æœæ˜¯webåº”ç”¨å°±ç”Ÿæ•ˆï¼Œè¿™é‡ŒæŒ‡æ˜ç±»å‹å¿…é¡»æ˜¯SERVLETï¼Œè¿˜æœ‰ä¸€äº›ç±»å‹ï¼šREACTIVE å“åº”å¼web</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123; Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class &#125;)</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)</span> <span class="comment">//å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªBeanï¼Œè¿™ä¸ªé…ç½®æ‰ç”Ÿæ•ˆã€‚</span></span><br><span class="line"><span class="meta">@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)</span><span class="comment">//ä¼˜å…ˆçº§</span></span><br><span class="line"><span class="meta">@ImportRuntimeHints(WebResourcesRuntimeHints.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcAutoConfiguration</span> &#123; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ•ˆæœ">æ•ˆæœ</h3>
<ol>
<li>
<p>æ”¾äº†ä¸¤ä¸ªFilterï¼š</p>
<ol>
<li>
<p>HiddenHttpMethodFilter`ï¼›é¡µé¢è¡¨å•æäº¤Restè¯·æ±‚ï¼ˆGETã€POSTã€PUTã€DELETEï¼‰</p>
<ol>
<li>
<p>è¡¨å•é»˜è®¤åªæœ‰GETã€POSTï¼Œä½†æ˜¯åŠ äº†è¿™ä¸ªFilterä¹‹åå°±å¯ä»¥æäº¤Restè¯·æ±‚</p>
</li>
<li>
<p><code>FormContentFilter</code>ï¼š è¡¨å•å†…å®¹Filterï¼ŒGETï¼ˆæ•°æ®æ”¾URLåé¢ï¼‰ã€POSTï¼ˆæ•°æ®æ”¾è¯·æ±‚ä½“ï¼‰è¯·æ±‚å¯ä»¥æºå¸¦æ•°æ®ï¼ŒPUTã€DELETE çš„è¯·æ±‚ä½“æ•°æ®ä¼šè¢«å¿½ç•¥ï¼Œä½†æ˜¯åŠ äº†è¿™ä¸ªFilterä¹‹åå°±ä¸ä¼šè¢«å¿½ç•¥</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>ç»™å®¹å™¨ä¸­æ”¾äº†<code>WebMvcConfigurerï¼ˆè¿™æ˜¯æ¥å£ï¼‰</code>ç»„ä»¶ï¼›ç»™SpringMVCæ·»åŠ å„ç§å®šåˆ¶åŠŸèƒ½</p>
<ol>
<li>
<p>æ‰€æœ‰çš„åŠŸèƒ½æœ€ç»ˆä¼šå’Œé…ç½®æ–‡ä»¶è¿›è¡Œç»‘å®š</p>
<ol>
<li>WebMvcPropertiesï¼š ç”¨è¿™ä¸ªå‰ç¼€<code>spring.mvc</code>é…ç½®æ–‡ä»¶</li>
<li>WebPropertiesï¼š ç”¨è¿™ä¸ªå‰ç¼€<code>spring.web</code>é…ç½®æ–‡ä»¶</li>
<li>è¿™ä¸¤ä¸ªå‰ç¼€å¯ä»¥é…ç½®åº•å±‚æ˜¯å› ä¸ºåœ¨WebMvcConfigureræ¥å£ä¸­æ˜¯ä»€ä¹ˆå†™çš„</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(proxyBeanMethods = false)</span></span><br><span class="line"><span class="meta">@Import(EnableWebMvcConfiguration.class)</span> <span class="comment">//é¢å¤–å¯¼å…¥äº†å…¶ä»–é…ç½®</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(&#123; WebMvcProperties.class, WebProperties.class &#125;)</span></span><br><span class="line"><span class="meta">@Order(0)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">WebMvcAutoConfigurationAdapter</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span>, ServletContextAware&#123;</span><br><span class="line">       </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
<h3 id="WebMvcConfigureræ¥å£">WebMvcConfigureræ¥å£</h3>
<p>ä¸€ä¸ªå¾ˆå¼ºå¤§çš„æ¥å£ï¼Œå‡ ä¹åŒ…æ‹¬æ‰€æœ‰å¯é…ç½®çš„SpringMVCåº•å±‚çš„</p>
<p><strong>æä¾›äº†é…ç½®SpringMVCåº•å±‚çš„æ‰€æœ‰ç»„ä»¶å…¥å£</strong></p>
<ul>
<li>å‚æ•°è§£æå™¨ï¼š@Controllerä¸Šæ‰€æœ‰é…ç½®çš„ä¿¡æ¯éƒ½ç”±ä»–æ¥è§£æ
<ul>
<li>çŸ¥è¯†å›é¡¾ï¼šè¢«@Controlleræ ‡è®°çš„ç±»ç”¨äºå¤„ç†HTTPè¯·æ±‚ï¼Œç±»ä¸­çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨@GetMapping(â€œ/helloâ€)æ³¨è§£æ¥æŒ‡å®šå“ªä¸ªé“¾æ¥ç”±è¿™ä¸ªæ–¹æ³•å¤„ç†</li>
<li>@Controllerå’Œ@RestController
<ul>
<li>å¦‚æœæ‚¨çš„Spring MVCåº”ç”¨ç¨‹åºéœ€è¦è¿”å›HTMLè§†å›¾ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>@Controller</code>æ³¨è§£æ¥åˆ›å»ºæ§åˆ¶å™¨ã€‚</li>
<li>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä¸»è¦æ˜¯æä¾›RESTful APIï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>@RestController</code>æ³¨è§£ï¼Œå®ƒä¼šè‡ªåŠ¨å°†æ–¹æ³•çš„è¿”å›å€¼è½¬æ¢ä¸ºJSONæˆ–XMLå¹¶è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>è·¨åŸŸ</li>
<li>æ ¼å¼åŒ–å™¨ï¼šæ—¥æœŸæ ¼å¼çš„è½¬æ¢ç­‰</li>
<li>æ‹¦æˆªå™¨</li>
<li>æ·»åŠ èµ„æºå¤„ç†å™¨ï¼šç”¨äºå¤„ç†é™æ€èµ„æºè§„åˆ™</li>
<li>è¿”å›å€¼å¤„ç†å™¨ï¼šä¾‹å¦‚å¤„ç†è¯·æ±‚çš„æ–¹æ³•è¿”å›çš„æ˜¯Stringï¼Œç”±è¿™ä¸ªå¤„ç†å™¨è§£æ</li>
<li>è§†å›¾æ§åˆ¶å™¨ï¼šç”¨äºå¤„ç†è¯·æ±‚æ—¶è·³è½¬é¡µé¢</li>
<li>å¼‚æ­¥æ”¯æŒ</li>
<li>å†…å®¹åå•†ï¼š</li>
<li>é»˜è®¤å¤„ç†ï¼šå¤„ç†é»˜è®¤æ¥æ”¶/è¯·æ±‚</li>
<li>é…ç½®å¼‚å¸¸è§£æå™¨ï¼šé…ç½®å¼‚å¸¸è§£æå™¨æ—¶éœ€è¦ä½¿ç”¨è¿™ä¸ªæ¥å£
<ul>
<li>å¦‚æœæœ‰éœ€è¦å¤„ç†çš„å¼‚å¸¸ï¼Œå¯ä»¥å®ç°è¿™ä¸ªæ¥å£ä¸­çš„æ–¹æ³•</li>
</ul>
</li>
<li>æ¶ˆæ¯è½¬åŒ–å™¨ï¼šä¸€èˆ¬ç”¨äºæ ¼å¼åŒ–ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ç®¡</li>
<li>è·¯åŠ²åŒ¹é…ï¼š@GetMapping(â€œ/helloâ€)ç”±è¿™ä¸ªè´Ÿè´£æ ¹æ®è·¯å¾„å¯»æ‰¾èµ„æº</li>
<li>è§†å›¾è§£æ</li>
<li>æ‹“å±•ï¼šå¼‚å¸¸è§£æ
<ul>
<li>ç”¨äºå¢åŠ æ›´å¤šçš„å¼‚å¸¸å¤„ç†</li>
</ul>
</li>
<li>æ‰©å±•ï¼šæ¶ˆæ¯è½¬åŒ–</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/1681093891854-26205c88-4c20-4b63-a2c3-02574778072f.png" alt="image.png"></p>
<h3 id="é™æ€èµ„æºè§„åˆ™æºç ">é™æ€èµ„æºè§„åˆ™æºç </h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.resourceProperties.isAddMappings()) &#123;</span><br><span class="line">        logger.debug(<span class="string">&quot;Default resource handling disabled&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//1ã€</span></span><br><span class="line">    addResourceHandler(registry, <span class="built_in">this</span>.mvcProperties.getWebjarsPathPattern(),</span><br><span class="line">            <span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">    addResourceHandler(registry, <span class="built_in">this</span>.mvcProperties.getStaticPathPattern(), (registration) -&gt; &#123;</span><br><span class="line">        registration.addResourceLocations(<span class="built_in">this</span>.resourceProperties.getStaticLocations());</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.servletContext != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ServletContextResource</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServletContextResource</span>(<span class="built_in">this</span>.servletContext, SERVLET_LOCATION);</span><br><span class="line">            registration.addResourceLocations(resource);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>
<p>è§„åˆ™ä¸€ï¼šè®¿é—®ï¼š <code>/webjars/**</code>è·¯å¾„å°±å» <code>classpath:/META-INF/resources/webjars/</code>ä¸‹æ‰¾èµ„æº.</p>
<ol>
<li>
<p><code>classpath</code>å¯ä»¥æ˜¯javaçš„æ ¹ç›®å½•æˆ–<code>resources</code>çš„æ ¹ç›®å½•ï¼Œæ‰€ä»¥META-INFåˆ›å»ºåœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸­çš„ä»»æ„ä¸€ä¸ªå°±è¡Œ</p>
</li>
<li>
<p>maven å¯¼å…¥ä¾èµ–ï¼Œå°±å¯ä»¥ä½¿ç”¨cssæˆ–è€…jsäº†ï¼ˆä¸å¸¸ç”¨ï¼‰</p>
<ol>
<li>
<p>åœ¨ç½‘ç«™<a target="_blank" rel="noopener" href="https://www.webjars.org/">webjars</a>ä¸­å¯ä»¥æ‰¾åˆ°mavenä¾èµ–</p>
</li>
<li>
<p>å¯¼å…¥ä¸€ä¸ªä»¥åï¼Œå°±å¯ä»¥åœ¨IDEAçš„å¤–éƒ¨åº“çš„mavenç³»åˆ—åº“ä¸­æ‰¾åˆ°å¯¹åº”çš„åº“</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230909161259082.png" alt="image-20230909161259082"></p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>è§„åˆ™äºŒï¼šè®¿é—®ï¼š <code>/**</code>è·¯å¾„å°±å» <code>é™æ€èµ„æºé»˜è®¤çš„å››ä¸ªä½ç½®æ‰¾èµ„æº</code></p>
<ol>
<li>
<p>è¿™å››ä¸ªè·¯å¾„åªè¦åœ¨resourcesæ–‡ä»¶å¤¹ä¸­åˆ›å»ºï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨ä¸­çš„åœ°å€æ è®¿é—®</p>
<ol>
<li>ä¾‹å¦‚<code>resources/public/1.jpg</code>å¯ä»¥é€šè¿‡<code>localhost:8080/1.jpg</code>æ¥è®¿é—®</li>
</ol>
</li>
<li>
<p><code>classpath:/META-INF/resources/</code></p>
</li>
<li>
<p><code>classpath:/resources/</code></p>
</li>
<li>
<p><code>classpath:/static/</code></p>
</li>
<li>
<p><code>classpath:/public/</code></p>
</li>
</ol>
</li>
<li>
<p>è§„åˆ™ä¸‰ï¼š<strong>é™æ€èµ„æºé»˜è®¤éƒ½æœ‰ç¼“å­˜è§„åˆ™çš„è®¾ç½®</strong></p>
<ol>
<li>
<p>æ‰€æœ‰ç¼“å­˜çš„è®¾ç½®ï¼Œç›´æ¥é€šè¿‡<strong>é…ç½®æ–‡ä»¶</strong>ï¼š <code>spring.web</code>ï¼Œé…ç½®äº†ä»¥ä¸‹å±æ€§</p>
</li>
<li>
<p>cachePeriodï¼š ç¼“å­˜å‘¨æœŸï¼› å¤šä¹…ä¸ç”¨æ‰¾æœåŠ¡å™¨è¦æ–°çš„ã€‚ é»˜è®¤æ²¡æœ‰ï¼Œä»¥sä¸ºå•ä½</p>
</li>
<li>
<p>cacheControlï¼š <strong>HTTPç¼“å­˜</strong>æ§åˆ¶ï¼›</p>
<ol>
<li>æ›´å¤šå‚ç…§ï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Caching#%E6%A6%82%E8%A7%88">HTTPç¼“å­˜è§„èŒƒ</a></li>
</ol>
</li>
<li>
<p><strong>useLastModified</strong>ï¼šæ˜¯å¦ä½¿ç”¨æœ€åä¸€æ¬¡ä¿®æ”¹ã€‚é…åˆHTTP Cacheè§„åˆ™</p>
<ol>
<li>trueï¼šå¦‚æœè¯¢é—®æœåŠ¡å™¨å¾—åˆ°çš„æœ€åä¸€ä¸ªèµ„æºä¿®æ”¹çš„æ—¶é—´å’Œæœ¬åœ°å¯¹ä¸ä¸Šï¼Œå°±ä¼šåœ¨å‘æœåŠ¡å™¨ç´¢è¦æ–°çš„ä¿®æ”¹</li>
<li>falseï¼šå°±ç®—æœ€åä¸€ä¸ªæ—¶é—´å¯¹ä¸ä¸Šï¼ŒçŸ­æ—¶é—´å†…ä¹Ÿä¸ä¼šåœ¨å‘æœåŠ¡å™¨è¦æ–°çš„ä¿®æ”¹</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>å¦‚æœæµè§ˆå™¨è®¿é—®äº†ä¸€ä¸ªé™æ€èµ„æº <code>index.js</code>ï¼Œå¦‚æœæœåŠ¡è¿™ä¸ªèµ„æºæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä¸‹æ¬¡è®¿é—®çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥è®©æµè§ˆå™¨ç”¨è‡ªå·±ç¼“å­˜ä¸­çš„ä¸œè¥¿ï¼Œè€Œä¸ç”¨ç»™æœåŠ¡å™¨å‘è¯·æ±‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">registration.setCachePeriod(getSeconds(<span class="built_in">this</span>.resourceProperties.getCache().getPeriod()));</span><br><span class="line">registration.setCacheControl(<span class="built_in">this</span>.resourceProperties.getCache().getCachecontrol().toHttpCacheControl());</span><br><span class="line">registration.setUseLastModified(<span class="built_in">this</span>.resourceProperties.getCache().isUseLastModified());</span><br></pre></td></tr></table></figure>
<h3 id="EnableWebMvcConfiguration-æºç ">EnableWebMvcConfiguration æºç </h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SpringBoot é»˜è®¤ç»™å®¹å™¨ä¸­æ”¾ WebMvcConfigurationSupport ç»„ä»¶ã€‚</span></span><br><span class="line"><span class="comment">//æˆ‘ä»¬å¦‚æœè‡ªå·±æ”¾äº† WebMvcConfigurationSupport ç»„ä»¶ï¼ŒBootçš„WebMvcAutoConfigurationéƒ½ä¼šå¤±æ•ˆã€‚</span></span><br><span class="line"><span class="meta">@Configuration(proxyBeanMethods = false)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(WebProperties.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">EnableWebMvcConfiguration</span> <span class="keyword">extends</span> <span class="title class_">DelegatingWebMvcConfiguration</span> <span class="keyword">implements</span> <span class="title class_">ResourceLoaderAware</span> </span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li><code>HandlerMapping</code>ï¼š æ ¹æ®è¯·æ±‚è·¯å¾„ <code> /a</code> æ‰¾é‚£ä¸ªhandlerèƒ½å¤„ç†è¯·æ±‚
<ol>
<li><code>WelcomePageHandlerMapping</code>ï¼š
<ol>
<li>è®¿é—® <code>/**</code>è·¯å¾„ä¸‹çš„æ‰€æœ‰è¯·æ±‚ï¼Œéƒ½åœ¨ä»¥å‰å››ä¸ªé™æ€èµ„æºè·¯å¾„ä¸‹æ‰¾ï¼Œæ¬¢è¿é¡µä¹Ÿä¸€æ ·</li>
<li>æ‰¾<code>index.html</code>ï¼šåªè¦é™æ€èµ„æºçš„ä½ç½®æœ‰ä¸€ä¸ª <code>index.html</code>é¡µé¢ï¼Œé¡¹ç›®å¯åŠ¨é»˜è®¤è®¿é—®</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="ä¸ºä»€ä¹ˆå®¹å™¨ä¸­æ”¾ä¸€ä¸ªWebMvcConfigurerå°±èƒ½é…ç½®åº•å±‚è¡Œä¸º">ä¸ºä»€ä¹ˆå®¹å™¨ä¸­æ”¾ä¸€ä¸ª<code>WebMvcConfigurer</code>å°±èƒ½é…ç½®åº•å±‚è¡Œä¸º</h3>
<ol>
<li>WebMvcAutoConfiguration æ˜¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»ï¼Œå®ƒé‡Œé¢æœ‰ä¸€ä¸ª <code>EnableWebMvcConfiguration</code></li>
<li><code>EnableWebMvcConfiguration</code>ç»§æ‰¿ä¸ <code>DelegatingWebMvcConfiguration</code>ï¼Œè¿™ä¸¤ä¸ªéƒ½ç”Ÿæ•ˆ</li>
<li><code>DelegatingWebMvcConfiguration</code>åˆ©ç”¨ IOCä¸­çš„DI æŠŠå®¹å™¨ä¸­ æ‰€æœ‰ <code>WebMvcConfigurer </code>æ³¨å…¥è¿›æ¥</li>
<li>åˆ«äººè°ƒç”¨ <code>DelegatingWebMvcConfiguration</code> çš„æ–¹æ³•é…ç½®åº•å±‚è§„åˆ™ï¼Œè€Œå®ƒè°ƒç”¨æ‰€æœ‰ <code>WebMvcConfigurer</code>çš„é…ç½®åº•å±‚æ–¹æ³•ã€‚</li>
</ol>
<h3 id="WebMvcConfigurationSupport">WebMvcConfigurationSupport</h3>
<p>æä¾›äº†å¾ˆå¤šçš„é»˜è®¤è®¾ç½®ã€‚</p>
<p>åˆ¤æ–­ç³»ç»Ÿä¸­æ˜¯å¦æœ‰ç›¸åº”çš„ç±»ï¼šå¦‚æœæœ‰ï¼Œå°±åŠ å…¥ç›¸åº”çš„<code>HttpMessageConverter</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jackson2Present = ClassUtils.isPresent(<span class="string">&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;</span>, classLoader) &amp;&amp;</span><br><span class="line">				ClassUtils.isPresent(<span class="string">&quot;com.fasterxml.jackson.core.JsonGenerator&quot;</span>, classLoader);</span><br><span class="line">jackson2XmlPresent = ClassUtils.isPresent(<span class="string">&quot;com.fasterxml.jackson.dataformat.xml.XmlMapper&quot;</span>, classLoader);</span><br><span class="line">jackson2SmilePresent = ClassUtils.isPresent(<span class="string">&quot;com.fasterxml.jackson.dataformat.smile.SmileFactory&quot;</span>, classLoader);</span><br></pre></td></tr></table></figure>
<h2 id="Webåœºæ™¯">Webåœºæ™¯</h2>
<h3 id="è‡ªåŠ¨é…ç½®">è‡ªåŠ¨é…ç½®</h3>
<p>1ã€æ•´åˆwebåœºæ™¯</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2ã€å¼•å…¥äº† <code>autoconfigure</code>åŠŸèƒ½</p>
<p>3ã€<code>@EnableAutoConfiguration</code>æ³¨è§£ä½¿ç”¨<code>@Import(AutoConfigurationImportSelector.class)</code>æ‰¹é‡å¯¼å…¥ç»„ä»¶</p>
<p>4ã€åŠ è½½ <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> æ–‡ä»¶ä¸­é…ç½®çš„æ‰€æœ‰ç»„ä»¶</p>
<p>5ã€æ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»å¦‚ä¸‹</p>
<p>â€‹	è¿™äº›è‡ªåŠ¨é…ç½®ç±»ç»™å®¹å™¨ä¸­æ”¾äº†å¾ˆå¤šç»„ä»¶ï¼Œæä¾›äº†å¾ˆå¤šé»˜è®¤åŠŸèƒ½</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration</span><br><span class="line">====ä»¥ä¸‹æ˜¯å“åº”å¼webåœºæ™¯å’Œç°åœ¨çš„æ²¡å…³ç³»======</span><br><span class="line">org.springframework.boot.autoconfigure.web.reactive.HttpHandlerAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.reactive.ReactiveMultipartAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.reactive.ReactiveWebServerFactoryAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.reactive.WebSessionIdResolverAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.reactive.error.ErrorWebFluxAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.reactive.function.client.ClientHttpConnectorAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.reactive.function.client.WebClientAutoConfiguration</span><br><span class="line">================ä»¥ä¸Šæ²¡å…³ç³»=================</span><br><span class="line">org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration</span><br><span class="line">org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration</span><br></pre></td></tr></table></figure>
<p>6ã€ç»‘å®šäº†é…ç½®æ–‡ä»¶çš„ä¸€å †é…ç½®é¡¹</p>
<ul>
<li>1ã€SpringMVCçš„æ‰€æœ‰é…ç½® <code>spring.mvc</code></li>
<li>2ã€Webåœºæ™¯é€šç”¨é…ç½® <code>spring.web</code></li>
<li>3ã€æ–‡ä»¶ä¸Šä¼ é…ç½® <code>spring.servlet.multipart</code></li>
<li>4ã€æœåŠ¡å™¨çš„é…ç½® <code>server</code>: æ¯”å¦‚ï¼šç¼–ç æ–¹å¼</li>
</ul>
<h3 id="é»˜è®¤æ•ˆæœ">é»˜è®¤æ•ˆæœ</h3>
<p><strong>SpringBootçš„æœåŠ¡ç«¯ä¸€èˆ¬ä¸ºå‰ç«¯æä¾›jsonæ•°æ®</strong></p>
<p>é»˜è®¤é…ç½®ï¼š</p>
<ol>
<li>
<p>åŒ…å«äº† ContentNegotiatingViewResolver å’Œ BeanNameViewResolver ç»„ä»¶ï¼Œ<strong>æ–¹ä¾¿è§†å›¾è§£æ</strong></p>
</li>
<li>
<p><strong>é»˜è®¤çš„é™æ€èµ„æºå¤„ç†æœºåˆ¶</strong>ï¼š é™æ€èµ„æºæ”¾åœ¨ static æ–‡ä»¶å¤¹ä¸‹å³å¯ç›´æ¥è®¿é—®</p>
</li>
<li>
<p><strong>è‡ªåŠ¨æ³¨å†Œ</strong>äº† <strong>Converter</strong>,GenericConverter,<strong>Formatter</strong>ç»„ä»¶ï¼Œç”¨äºé€‚é…å¸¸è§<strong>æ•°æ®ç±»å‹è½¬æ¢</strong>å’Œ<strong>æ ¼å¼åŒ–éœ€æ±‚</strong></p>
<ol>
<li>ä¾‹å¦‚ï¼šæ—¶é—´æ ¼å¼çš„è¯†åˆ«ï¼Œæ—¥æœŸé»˜è®¤ï¼š2023/9/9 12:12:12</li>
</ol>
</li>
<li>
<p><strong>æ”¯æŒ</strong> <strong>HttpMessageConverters</strong>ï¼Œå¯ä»¥<strong>æ–¹ä¾¿è¿”å›</strong>jsonç­‰<strong>æ•°æ®ç±»å‹</strong></p>
<ol>
<li>
<p>å¯ä»¥å°†æ–¹æ³•è¿”å›çš„æ•°æ®ç›´æ¥è½¬æ¢ä¸ºjsonæ ¼å¼</p>
</li>
<li>
<p>ä¾‹å¦‚ï¼šä¸‹é¢è¿™ä¸ªæ–¹æ³•è¿”å›çš„Stringï¼Œä¼šè¢«è½¬æ¢ä¸ºjsonæ ¼å¼</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230909075914104.png" alt="image-20230909075914104"></p>
</li>
</ol>
</li>
<li>
<p><strong>æ³¨å†Œ</strong> MessageCodesResolverï¼Œæ–¹ä¾¿<strong>å›½é™…åŒ–</strong>åŠé”™è¯¯æ¶ˆæ¯å¤„ç†</p>
<ol>
<li>ä¾‹å¦‚ï¼šä¸€ä¸ªç½‘ç«™åœ¨ä¸åŒçš„å›½å®¶è®¿é—®ï¼Œä¼šæ˜¾ç¤ºä¸åŒçš„è¯­è¨€</li>
</ol>
</li>
<li>
<p><strong>æ”¯æŒ é™æ€</strong> index.html</p>
</li>
<li>
<p><strong>è‡ªåŠ¨ä½¿ç”¨</strong>ConfigurableWebBindingInitializerï¼ˆWebæ•°æ®ç»‘å®šå·¥ä½œï¼‰ï¼Œå®ç°æ¶ˆæ¯å¤„ç†ã€æ•°æ®ç»‘å®šã€ç±»å‹è½¬åŒ–ã€æ•°æ®æ ¡éªŒç­‰åŠŸèƒ½</p>
<ol>
<li>ä¾‹å¦‚ï¼šå¦‚æœå‰ç«¯ç”¨httpåè®®æäº¤äº†ä¸€æ¨å‚æ•°ï¼Œå…ˆåˆ¤æ–­æ•°æ®æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œç„¶åè¿™ä¸ªç»„ä»¶è´Ÿè´£å°†ç±»å‹è½¬æ¢ï¼Œå¹¶ä¸”å¦‚æœéœ€è¦æ¥å—å¾ˆå¤šæ•°æ®å°±éœ€è¦åœ¨æ–¹æ³•ä¸­å†™å¾ˆå¤šå‚æ•°ï¼Œä½†æ˜¯æœ‰äº†è¿™ä¸ªç»„ä»¶ä»¥åå°±å¯ä»¥é€šè¿‡ä¸€ä¸ªbeanæ›¿ä»£å‚æ•°</li>
</ol>
</li>
</ol>
<p><strong>é‡è¦ï¼š</strong></p>
<ul>
<li><em>å¦‚æœæƒ³ä¿æŒ</em> <em><strong>boot mvc çš„é»˜è®¤é…ç½®*</strong></em>ï¼Œå¹¶ä¸”è‡ªå®šä¹‰æ›´å¤šçš„ mvc é…ç½®ï¼Œå¦‚ï¼š<em><em><strong>interceptors*</strong></em>,</em> <em><strong>formatters*</strong></em>,* <em><strong>view controllers*</strong> <em>ç­‰ã€‚å¯ä»¥ä½¿ç”¨</em></em>@Configuration**æ³¨è§£æ·»åŠ ä¸€ä¸ª* <em>WebMvcConfigurer</em> <em>ç±»å‹çš„é…ç½®ç±»ï¼Œå¹¶ä¸è¦æ ‡æ³¨</em> <em>@EnableWebMvc</em>
<ul>
<li>ä½¿ç”¨ <em>@EnableWebMvc</em>å°†è¡¨æ˜MVCè¦è¿›è¡Œå…¨æ‰‹åŠ¨é…ç½®ï¼Œæ”¾å¼ƒ<strong>å…¨è‡ªåŠ¨</strong>å’Œ<strong>æ‰‹è‡ªä¸€ä½“</strong>æ¨¡å¼</li>
</ul>
</li>
<li><em>å¦‚æœæƒ³ä¿æŒ boot mvc çš„é»˜è®¤é…ç½®ï¼Œä½†è¦è‡ªå®šä¹‰æ ¸å¿ƒç»„ä»¶å®ä¾‹ï¼Œæ¯”å¦‚ï¼š<strong>RequestMappingHandlerMapping</strong>,</em> <em>RequestMappingHandlerAdapter</em>*, æˆ–<strong>ExceptionHandlerExceptionResolver</strong>ï¼Œç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª* <em>WebMvcRegistrations</em> <em>ç»„ä»¶å³å¯</em></li>
<li><em>å¦‚æœæƒ³å…¨é¢æ¥ç®¡ Spring MVCï¼Œ**@Configuration</em> <em>æ ‡æ³¨ä¸€ä¸ªé…ç½®ç±»ï¼Œå¹¶åŠ ä¸Š</em> <em>@EnableWebMvc**æ³¨è§£ï¼Œå®ç°</em> <em>WebMvcConfigurer</em> <em>æ¥å£</em></li>
</ul>
<h2 id="é™æ€èµ„æº">é™æ€èµ„æº</h2>
<h3 id="é»˜è®¤è§„åˆ™">é»˜è®¤è§„åˆ™</h3>
<h4 id="é™æ€èµ„æºæ˜ å°„">é™æ€èµ„æºæ˜ å°„</h4>
<p>é™æ€èµ„æºæ˜ å°„è§„åˆ™åœ¨ WebMvcAutoConfiguration ä¸­è¿›è¡Œäº†å®šä¹‰ï¼š</p>
<ol>
<li>
<p>/webjars/** çš„æ‰€æœ‰è·¯å¾„ èµ„æºéƒ½åœ¨ classpath:/META-INF/resources/webjars/</p>
</li>
<li>
<p>/** çš„æ‰€æœ‰è·¯å¾„ èµ„æºéƒ½åœ¨ classpath:/META-INF/resources/ã€classpath:/resources/ã€classpath:/static/ã€classpath:/public/</p>
</li>
<li>
<p>æ‰€æœ‰é™æ€èµ„æºéƒ½å®šä¹‰äº†ç¼“å­˜è§„åˆ™ã€‚ã€æµè§ˆå™¨è®¿é—®è¿‡ä¸€æ¬¡ï¼Œå°±ä¼šç¼“å­˜ä¸€æ®µæ—¶é—´ã€‘ï¼Œä½†æ­¤åŠŸèƒ½å‚æ•°æ— é»˜è®¤å€¼</p>
</li>
<li>
<ol>
<li>periodï¼š ç¼“å­˜é—´éš”ã€‚ é»˜è®¤ 0Sï¼›</li>
<li>cacheControlï¼šç¼“å­˜æ§åˆ¶ã€‚ é»˜è®¤æ— ï¼›</li>
<li>useLastModifiedï¼šæ˜¯å¦ä½¿ç”¨lastModifiedå¤´ã€‚ é»˜è®¤ falseï¼›</li>
</ol>
</li>
</ol>
<h4 id="é™æ€èµ„æºç¼“å­˜">é™æ€èµ„æºç¼“å­˜</h4>
<p>å¦‚å‰é¢æ‰€è¿°</p>
<ol>
<li>
<p>æ‰€æœ‰é™æ€èµ„æºéƒ½å®šä¹‰äº†ç¼“å­˜è§„åˆ™ã€‚ã€æµè§ˆå™¨è®¿é—®è¿‡ä¸€æ¬¡ï¼Œå°±ä¼šç¼“å­˜ä¸€æ®µæ—¶é—´ã€‘ï¼Œä½†æ­¤åŠŸèƒ½å‚æ•°æ— é»˜è®¤å€¼</p>
</li>
<li>
<ol>
<li>periodï¼š ç¼“å­˜é—´éš”ã€‚ é»˜è®¤ 0Sï¼›</li>
<li>cacheControlï¼šç¼“å­˜æ§åˆ¶ã€‚ é»˜è®¤æ— ï¼›</li>
<li>useLastModifiedï¼šæ˜¯å¦ä½¿ç”¨lastModifiedå¤´ã€‚ é»˜è®¤ falseï¼›</li>
</ol>
</li>
</ol>
<h4 id="æ¬¢è¿é¡µ">æ¬¢è¿é¡µ</h4>
<p>æ¬¢è¿é¡µè§„åˆ™åœ¨ WebMvcAutoConfiguration ä¸­è¿›è¡Œäº†å®šä¹‰ï¼š</p>
<ol>
<li>åœ¨<strong>é™æ€èµ„æº</strong>ç›®å½•ä¸‹æ‰¾ index.html</li>
<li>æ²¡æœ‰å°±åœ¨ templatesä¸‹æ‰¾indexæ¨¡æ¿é¡µ</li>
</ol>
<h4 id="Favicion">Favicion</h4>
<ol>
<li>æµè§ˆå™¨å¯¼èˆªæ ä¸Šç½‘ç«™çš„å°å›¾æ ‡</li>
<li>åœ¨é™æ€èµ„æºç›®å½•ä¸‹æ‰¾ favicon.ico</li>
<li>å’Œspringbootæ²¡å•¥å…³ç³»ï¼Œæµè§ˆå™¨æ¯æ¬¡éƒ½ä¼šç‰¹æ„è®¿é—®ç½‘ç«™çš„logoï¼ŒSpringBootåªæ˜¯æä¾›äº†è®¿é—®è§„åˆ™ï¼Œå¤„ç†Favicionè¯·æ±‚æ—¶ä¼šå°†æŒ‡å®šè·¯å¾„ä¸‹çš„æŒ‡å®šå›¾ç‰‡ç­”å¤ç»™æµè§ˆå™¨</li>
</ol>
<h4 id="ç¼“å­˜å®éªŒ">ç¼“å­˜å®éªŒ</h4>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">9000</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#1ã€spring.webï¼š</span></span><br><span class="line"><span class="comment"># 1.é…ç½®å›½é™…åŒ–çš„åŒºåŸŸä¿¡æ¯</span></span><br><span class="line"><span class="comment"># 2.é™æ€èµ„æºç­–ç•¥(å¼€å¯ã€å¤„ç†é“¾ã€ç¼“å­˜)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#å¼€å¯é™æ€èµ„æºæ˜ å°„è§„åˆ™</span></span><br><span class="line"><span class="attr">spring.web.resources.add-mappings</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è®¾ç½®ç¼“å­˜</span></span><br><span class="line"><span class="comment">#spring.web.resources.cache.period=3600   å•ä½ï¼šç§’</span></span><br><span class="line"><span class="comment">##ç¼“å­˜è¯¦ç»†åˆå¹¶é¡¹æ§åˆ¶ï¼Œè¦†ç›–periodé…ç½®ï¼š</span></span><br><span class="line"><span class="comment">## æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨æ­¤èµ„æºç¼“å­˜7200ç§’ï¼Œ7200ç§’ä»¥å†…çš„æ‰€æœ‰æ­¤èµ„æºè®¿é—®ä¸ç”¨å‘ç»™æœåŠ¡å™¨è¯·æ±‚ï¼Œ7200ç§’ä»¥åå‘è¯·æ±‚ç»™æœåŠ¡å™¨</span></span><br><span class="line"><span class="attr">spring.web.resources.cache.cachecontrol.max-age</span>=<span class="string">7200</span></span><br><span class="line"><span class="comment">#ä½¿ç”¨èµ„æº last-modified æ—¶é—´ï¼Œæ¥å¯¹æ¯”æœåŠ¡å™¨å’Œæµè§ˆå™¨çš„èµ„æºæ˜¯å¦ç›¸åŒæ²¡æœ‰å˜åŒ–ã€‚ç›¸åŒè¿”å› 304ï¼ˆHTTPè¯·æ±‚çš„ä¸€ä¸ªçŠ¶æ€ï¼‰</span></span><br><span class="line"><span class="attr">spring.web.resources.cache.use-last-modified</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure>
<p>304ï¼šæœåŠ¡å™¨å’Œç£ç›˜ç¼“å­˜ä¸­çš„èµ„æºä¸€æ ·ï¼Œä¸‹æ¬¡å†å‘é€è¯·æ±‚æ—¶çŠ¶æ€å°±ä¼šæ˜¯200ï¼Œç„¶åä»ç£ç›˜ä¸­è¯»å–èµ„æº</p>
<p>200ï¼šåœ¨ç£ç›˜ç¼“å­˜ä¸­è¯»å–çš„æ•°æ®</p>
<p>å¿«é€Ÿåˆ·æ–°å¯ä»¥è®©æµè§ˆå™¨é‡æ–°è¯¢é—®æœåŠ¡å™¨è¿™ä¸ªèµ„æºæ˜¯å¦æ˜¯æœ€æ–°ï¼Œä¸æ˜¯çš„è¯å°±æ›´æ–°èµ„æº</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230909164009158.png" alt="image-20230909164009158"></p>
<h3 id="è‡ªå®šä¹‰é™æ€èµ„æºè§„åˆ™">è‡ªå®šä¹‰é™æ€èµ„æºè§„åˆ™</h3>
<p>è‡ªå®šä¹‰é™æ€èµ„æºè·¯å¾„ã€è‡ªå®šä¹‰ç¼“å­˜è§„åˆ™</p>
<p><strong>æ€»ç»“ï¼šå®¹å™¨ä¸­åªè¦åˆä¸€ä¸ªWebMvcConfigurerç»„ä»¶ï¼Œå®¹å™¨ä¸­é…ç½®çš„åº•å±‚è¡Œä¸ºéƒ½ä¼šç”Ÿæ•ˆï¼›ä¸ç®¡åœ¨å“ªä¸ªç±»ä¸ŠåŠ äº†@EnableWebMvcæ³¨è§£ï¼Œå°±ä¼šç¦ç”¨bootæä¾›çš„mvcçš„é»˜è®¤é…ç½®ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸åŠ </strong></p>
<h4 id="é…ç½®æ–¹å¼">é…ç½®æ–¹å¼</h4>
<p><code>spring.mvc</code>ï¼š é™æ€èµ„æºè®¿é—®å‰ç¼€è·¯å¾„</p>
<p><code>spring.web</code>ï¼š</p>
<ul>
<li>
<p>é™æ€èµ„æºç›®å½•</p>
</li>
<li>
<p>é™æ€èµ„æºç¼“å­˜ç­–ç•¥</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1ã€spring.webï¼š</span></span><br><span class="line"><span class="comment"># 1.é…ç½®å›½é™…åŒ–çš„åŒºåŸŸä¿¡æ¯</span></span><br><span class="line"><span class="comment"># 2.é™æ€èµ„æºç­–ç•¥(å¼€å¯ã€å¤„ç†é“¾ã€ç¼“å­˜)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#å¼€å¯é™æ€èµ„æºæ˜ å°„è§„åˆ™</span></span><br><span class="line"><span class="attr">spring.web.resources.add-mappings</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è®¾ç½®ç¼“å­˜</span></span><br><span class="line"><span class="attr">spring.web.resources.cache.period</span>=<span class="string">3600</span></span><br><span class="line"><span class="comment">##ç¼“å­˜è¯¦ç»†åˆå¹¶é¡¹æ§åˆ¶ï¼Œè¦†ç›–periodé…ç½®ï¼š</span></span><br><span class="line"><span class="comment">## æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨æ­¤èµ„æºç¼“å­˜7200ç§’ï¼Œ7200ç§’ä»¥å†…çš„æ‰€æœ‰æ­¤èµ„æºè®¿é—®ä¸ç”¨å‘ç»™æœåŠ¡å™¨è¯·æ±‚ï¼Œ7200ç§’ä»¥åå‘è¯·æ±‚ç»™æœåŠ¡å™¨</span></span><br><span class="line"><span class="attr">spring.web.resources.cache.cachecontrol.max-age</span>=<span class="string">7200</span></span><br><span class="line"><span class="comment">## å…±äº«ç¼“å­˜</span></span><br><span class="line"><span class="attr">spring.web.resources.cache.cachecontrol.cache-public</span>=<span class="string">true</span></span><br><span class="line"><span class="comment">#ä½¿ç”¨èµ„æº last-modified æ—¶é—´ï¼Œæ¥å¯¹æ¯”æœåŠ¡å™¨å’Œæµè§ˆå™¨çš„èµ„æºæ˜¯å¦ç›¸åŒæ²¡æœ‰å˜åŒ–ã€‚ç›¸åŒè¿”å› 304</span></span><br><span class="line"><span class="attr">spring.web.resources.cache.use-last-modified</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#è‡ªå®šä¹‰é™æ€èµ„æºæ–‡ä»¶å¤¹ä½ç½®</span></span><br><span class="line"><span class="comment">#è¿™æ˜¯ä¸ªæ•°ç»„ï¼Œæ•°ç»„åœ¨propertiesä¸­çš„é…ç½®ç”¨&#x27;,&#x27;åˆ†éš”å¼€å°±è¡Œ</span></span><br><span class="line"><span class="attr">spring.web.resources.static-locations</span>=<span class="string">classpath:/a/,classpath:/b/,classpath:/static/</span></span><br><span class="line"><span class="comment">#æ”¾åœ¨resources/aå’Œresources/bä¸‹çš„é™æ€èµ„æºä¹Ÿå¯ä»¥è¢«è®¿é—®åˆ°äº†</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#2ã€ spring.mvc</span></span><br><span class="line"><span class="comment">## 2.1. è‡ªå®šä¹‰webjarsè·¯å¾„å‰ç¼€</span></span><br><span class="line"><span class="attr">spring.mvc.webjars-path-pattern</span>=<span class="string">/wj/**</span></span><br><span class="line"><span class="comment"># é…ç½®äº†è¿™ä¸ªä¹‹åä¹‹å‰é»˜è®¤çš„è®¿é—®è·¯å¾„/wabjars/å°±ä¼šåˆ°/MATE-INF/resources/wabjars/ï¼Œå¯ä»¥ç”¨/wj/è·¯å¾„æ›¿ä»£/wabjars/</span></span><br><span class="line"><span class="comment">## 2.2. é™æ€èµ„æºè®¿é—®è·¯å¾„å‰ç¼€</span></span><br><span class="line"><span class="attr">spring.mvc.static-path-pattern</span>=<span class="string">/static/**</span></span><br><span class="line"><span class="comment"># ä¹‹å‰ç›´æ¥è®¿é—®localhost:8080/1.jpgå°±å¯ä»¥è®¿é—®åˆ°å›¾ç‰‡ï¼ŒåŠ äº†è¿™ä¸ªä»¥åå°±éœ€è¦localhost:8080/static/1.jpgæ‰èƒ½è®¿é—®åˆ°</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>spring.web.resources.static-locationsï¼šä¸»è¦é…ç½®æŒ‡å®šçš„é™æ€èµ„æºè·¯å¾„ï¼Œåªæœ‰é…ç½®äº†çš„è·¯å¾„ä¸­çš„é™æ€èµ„æºå¯ä»¥è¢«è¯»å–ï¼Œä¸€æ—¦é…ç½®ï¼Œé»˜è®¤çš„å››ä¸ªè·¯å¾„å°†ä¸åœ¨å¥½ç”¨ï¼Œä»¥ä¸‹æ˜¯é»˜è®¤çš„4ä¸ªé™æ€èµ„æºè·¯å¾„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230909170416832.png" alt="image-20230909170416832"></p>
<p>spring.mvc.static-path-patternï¼šæŒ‡å®šçš„æ˜¯è®¿é—®é™æ€èµ„æºæ—¶éœ€è¦åŠ çš„URLå‰ç¼€</p>
<h4 id="ä»£ç æ–¹å¼">ä»£ç æ–¹å¼</h4>
<ul>
<li>
<p>é‡å†™WebMvcConfigureræ¥å£ä¸­çš„addResourceHandlersï¼ˆæ·»åŠ èµ„æºå¤„ç†å™¨ï¼‰æ–¹æ³•</p>
</li>
<li>
<p>å®¹å™¨ä¸­åªè¦æœ‰ä¸€ä¸ª WebMvcConfigurer ç»„ä»¶ã€‚é…ç½®çš„åº•å±‚è¡Œä¸ºéƒ½ä¼šç”Ÿæ•ˆ</p>
</li>
<li>
<p>@EnableWebMvc //ç¦ç”¨bootçš„é»˜è®¤é…ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">//è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">//ä¿ç•™ä»¥å‰è§„åˆ™</span></span><br><span class="line">        <span class="comment">//è‡ªå·±å†™æ–°çš„è§„åˆ™ã€‚</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/static/**&quot;</span>)</span><br><span class="line">                .addResourceLocations(<span class="string">&quot;classpath:/a/&quot;</span>,<span class="string">&quot;classpath:/b/&quot;</span>)</span><br><span class="line">                .setCacheControl(CacheControl.maxAge(<span class="number">1180</span>, TimeUnit.SECONDS));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¹Ÿå¯ä»¥é€šè¿‡å¾€å®¹å™¨ä¸­æ”¾Beanæ¥æ·»åŠ è‡ªå·±æ–°çš„é…ç½®</p>
</li>
<li>
<p>å†™ä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›å€¼å’Œåç§°éƒ½æ˜¯webMvcConfigurerï¼Œæ–¹æ³•è¿”å›ä¸€ä¸ªWebMvcConfigurerå¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">//è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»,ç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª WebMvcConfigurer ç»„ä»¶ï¼Œå°±èƒ½è‡ªå®šä¹‰åº•å±‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> WebMvcConfigurer <span class="title function_">webMvcConfigurer</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">WebMvcConfigurer</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span> <span class="comment">//é…ç½®é™æ€èµ„æº</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">                registry.addResourceHandler(<span class="string">&quot;/static/**&quot;</span>)</span><br><span class="line">                        .addResourceLocations(<span class="string">&quot;classpath:/a/&quot;</span>, <span class="string">&quot;classpath:/b/&quot;</span>)</span><br><span class="line">                        .setCacheControl(CacheControl.maxAge(<span class="number">1180</span>, TimeUnit.SECONDS));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span> <span class="comment">//é…ç½®æ‹¦æˆªå™¨</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span> <span class="comment">//é…ç½®ä¸€ä¸ªèƒ½æŠŠå¯¹è±¡è½¬ä¸ºyamlçš„messageConverter</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line">                converters.add(<span class="keyword">new</span> <span class="title class_">MyYamlHttpMessageConverter</span>());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="è·¯å¾„åŒ¹é…">è·¯å¾„åŒ¹é…</h2>
<p><strong>Spring5.3</strong> ä¹‹ååŠ å…¥äº†æ›´å¤šçš„è¯·æ±‚è·¯å¾„åŒ¹é…çš„å®ç°ç­–ç•¥ï¼›</p>
<p>ä»¥å‰åªæ”¯æŒ AntPathMatcher ç­–ç•¥, ç°åœ¨æä¾›äº† <strong>PathPatternParser</strong> ç­–ç•¥ã€‚å¹¶ä¸”å¯ä»¥è®©æˆ‘ä»¬æŒ‡å®šåˆ°åº•ä½¿ç”¨é‚£ç§ç­–ç•¥</p>
<h3 id="Anté£æ ¼è·¯å¾„ç”¨æ³•">Anté£æ ¼è·¯å¾„ç”¨æ³•</h3>
<p>Ant é£æ ¼çš„è·¯å¾„æ¨¡å¼è¯­æ³•å…·æœ‰ä»¥ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li>*ï¼šè¡¨ç¤º<strong>ä»»æ„æ•°é‡</strong>çš„å­—ç¬¦ã€‚</li>
<li>?ï¼šè¡¨ç¤ºä»»æ„<strong>ä¸€ä¸ªå­—ç¬¦</strong>ã€‚</li>
<li><strong>ï¼šè¡¨ç¤º</strong>ä»»æ„æ•°é‡çš„ç›®å½•**ã€‚</li>
<li>{}ï¼šè¡¨ç¤ºä¸€ä¸ªå‘½åçš„æ¨¡å¼<strong>å ä½ç¬¦</strong>ã€‚</li>
<li>[]ï¼šè¡¨ç¤º<strong>å­—ç¬¦é›†åˆ</strong>ï¼Œä¾‹å¦‚[a-z]è¡¨ç¤ºå°å†™å­—æ¯ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>*.html åŒ¹é…ä»»æ„åç§°ï¼Œæ‰©å±•åä¸º.htmlçš„æ–‡ä»¶ã€‚</li>
<li>/folder1/<em>/</em>.java åŒ¹é…åœ¨folder1ç›®å½•ä¸‹çš„ä»»æ„ä¸¤çº§ç›®å½•ä¸‹çš„.javaæ–‡ä»¶ã€‚</li>
<li>/folder2/**/*.jsp åŒ¹é…åœ¨folder2ç›®å½•ä¸‹ä»»æ„ç›®å½•æ·±åº¦çš„.jspæ–‡ä»¶ã€‚</li>
<li>/{type}/{id}.html åŒ¹é…ä»»æ„æ–‡ä»¶åä¸º{id}.htmlï¼Œåœ¨ä»»æ„å‘½åçš„{type}ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šAnt é£æ ¼çš„è·¯å¾„æ¨¡å¼è¯­æ³•ä¸­çš„ç‰¹æ®Šå­—ç¬¦éœ€è¦è½¬ä¹‰ï¼Œå¦‚ï¼š</p>
<ul>
<li>è¦åŒ¹é…æ–‡ä»¶è·¯å¾„ä¸­çš„æ˜Ÿå·ï¼Œåˆ™éœ€è¦è½¬ä¹‰ä¸º\*ã€‚</li>
<li>è¦åŒ¹é…æ–‡ä»¶è·¯å¾„ä¸­çš„é—®å·ï¼Œåˆ™éœ€è¦è½¬ä¹‰ä¸º\?ã€‚</li>
</ul>
<h3 id="æ¨¡å¼åˆ‡æ¢">æ¨¡å¼åˆ‡æ¢</h3>
<h4 id="AntPathMatcher-ä¸-PathPatternParser">AntPathMatcher ä¸ <code>PathPatternParser</code></h4>
<ul>
<li>
<p>PathPatternParser åœ¨ jmh åŸºå‡†æµ‹è¯•ä¸‹ï¼Œæœ‰ 6~8 å€ååé‡æå‡ï¼Œé™ä½ 30%~40%ç©ºé—´åˆ†é…ç‡</p>
</li>
<li>
<p>PathPatternParser å…¼å®¹ AntPathMatcherè¯­æ³•ï¼Œå¹¶æ”¯æŒæ›´å¤šç±»å‹çš„è·¯å¾„æ¨¡å¼</p>
</li>
<li>
<p>PathPatternParser  &quot;<em><strong>*</strong>&quot; <strong>å¤šæ®µåŒ¹é…</strong>çš„æ”¯æŒ</em><em>ä»…å…è®¸åœ¨æ¨¡å¼æœ«å°¾ä½¿ç”¨</em>*</p>
<ul>
<li>æ‰€ä»¥å¦‚æœ/**åœ¨è·¯å¾„ä¸­é—´çš„è¯ï¼Œéœ€è¦ä½¿ç”¨è€ç‰ˆçš„ç­–ç•¥AntPathMatcher</li>
</ul>
</li>
<li>
<p>è®¿é—®ä»¥ä¸‹å†…å®¹å¯ä»¥ä½¿ç”¨<code>localhost:8080/ahfy67/b3/aabbccde</code>/tt/rr/yy</p>
<ul>
<li>è§£é‡Šï¼š
<ul>
<li><code>*</code>åŒ¹é…ä»»æ„æ•°é‡çš„ä»»æ„å­—ç¬¦</li>
<li><code>?</code>åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦</li>
<li><code>&#123;p1:[a-f]+&#125;</code>åŒ¹é…aåˆ°fåŒºé—´ä»»æ„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œç„¶ååœ¨æ–¹æ³•çš„å‚æ•°ä¸­å¯ä»¥ä½¿ç”¨@PathVariableå°†p1å–å‡ºåˆ°æŒ‡å®šçš„Stringä¸­ï¼Œè¿™é‡Œå–åˆ°äº†pathä¸­</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/a*/b?/&#123;p1:[a-f]+&#125;/**&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(HttpServletRequest request, </span></span><br><span class="line"><span class="params">                    <span class="meta">@PathVariable(&quot;p1&quot;)</span> String path)</span> &#123;</span><br><span class="line">    </span><br><span class="line">    log.info(<span class="string">&quot;è·¯å¾„å˜é‡p1ï¼š &#123;&#125;&quot;</span>, path);</span><br><span class="line">    <span class="comment">//è·å–è¯·æ±‚è·¯å¾„</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">uri</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">    <span class="keyword">return</span> uri;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨é»˜è®¤çš„è·¯å¾„åŒ¹é…è§„åˆ™ï¼Œæ˜¯ç”± PathPatternParser  æä¾›çš„</p>
<ul>
<li>ï¼ˆé»˜è®¤ä½¿ç”¨æ–°ç‰ˆç­–ç•¥ï¼‰æƒ³ç”¨è€ç‰ˆç­–ç•¥å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹</li>
</ul>
</li>
<li>
<p>å¦‚æœè·¯å¾„ä¸­é—´éœ€è¦æœ‰ **ï¼Œæ›¿æ¢æˆanté£æ ¼è·¯å¾„</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ”¹å˜è·¯å¾„åŒ¹é…ç­–ç•¥ï¼š</span></span><br><span class="line"><span class="comment"># ant_path_matcher è€ç‰ˆç­–ç•¥ï¼›</span></span><br><span class="line"><span class="comment"># path_pattern_parser æ–°ç‰ˆç­–ç•¥ï¼›</span></span><br><span class="line"><span class="attr">spring.mvc.pathmatch.matching-strategy</span>=<span class="string">ant_path_matcher</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="å†…å®¹åå•†">å†…å®¹åå•†</h2>
<p>mvcå¸¦è¿™ä¸ªåŠŸèƒ½ä½†æ˜¯bootåšäº†æ•´åˆï¼Œé…ç½®èµ·æ¥æ›´æ–¹ä¾¿äº†</p>
<p>ä¸€å¥—ç³»ç»Ÿé€‚é…å¤šç«¯æ•°æ®è¿”å›</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/1681217799861-dde49224-a767-489b-80b7-7d8d503e33cf.png" alt="image.png"></p>
<h3 id="å¤šç«¯å†…å®¹é€‚é…">å¤šç«¯å†…å®¹é€‚é…</h3>
<h4 id="é»˜è®¤è§„åˆ™-2">é»˜è®¤è§„åˆ™</h4>
<ol>
<li>
<p><strong>SpringBoot å¤šç«¯å†…å®¹é€‚é…</strong>ã€‚</p>
</li>
<li>
<ol>
<li><strong>åŸºäº</strong> <strong>è¯·æ±‚å¤´</strong> <strong>å†…å®¹åå•†</strong>ï¼šï¼ˆé»˜è®¤å¼€å¯ï¼‰</li>
</ol>
</li>
<li>
<ol>
<li>
<ol>
<li>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼Œæºå¸¦HTTPæ ‡å‡†çš„<strong>Acceptè¯·æ±‚å¤´</strong>ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol>
<li>
<ol>
<li><strong>Accept</strong>: <code>application/json</code>ã€<code>text/xml</code>ã€<code>text/yaml</code></li>
<li>æœåŠ¡ç«¯æ ¹æ®å®¢æˆ·ç«¯<strong>è¯·æ±‚å¤´æœŸæœ›çš„æ•°æ®ç±»å‹</strong>è¿›è¡Œ<strong>åŠ¨æ€è¿”å›</strong></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li><strong>åŸºäº</strong> <strong>è¯·æ±‚å‚æ•°</strong> <strong>å†…å®¹åå•†ï¼šï¼ˆéœ€è¦å¼€å¯ï¼‰</strong></li>
</ol>
</li>
<li>
<ol>
<li>
<ol>
<li>å‘é€è¯·æ±‚ GET /projects/spring-boot?format=json</li>
<li>åŒ¹é…åˆ° @GetMapping(â€œ/projects/spring-bootâ€)</li>
<li>æ ¹æ®<strong>å‚æ•°åå•†</strong>ï¼Œä¼˜å…ˆè¿”å› json ç±»å‹æ•°æ®ã€<strong>éœ€è¦å¼€å¯å‚æ•°åŒ¹é…è®¾ç½®</strong>ã€‘</li>
<li>å‘é€è¯·æ±‚ GET /projects/spring-boot?format=xml,ä¼˜å…ˆè¿”å› xml ç±»å‹æ•°æ®</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="æ•ˆæœæ¼”ç¤º">æ•ˆæœæ¼”ç¤º</h4>
<ul>
<li>æ€»ç»“
<ul>
<li>éœ€è¦è¿”å›xmlæ ¼å¼
<ul>
<li>å¯¼åŒ…ï¼Œå¹¶ä¸”åœ¨æƒ³è¦è¿”å›xmlæ ¼å¼çš„ç±»ä¸Šæ·»åŠ æ³¨è§£</li>
</ul>
</li>
<li>éœ€è¦æ ¹æ®å‚æ•°æ¥æŒ‡å®šè¿”å›æ ¼å¼
<ul>
<li>éœ€è¦<code>å¼€å¯åŸºäºè¯·æ±‚å‚æ•°çš„å†…å®¹åå•†</code>ï¼Œä¹‹åå°±å¯ä»¥ä½¿ç”¨<code>URL+type=xml</code>çš„æ ¼å¼æ¥æŒ‡å®šè¿”å›çš„å†…å®¹æ ¼å¼</li>
<li>ä¸å¼€å¯çš„è¯å°±åªèƒ½é€šè¿‡ä¿®æ”¹è¯·æ±‚å¤´æ¥æŒ‡å®šè¿”å›æ ¼å¼ä¸ºxml</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* <span class="number">1</span>ã€é»˜è®¤æ”¯æŒæŠŠå¯¹è±¡å†™ä¸º<span class="type">json</span>ã€‚å› ä¸ºé»˜è®¤webåœºæ™¯å¯¼å…¥äº†jacksonå¤„ç†<span class="type">json</span>çš„åŒ…;jackson-core</span><br><span class="line">* <span class="number">2</span>ã€jacksonä¹Ÿæ”¯æŒæŠŠæ•°æ®å†™ä¸º<span class="type">xml</span>ã€‚å¯¼å…¥<span class="type">xml</span>ç›¸å…³ä¾èµ–</span><br></pre></td></tr></table></figure>
<p>è¯·æ±‚åŒä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥è¿”å›jsonå’Œxmlä¸åŒæ ¼å¼æ•°æ®</p>
<ol>
<li>
<p>å¼•å…¥æ”¯æŒå†™å‡ºxmlå†…å®¹ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.dataformat<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-dataformat-xml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æ ‡æ³¨æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JacksonXmlRootElement</span>  <span class="comment">// å¯ä»¥å†™å‡ºä¸ºxmlæ–‡æ¡£</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¼€å¯åŸºäºè¯·æ±‚å‚æ•°çš„å†…å®¹åå•†</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯åŸºäºè¯·æ±‚å‚æ•°çš„å†…å®¹åå•†åŠŸèƒ½ã€‚ é»˜è®¤å‚æ•°åï¼šformatã€‚ é»˜è®¤æ­¤åŠŸèƒ½ä¸å¼€å¯</span></span><br><span class="line"><span class="attr">spring.mvc.contentnegotiation.favor-parameter</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># æŒ‡å®šå†…å®¹åå•†æ—¶ä½¿ç”¨çš„å‚æ•°åã€‚é»˜è®¤æ˜¯ format</span></span><br><span class="line"><span class="attr">spring.mvc.contentnegotiation.parameter-name</span>=<span class="string">type</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æ•ˆæœ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/1681220124448-e8611612-97bc-4823-9b00-20dd9d579abf.png" alt="image.png"></p>
</li>
</ol>
<p>ä½¿ç”¨apifoxè¿›è¡Œæµ‹è¯•ï¼ŒæŒ‡å®šè¦xmlæ ¼å¼çš„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230910182303167.png" alt="image-20230910182303167"></p>
<h4 id="é…ç½®åå•†è§„åˆ™ä¸æ”¯æŒç±»å‹">é…ç½®åå•†è§„åˆ™ä¸æ”¯æŒç±»å‹</h4>
<ol>
<li>
<p>ä¿®æ”¹<strong>å†…å®¹åå•†æ–¹å¼</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¼€å¯å‚æ•°è¿›è¡Œå†…å®¹åå•†</span></span><br><span class="line"><span class="attr">spring.mvc.contentnegotiation.favor-parameter</span>=<span class="string">true  </span></span><br><span class="line"><span class="comment">#è‡ªå®šä¹‰å‚æ•°åï¼Œé»˜è®¤ä¸ºformat</span></span><br><span class="line"><span class="attr">spring.mvc.contentnegotiation.parameter-name</span>=<span class="string">myparam </span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¤§å¤šæ•° MediaType éƒ½æ˜¯å¼€ç®±å³ç”¨çš„ã€‚ä¹Ÿå¯ä»¥<strong>è‡ªå®šä¹‰å†…å®¹ç±»å‹ï¼Œå¦‚ï¼š</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.mvc.contentnegotiation.media-types.yaml</span>=<span class="string">text/yaml</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="è‡ªå®šä¹‰è¿”å›å†…å®¹">è‡ªå®šä¹‰è¿”å›å†…å®¹</h3>
<h4 id="å¢åŠ yamlè¿”å›æ”¯æŒ">å¢åŠ yamlè¿”å›æ”¯æŒ</h4>
<p>yamlä¸­æœ‰ä¸ªå¤šæ–‡æ¡£è§„èŒƒï¼Œæ¯â€™â€”'ç”¨äºåˆ†å‰²ä¸€ä¸ªæ–‡æ¡£</p>
<p>å¯¼å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.dataformat<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-dataformat-yaml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æŠŠå¯¹è±¡å†™å‡ºæˆYAML</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line">    <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">    person.setId(<span class="number">1L</span>);</span><br><span class="line">    person.setUserName(<span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">    person.setEmail(<span class="string">&quot;aaa@qq.com&quot;</span>);</span><br><span class="line">    person.setAge(<span class="number">18</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">YAMLFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">YAMLFactory</span>().disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER);</span><br><span class="line">    <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>(factory);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éªŒè¯æ˜¯å¦å˜ä¸ºyamlæ ¼å¼</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> mapper.writeValueAsString(person);</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™é…ç½®</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ–°å¢ä¸€ç§åª’ä½“ç±»å‹</span></span><br><span class="line"><span class="attr">spring.mvc.contentnegotiation.media-types.yaml</span>=<span class="string">text/yaml</span></span><br></pre></td></tr></table></figure>
<p>å¢åŠ <code>HttpMessageConverter</code>ç»„ä»¶ï¼Œä¸“é—¨è´Ÿè´£æŠŠå¯¹è±¡å†™å‡ºä¸ºyamlæ ¼å¼</p>
<p>å› ä¸ºæœ‰xmlå’Œjsonæ ¼å¼çš„MessageConverterï¼Œä½†æ˜¯æ²¡æœ‰yamlçš„ï¼Œæ‰€ä»¥è¦åŠ ä¸€ä¸ªyamlçš„MessageConverter</p>
<p>åœ¨é…ç½®ç±»ä¸­å†™ä»¥ä¸‹æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> WebMvcConfigurer <span class="title function_">webMvcConfigurer</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">WebMvcConfigurer</span>() &#123;</span><br><span class="line">        <span class="meta">@Override</span> <span class="comment">//é…ç½®ä¸€ä¸ªèƒ½æŠŠå¯¹è±¡è½¬ä¸ºyamlçš„messageConverter</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line">            converters.add(<span class="keyword">new</span> <span class="title class_">MyYamlHttpMessageConverter</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿”å›æ ¼å¼æ˜¯yamlæ—¶ï¼Œbootä¼šå¼€å§‹éå†æ‰€æœ‰</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/image-20230913181113319.png" alt="image-20230913181113319"></p>
<h4 id="æ€è€ƒï¼šå¦‚ä½•å¢åŠ å…¶ä»–ç±»å‹æ•°æ®çš„é€‚é…">æ€è€ƒï¼šå¦‚ä½•å¢åŠ å…¶ä»–ç±»å‹æ•°æ®çš„é€‚é…</h4>
<ul>
<li>
<p>é…ç½®åª’ä½“ç±»å‹æ”¯æŒ:</p>
<ul>
<li><code>spring.mvc.contentnegotiation.media-types.yaml=text/yaml</code></li>
</ul>
</li>
<li>
<p>ç¼–å†™å¯¹åº”çš„<code>HttpMessageConverter</code>ï¼Œè¦å‘Šè¯‰Bootè¿™ä¸ªæ”¯æŒçš„åª’ä½“ç±»å‹</p>
<ul>
<li>æŒ‰ç…§3çš„ç¤ºä¾‹</li>
</ul>
</li>
<li>
<p>æŠŠMessageConverterç»„ä»¶åŠ å…¥åˆ°åº•å±‚</p>
<ul>
<li>å®¹å™¨ä¸­æ”¾ä¸€ä¸ª<code>WebMvcConfigurer</code> ç»„ä»¶ï¼Œå¹¶é…ç½®åº•å±‚çš„<code>MessageConverter</code></li>
</ul>
</li>
</ul>
<h4 id="HttpMessageConverterçš„ç¤ºä¾‹å†™æ³•">HttpMessageConverterçš„ç¤ºä¾‹å†™æ³•</h4>
<p>ï¼ˆAbstract==æ‘˜è¦ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyYamlHttpMessageConverter</span> <span class="keyword">extends</span> <span class="title class_">AbstractHttpMessageConverter</span>&lt;Object&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="literal">null</span>; <span class="comment">//æŠŠå¯¹è±¡è½¬æˆyaml</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyYamlHttpMessageConverter</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//å‘Šè¯‰SpringBootè¿™ä¸ªMessageConverteræ”¯æŒå“ªç§åª’ä½“ç±»å‹  //åª’ä½“ç±»å‹</span></span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">MediaType</span>(<span class="string">&quot;text&quot;</span>, <span class="string">&quot;yaml&quot;</span>, Charset.forName(<span class="string">&quot;UTF-8&quot;</span>)));</span><br><span class="line">        <span class="type">YAMLFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">YAMLFactory</span>()</span><br><span class="line">                .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER);</span><br><span class="line">        <span class="built_in">this</span>.objectMapper = <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>(factory);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">supports</span><span class="params">(Class&lt;?&gt; clazz)</span> &#123;</span><br><span class="line">        <span class="comment">//åªè¦æ˜¯å¯¹è±¡ç±»å‹ï¼Œä¸æ˜¯åŸºæœ¬ç±»å‹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span>  <span class="comment">//@RequestBody</span></span><br><span class="line">    <span class="keyword">protected</span> Object <span class="title function_">readInternal</span><span class="params">(Class&lt;?&gt; clazz, HttpInputMessage inputMessage)</span> <span class="keyword">throws</span> IOException, HttpMessageNotReadableException &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span> <span class="comment">//@ResponseBody æŠŠå¯¹è±¡æ€ä¹ˆå†™å‡ºå»</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">writeInternal</span><span class="params">(Object methodReturnValue, HttpOutputMessage outputMessage)</span> <span class="keyword">throws</span> IOException, HttpMessageNotWritableException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//try-withå†™æ³•ï¼Œè‡ªåŠ¨å…³æµ</span></span><br><span class="line">        <span class="keyword">try</span>(<span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> outputMessage.getBody())&#123;</span><br><span class="line">            <span class="built_in">this</span>.objectMapper.writeValue(os,methodReturnValue);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å†…å®¹åå•†åŸç†-HttpMessageConverter-Httpä¿¡æ¯è½¬æ¢å™¨">å†…å®¹åå•†åŸç†-HttpMessageConverter(Httpä¿¡æ¯è½¬æ¢å™¨)</h3>
<ul>
<li><code>HttpMessageConverter</code> æ€ä¹ˆå·¥ä½œï¼Ÿåˆé€‚å·¥ä½œï¼Ÿ</li>
<li>å®šåˆ¶ <code>HttpMessageConverter</code>  æ¥å®ç°å¤šç«¯å†…å®¹åå•†</li>
<li>ç¼–å†™<code>WebMvcConfigurer</code>æä¾›çš„<code>configureMessageConverters</code>åº•å±‚ï¼Œä¿®æ”¹åº•å±‚çš„<code>MessageConverter</code></li>
</ul>
<h4 id="ResponseBodyç”±HttpMessageConverterå¤„ç†"><code>@ResponseBody</code>ç”±<code>HttpMessageConverter</code>å¤„ç†</h4>
<p>æ ‡æ³¨äº†<code>@ResponseBody</code>çš„è¿”å›å€¼ å°†ä¼šç”±æ”¯æŒå®ƒçš„ <code>HttpMessageConverter</code>å†™ç»™æµè§ˆå™¨</p>
<ol>
<li>
<p>å¦‚æœcontrolleræ–¹æ³•çš„è¿”å›å€¼æ ‡æ³¨äº† <code>@ResponseBody </code>æ³¨è§£</p>
</li>
<li>
<ol>
<li>è¯·æ±‚è¿›æ¥å…ˆæ¥åˆ°<code>DispatcherServlet</code>çš„<code>doDispatch()</code>è¿›è¡Œå¤„ç†ï¼ˆDispatcher==è°ƒåº¦ç¨‹åºï¼‰</li>
<li>æ‰¾åˆ°ä¸€ä¸ª <code>HandlerAdapter </code>é€‚é…å™¨ï¼ˆå¤„ç†ç¨‹åºé€‚é…å™¨ï¼‰ã€‚åˆ©ç”¨é€‚é…å™¨æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼ˆHandler==å¤„ç†ç¨‹åºï¼‰</li>
<li><code>RequestMappingHandlerAdapter</code>æ¥æ‰§è¡Œï¼Œè°ƒç”¨<code>invokeHandlerMethodï¼ˆï¼‰</code>æ¥æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼ˆinvoke==è°ƒç”¨ï¼‰ï¼ˆmapper==æ˜ å°„å™¨ï¼‰</li>
<li>ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰ï¼Œå‡†å¤‡å¥½ä¸¤ä¸ªä¸œè¥¿</li>
</ol>
</li>
<li>
<ol>
<li>
<ol>
<li>
<p><code>HandlerMethodArgumentResolver</code>ï¼šå‚æ•°è§£æå™¨ï¼Œç¡®å®šç›®æ ‡æ–¹æ³•æ¯ä¸ªå‚æ•°å€¼ï¼ˆArgument==è®ºç‚¹ï¼‰ï¼ˆResolver==è§£æå™¨ï¼‰</p>
</li>
<li>
<p><code>HandlerMethodReturnValueHandler</code>ï¼šè¿”å›å€¼å¤„ç†å™¨ï¼Œç¡®å®šç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼æ”¹æ€ä¹ˆå¤„ç†</p>
<ol>
<li>
<p>ä¾‹å¦‚ï¼šè¿”å›Personå¯¹è±¡æ—¶å¤„ç†æˆå¯¹åº”çš„æ•°æ®æ ¼å¼</p>
</li>
<li>
<p>ä¼šéå†æ‹¥æœ‰çš„æ‰€æœ‰å¤„ç†å™¨æ‰¾å‡ºé€‚åˆå¤„ç†æŸç§æ•°æ®ç±»å‹çš„å¤„ç†å™¨</p>
</li>
<li>
<p>ä¸‹é¢æ˜¯ç”¨äºé€‰æ‹©åˆé€‚å¤„ç†å™¨çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Nullable</span></span><br><span class="line"><span class="keyword">private</span> HandlerMethodReturnValueHandler <span class="title function_">selectHandler</span><span class="params">(<span class="meta">@Nullable</span> Object value, MethodParameter returnType)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isAsyncValue</span> <span class="operator">=</span> <span class="built_in">this</span>.isAsyncReturnValue(value, returnType);</span><br><span class="line">    <span class="type">Iterator</span> <span class="variable">var4</span> <span class="operator">=</span> <span class="built_in">this</span>.returnValueHandlers.iterator();</span><br><span class="line">                </span><br><span class="line">    HandlerMethodReturnValueHandler handler;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!var4.hasNext()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">                </span><br><span class="line">            handler = (HandlerMethodReturnValueHandler)var4.next();</span><br><span class="line">        &#125; <span class="keyword">while</span>(isAsyncValue &amp;&amp; !(handler <span class="keyword">instanceof</span> AsyncHandlerMethodReturnValueHandler));</span><br><span class="line">    &#125; <span class="keyword">while</span>(!handler.supportsReturnType(returnType));</span><br><span class="line">                </span><br><span class="line">    <span class="keyword">return</span> handler;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li><code>RequestMappingHandlerAdapter</code> é‡Œé¢çš„<code>invokeAndHandle()</code>çœŸæ­£æ‰§è¡Œç›®æ ‡æ–¹æ³•</li>
<li>ç›®æ ‡æ–¹æ³•æ‰§è¡Œå®Œæˆï¼Œä¼šè¿”å›<strong>è¿”å›å€¼å¯¹è±¡</strong></li>
<li><strong>æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„è¿”å›å€¼å¤„ç†å™¨</strong> <code>HandlerMethodReturnValueHandler</code></li>
<li>æœ€ç»ˆæ‰¾åˆ° <code>RequestResponseBodyMethodProcessor</code>èƒ½å¤„ç† æ ‡æ³¨äº† <code>@ResponseBody</code>æ³¨è§£çš„æ–¹æ³•ï¼ˆProcessor==å¤„ç†å™¨ï¼‰</li>
<li><code>RequestResponseBodyMethodProcessor</code> è°ƒç”¨<code>writeWithMessageConverters </code>,åˆ©ç”¨<code>MessageConverter</code>æŠŠè¿”å›å€¼å†™å‡ºå»</li>
</ol>
</li>
</ol>
<p>ä¸Šé¢è§£é‡Šï¼š<code>@ResponseBody</code>ç”±<code>HttpMessageConverter</code>å¤„ç†</p>
<ol>
<li>
<p><code>HttpMessageConverter</code> ä¼š<strong>å…ˆè¿›è¡Œå†…å®¹åå•†</strong></p>
</li>
<li>
<ol>
<li>
<p>éå†æ‰€æœ‰çš„<code>MessageConverter</code>çœ‹è°æ”¯æŒè¿™ç§<strong>å†…å®¹ç±»å‹çš„æ•°æ®</strong>ï¼ˆConverter==è½¬æ¢å™¨ï¼‰</p>
</li>
<li>
<p>é»˜è®¤<code>MessageConverter</code>æœ‰ä»¥ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/1681275459547-89d8d651-b52f-4d47-bff9-6db123624424.png" alt="image.png"></p>
<ol>
<li>
<ol>
<li>æœ€ç»ˆå› ä¸ºè¦<code>json</code>æ‰€ä»¥<code>MappingJackson2HttpMessageConverter</code>æ”¯æŒå†™å‡ºjson</li>
<li>jacksonç”¨<code>ObjectMapper</code>æŠŠå¯¹è±¡å†™å‡ºå»</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="WebMvcAutoConfigurationæä¾›å‡ ç§é»˜è®¤HttpMessageConverters">WebMvcAutoConfiguration<code>æä¾›å‡ ç§é»˜è®¤</code>HttpMessageConverters</h4>
<ul>
<li>
<p><code>EnableWebMvcConfiguration</code>é€šè¿‡ <code>addDefaultHttpMessageConverters</code>æ·»åŠ äº†é»˜è®¤çš„<code>MessageConverter</code>ï¼›å¦‚ä¸‹ï¼š</p>
</li>
<li>
<ul>
<li><code>ByteArrayHttpMessageConverter</code>ï¼š æ”¯æŒå­—èŠ‚æ•°æ®è¯»å†™</li>
<li><code>StringHttpMessageConverter</code>ï¼š æ”¯æŒå­—ç¬¦ä¸²è¯»å†™</li>
<li><code>ResourceHttpMessageConverter</code>ï¼šæ”¯æŒèµ„æºè¯»å†™</li>
<li><code>ResourceRegionHttpMessageConverter</code>: æ”¯æŒåˆ†åŒºèµ„æºå†™å‡º</li>
<li><code>AllEncompassingFormHttpMessageConverter</code>ï¼šæ”¯æŒè¡¨å•xml/jsonè¯»å†™</li>
<li><code>MappingJackson2HttpMessageConverter</code>ï¼š æ”¯æŒè¯·æ±‚å“åº”ä½“Jsonè¯»å†™</li>
</ul>
</li>
</ul>
<p>é»˜è®¤8ä¸ªï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/1681302411019-0c0425aa-6679-4b2b-a456-b31c151c6e83.png" alt="image.png"></p>
<p>ç³»ç»Ÿæä¾›é»˜è®¤çš„MessageConverter åŠŸèƒ½æœ‰é™ï¼Œä»…ç”¨äºjsonæˆ–è€…æ™®é€šè¿”å›æ•°æ®ã€‚é¢å¤–å¢åŠ æ–°çš„å†…å®¹åå•†åŠŸèƒ½ï¼Œå¿…é¡»å¢åŠ æ–°çš„<code>HttpMessageConverter</code></p>
<h2 id="æ¨¡æ¿å¼•æ“">æ¨¡æ¿å¼•æ“</h2>
<ul>
<li>
<p>ç”±äº <strong>SpringBoot</strong> ä½¿ç”¨äº†<strong>åµŒå…¥å¼ Servlet å®¹å™¨</strong>ã€‚æ‰€ä»¥ <strong>JSP</strong> é»˜è®¤æ˜¯<strong>ä¸èƒ½ä½¿ç”¨</strong>çš„ã€‚</p>
</li>
<li>
<p>å¦‚æœéœ€è¦<strong>æœåŠ¡ç«¯é¡µé¢æ¸²æŸ“</strong>ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ æ¨¡æ¿å¼•æ“ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/SpringBoot_Image/1681354523290-b89d7e0d-b9aa-40f5-8d22-d3d09d02b136.png" alt="image.png"></p>
</li>
</ul>
<p>æ¨¡æ¿å¼•æ“é¡µé¢é»˜è®¤æ”¾åœ¨ src/main/resources/templates</p>
<p><strong>SpringBoot</strong> åŒ…å«ä»¥ä¸‹æ¨¡æ¿å¼•æ“çš„è‡ªåŠ¨é…ç½®</p>
<ul>
<li>FreeMarker</li>
<li>Groovy</li>
<li><strong>Thymeleaf</strong></li>
<li>Mustache</li>
</ul>
<p><strong>Thymeleafå®˜ç½‘</strong>ï¼š<a target="_blank" rel="noopener" href="https://www.thymeleaf.org/">https://www.thymeleaf.org/</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Good Thymes Virtual Grocery<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">media</span>=<span class="string">&quot;all&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/css/gtvg.css&#125;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;#&#123;home.welcome&#125;&quot;</span>&gt;</span>Welcome to our grocery store!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&lt;/body</span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Thymeleafæ•´åˆ">Thymeleafæ•´åˆ</h3>
<h3 id="åŸºç¡€è¯­æ³•">åŸºç¡€è¯­æ³•</h3>
<h3 id="å±æ€§é…ç½®">å±æ€§é…ç½®</h3>
<h3 id="éå†">éå†</h3>
<h3 id="åˆ¤æ–­">åˆ¤æ–­</h3>
<h3 id="å±æ€§ä¼˜å…ˆçº§">å±æ€§ä¼˜å…ˆçº§</h3>
<h3 id="è¡Œå†…å†™æ³•">è¡Œå†…å†™æ³•</h3>
<h3 id="å˜é‡é€‰æ‹©">å˜é‡é€‰æ‹©</h3>
<h2 id="å›½é™…åŒ–">å›½é™…åŒ–</h2>
<h2 id="é”™è¯¯å¤„ç†">é”™è¯¯å¤„ç†</h2>
<h2 id="åµŒå…¥å¼å®¹å™¨">åµŒå…¥å¼å®¹å™¨</h2>
<h2 id="å…¨é¢æ¥ç®¡SpringMVC">å…¨é¢æ¥ç®¡SpringMVC</h2>
<h2 id="æœ€ä½³å®è·µ">æœ€ä½³å®è·µ</h2>
<h3 id="ä¸‰ç§æ–¹æ³•">ä¸‰ç§æ–¹æ³•</h3>
<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>ç”¨æ³•</th>
<th>æ•ˆæœ</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å…¨è‡ªåŠ¨</strong></td>
<td>ç›´æ¥ç¼–å†™æ§åˆ¶å™¨é€»è¾‘</td>
<td></td>
<td>å…¨éƒ¨ä½¿ç”¨<strong>è‡ªåŠ¨é…ç½®é»˜è®¤æ•ˆæœ</strong></td>
</tr>
<tr>
<td><strong>æ‰‹è‡ªä¸€ä½“</strong></td>
<td><code>@Configuration</code> +   é…ç½®<code>**WebMvcConfigurer**</code>+ <em>é…ç½® WebMvcRegistrations</em></td>
<td><strong>ä¸è¦æ ‡æ³¨</strong> <code>@**EnableWebMvc**</code></td>
<td><strong>ä¿ç•™è‡ªåŠ¨é…ç½®æ•ˆæœ</strong> <strong>æ‰‹åŠ¨è®¾ç½®éƒ¨åˆ†åŠŸèƒ½</strong> å®šä¹‰MVCåº•å±‚ç»„ä»¶</td>
</tr>
<tr>
<td><strong>å…¨æ‰‹åŠ¨</strong></td>
<td><code>@Configuration</code> +   é…ç½®<code>**WebMvcConfigurer**</code></td>
<td><strong>æ ‡æ³¨</strong> <code>@**EnableWebMvc**</code></td>
<td><strong>ç¦ç”¨è‡ªåŠ¨é…ç½®æ•ˆæœ</strong> <strong>å…¨æ‰‹åŠ¨è®¾ç½®</strong></td>
</tr>
</tbody>
</table>
<p>æ€»ç»“ï¼š</p>
<p><strong>ç»™å®¹å™¨ä¸­å†™ä¸€ä¸ªé…ç½®ç±»</strong><code>**@Configuration**</code><strong>å®ç°</strong> <code>**WebMvcConfigurer**</code><strong>ä½†æ˜¯ä¸è¦æ ‡æ³¨</strong> <code>**@EnableWebMvc**</code><strong>æ³¨è§£ï¼Œå®ç°æ‰‹è‡ªä¸€ä½“çš„æ•ˆæœã€‚</strong></p>
<h3 id="ä¸¤ç§æ¨¡å¼">ä¸¤ç§æ¨¡å¼</h3>
<p>1ã€<code>å‰ååˆ†ç¦»æ¨¡å¼</code>ï¼š <code>@RestController </code>å“åº”JSONæ•°æ®</p>
<p>2ã€<code>å‰åä¸åˆ†ç¦»æ¨¡å¼</code>ï¼š@Controller + Thymeleafæ¨¡æ¿å¼•æ“</p>
<h2 id="Webæ–°ç‰¹æ€§">Webæ–°ç‰¹æ€§</h2>
<h1>AIæ€»ç»“</h1>
<h2 id="SpringBootå¸¸ç”¨æ³¨è§£">SpringBootå¸¸ç”¨æ³¨è§£</h2>
<p>Spring Bootä¸­å¸¸ç”¨çš„æ³¨è§£æœ‰:</p>
<p>@SpringBootApplication:ç”³æ˜è®©spring bootè‡ªåŠ¨ç»™ç¨‹åºè¿›è¡Œå¿…è¦çš„é…ç½®,è¿™ä¸ªæ³¨è§£EQUALäºä»¥é»˜è®¤å±æ€§ä½¿ç”¨@Configurationã€@EnableAutoConfigurationå’Œ@ComponentScanã€‚</p>
<p>@RestController:ç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ç»„ä»¶(å¦‚strutsä¸­çš„action),è¿™äº›ç»„ä»¶è¿”å›JSON,XMLæˆ–è‡ªå®šä¹‰mediaTypeå†…å®¹åˆ°å®¢æˆ·ç«¯ã€‚</p>
<p>@RequestMapping:æä¾›è·¯ç”±ä¿¡æ¯,è´Ÿè´£URLåˆ°Controllerä¸­çš„å…·ä½“å‡½æ•°çš„æ˜ å°„ã€‚</p>
<p>@Autowired:è‡ªåŠ¨å¯¼å…¥ä¾èµ–çš„beanã€‚</p>
<p>@Component:é€šç”¨çš„æ³¨è§£,å¯æ ‡æ³¨ä»»æ„ç±»ä¸ºSpringç»„ä»¶ã€‚</p>
<p>@Service:ä¸€èˆ¬ç”¨äºä¿®é¥°serviceå±‚çš„ç»„ä»¶ã€‚</p>
<p>@Repository:ä½¿ç”¨@Repositoryæ³¨è§£å¯ä»¥ç¡®ä¿DAOæˆ–è€…repositoriesæä¾›å¼‚å¸¸è½¬è¯‘,è¿™ä¸ªæ³¨è§£ä¿®é¥°çš„DAOæˆ–è€…repositoriesç±»ä¼šè¢«ComponetScanå‘ç°å¹¶é…ç½®,åŒæ—¶ä¹Ÿä¸éœ€è¦ä¸ºå®ƒä»¬æä¾›XMLé…ç½®é¡¹ã€‚</p>
<p>@Configuration:ç›¸å½“äºä¼ ç»Ÿçš„xmlé…ç½®æ–‡ä»¶,å¦‚æœæœ‰äº›ç¬¬ä¸‰æ–¹åº“éœ€è¦ç”¨åˆ°xmlæ–‡ä»¶,å»ºè®®ä»ç„¶é€šè¿‡@Configurationç±»ä½œä¸ºé¡¹ç›®ä¸­å”¯ä¸€çš„é…ç½®ã€‚</p>
<p>@Bean:ç”¨åœ¨è¿”å›å®ä¾‹çš„æ–¹æ³•ä¸Š(é€šå¸¸æ˜¯å·¥å‚æ¨¡å¼),æ³¨æ˜å°†è¯¥æ–¹æ³•çš„è¿”å›å€¼åŠ å…¥Beanå®¹å™¨ä¸­,é»˜è®¤åç§°ä¸ºæ–¹æ³•åã€‚</p>
<p>@Value:æ³¨å…¥Spring boot application.propertiesé…ç½®æ–‡ä»¶çš„é”®å€¼å¯¹è¿›æ¥ã€‚</p>
<p>@Conditional:æ¡ä»¶è£…é…:æ»¡è¶³ConditionalæŒ‡å®šçš„æ¡ä»¶,åˆ™è¿›è¡Œç»„ä»¶æ³¨å…¥ã€‚</p>
<p>è¿™äº›æ˜¯Spring Bootä¸­å¸¸è§å’Œé‡è¦çš„æ³¨è§£,ç”¨äºé…ç½®Springå®¹å™¨ã€å®ç°è‡ªåŠ¨é…ç½®ã€ç»„ä»¶æ‰«æç­‰åŠŸèƒ½ã€‚åˆç†åˆ©ç”¨æ³¨è§£å¯ä»¥ç®€åŒ–Spring Booté¡¹ç›®çš„é…ç½®ã€‚</p>
<h2 id="jpsæŒ‡ä»¤">jpsæŒ‡ä»¤</h2>
<p>jps(JVM Process Status Tool) æ˜¯JDKæä¾›çš„ä¸€ä¸ªæŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­Javaè¿›ç¨‹çŠ¶æ€çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<p>jpsä¸»è¦åŠŸèƒ½:</p>
<ul>
<li>æ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸­çš„çƒ­ç‚¹Javaè¿›ç¨‹çŠ¶æ€</li>
<li>æ˜¾ç¤ºJavaè¿›ç¨‹çš„è¿›ç¨‹å·(PID)</li>
<li>æ˜¾ç¤ºJavaè¿›ç¨‹æ‰€å¯¹åº”çš„ä¸»ç±»å®Œæ•´åŒ…åæˆ–Jarè·¯å¾„</li>
</ul>
<p>jpsåŸºæœ¬è¯­æ³•:</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">jps</span><span class="meta"> [options]</span></span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨é€‰é¡¹:</p>
<ul>
<li>-q :åªè¾“å‡ºè¿›ç¨‹ID</li>
<li>-m :è¾“å‡ºè¿›ç¨‹å¯¹åº”çš„main classçš„å®Œæ•´è·¯å¾„</li>
<li>-l :è¾“å‡ºä¸»ç±»çš„å…¨å,å¦‚æœè¿›ç¨‹æ‰§è¡Œçš„æ˜¯JaråŒ…,è¾“å‡ºJarè·¯å¾„</li>
<li>-v :è¾“å‡ºè¿›ç¨‹å¯åŠ¨æ—¶çš„JVMå‚æ•°</li>
</ul>
<p>ä¾‹å­:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">jps -<span class="selector-tag">q</span> </span><br><span class="line"><span class="number">2991</span></span><br><span class="line"><span class="number">28972</span></span><br><span class="line"></span><br><span class="line">jps -m</span><br><span class="line"><span class="number">2991</span> org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.startup</span><span class="selector-class">.Bootstrap</span></span><br><span class="line"><span class="number">28972</span> com<span class="selector-class">.xxx</span><span class="selector-class">.MainClass</span></span><br><span class="line"></span><br><span class="line">jps -l</span><br><span class="line"><span class="number">2991</span> org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.startup</span><span class="selector-class">.Bootstrap</span></span><br><span class="line"><span class="number">28972</span> com<span class="selector-class">.xxx</span><span class="selector-class">.MainClass</span></span><br><span class="line"></span><br><span class="line">jps -v</span><br><span class="line"><span class="number">2991</span> Catalina -Djava<span class="selector-class">.util</span><span class="selector-class">.logging</span>.manager=org<span class="selector-class">.apache</span><span class="selector-class">.juli</span><span class="selector-class">.ClassLoaderLogManager</span> </span><br><span class="line"><span class="number">28972</span> -Xms512m -Xmx1024m -XX:MetaspaceSize=<span class="number">128</span>m</span><br></pre></td></tr></table></figure>
<p>jpsç»“åˆgrepå‘½ä»¤å¯ä»¥æ–¹ä¾¿æœç´¢è¿›ç¨‹ã€‚</p>
<p>jpsé€šè¿‡æŸ¥çœ‹æœ¬åœ°JVMè¿›ç¨‹æ¥å®ç°æŸ¥çœ‹Javaè¿›ç¨‹å½“å‰çŠ¶æ€çš„åŠŸèƒ½ã€‚ä¸Linuxä¸‹pså‘½ä»¤çš„ä½œç”¨ç±»ä¼¼ã€‚</p>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>SpringBootåˆè¯†</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://momoao.github.io/posts/202308301711.html">https://momoao.github.io/posts/202308301711.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>MoMoAoğŸ“</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2023-07-10</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2023-09-13</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>Java</a><a class="post-meta__tags" href="/tags/SpringBoot/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>SpringBoot</a></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">æŠ•å–‚ä½œè€…</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://momoao.github.io/assets/wxcollection.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wxcollection.jpg" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://momoao.github.io/assets/zfbcollection.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/zfbcollection.jpg" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/202308241921.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w12.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Shellç¼–ç¨‹</div></div></a></div><div class="next-post pull-right"><a href="/posts/2013454d.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w12.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/202309291021.html" title="è‹ç©¹å¤–å–è¯¾å ‚ç¬”è®°"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w17.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-10-07</div><div class="title">è‹ç©¹å¤–å–è¯¾å ‚ç¬”è®°</div></div></a></div><div><a href="/posts/202310030946.html" title="JVM"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-10-07</div><div class="title">JVM</div></div></a></div><div><a href="/posts/202308281533.html" title="Javaåå°„"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w14.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-09-24</div><div class="title">Javaåå°„</div></div></a></div><div><a href="/posts/202308310902.html" title="JavaåŸºç¡€"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w17.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-09-24</div><div class="title">JavaåŸºç¡€</div></div></a></div><div><a href="/posts/202310071038.html" title="Javaè®¾è®¡æ¨¡å¼"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w13.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-10-07</div><div class="title">Javaè®¾è®¡æ¨¡å¼</div></div></a></div><div><a href="/posts/202308281527.html" title="Mybatis"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-28</div><div class="title">Mybatis</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">SpringBoot</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">åŠŸèƒ½æè¿°</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å¿«é€Ÿå…¥é—¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text">å¼€å‘æµç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E7%8E%AF%E5%A2%83%E6%89%93%E5%8C%85"><span class="toc-text">å°†ç¯å¢ƒæ‰“åŒ…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA%E7%9B%B4%E6%8E%A5%E5%88%9B%E5%BB%BASpringboot%E9%A1%B9%E7%9B%AE"><span class="toc-text">IDEAç›´æ¥åˆ›å»ºSpringbooté¡¹ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%88%86%E6%9E%90"><span class="toc-text">åº”ç”¨åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AF%BC%E5%85%A5starter-web%E6%89%80%E6%9C%89%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96%E9%83%BD%E5%AF%BC%E5%85%A5%E8%BF%9B%E6%9D%A5"><span class="toc-text">ä¸ºä»€ä¹ˆå¯¼å…¥starter-webæ‰€æœ‰ç›¸å…³ä¾èµ–éƒ½å¯¼å…¥è¿›æ¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%89%88%E6%9C%AC%E5%8F%B7%E9%83%BD%E4%B8%8D%E7%94%A8%E5%86%99"><span class="toc-text">ä¸ºä»€ä¹ˆç‰ˆæœ¬å·éƒ½ä¸ç”¨å†™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="toc-text">è‡ªå®šä¹‰ç‰ˆæœ¬å·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96"><span class="toc-text">ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%9C%BA%E5%88%B6"><span class="toc-text">è‡ªåŠ¨é…ç½®æœºåˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E6%AD%A5%E4%BA%86%E8%A7%A3"><span class="toc-text">åˆæ­¥äº†è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B"><span class="toc-text">å®Œæ•´æµç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AD%A6%E5%A5%BDSpringBoot"><span class="toc-text">å¦‚ä½•å­¦å¥½SpringBoot</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%8A%80%E8%83%BD"><span class="toc-text">æ ¸å¿ƒæŠ€èƒ½</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="toc-text">å¸¸ç”¨æ³¨è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E6%B3%A8%E5%86%8C"><span class="toc-text">ç»„ä»¶æ³¨å†Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%B3%A8%E8%A7%A3"><span class="toc-text">æ¡ä»¶æ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%BB%91%E5%AE%9A"><span class="toc-text">å±æ€§ç»‘å®š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#YAML%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">YAMLé…ç½®æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">åŸºæœ¬è¯­æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-text">ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%86%E8%8A%82"><span class="toc-text">ç»†èŠ‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%9Alombok"><span class="toc-text">å°æŠ€å·§ï¼šlombok</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE"><span class="toc-text">æ—¥å¿—é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-text">ç®€ä»‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%A0%BC%E5%BC%8F"><span class="toc-text">æ—¥å¿—æ ¼å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E6%97%A5%E5%BF%97"><span class="toc-text">è®°å½•æ—¥å¿—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB"><span class="toc-text">æ—¥å¿—çº§åˆ«</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E5%88%86%E7%BB%84"><span class="toc-text">æ—¥å¿—åˆ†ç»„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA"><span class="toc-text">æ–‡ä»¶è¾“å‡º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%BD%92%E6%A1%A3%E4%B8%8E%E6%96%87%E4%BB%B6%E5%88%87%E5%89%B2"><span class="toc-text">æ–‡ä»¶å½’æ¡£ä¸æ–‡ä»¶åˆ‡å‰²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE"><span class="toc-text">è‡ªå®šä¹‰é…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E6%97%A5%E5%BF%97%E7%BB%84%E5%90%88"><span class="toc-text">åˆ‡æ¢æ—¥å¿—ç»„åˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E6%88%98"><span class="toc-text">æœ€ä½³å®æˆ˜</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Webå¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#WebMvcAutoConfiguration%E7%B1%BB%E5%8E%9F%E7%90%86"><span class="toc-text">WebMvcAutoConfigurationç±»åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%95%88%E6%9D%A1%E4%BB%B6"><span class="toc-text">ç”Ÿæ•ˆæ¡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E6%9E%9C"><span class="toc-text">æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebMvcConfigurer%E6%8E%A5%E5%8F%A3"><span class="toc-text">WebMvcConfigureræ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%A7%84%E5%88%99%E6%BA%90%E7%A0%81"><span class="toc-text">é™æ€èµ„æºè§„åˆ™æºç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EnableWebMvcConfiguration-%E6%BA%90%E7%A0%81"><span class="toc-text">EnableWebMvcConfiguration æºç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%94%BE%E4%B8%80%E4%B8%AAWebMvcConfigurer%E5%B0%B1%E8%83%BD%E9%85%8D%E7%BD%AE%E5%BA%95%E5%B1%82%E8%A1%8C%E4%B8%BA"><span class="toc-text">ä¸ºä»€ä¹ˆå®¹å™¨ä¸­æ”¾ä¸€ä¸ªWebMvcConfigurerå°±èƒ½é…ç½®åº•å±‚è¡Œä¸º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebMvcConfigurationSupport"><span class="toc-text">WebMvcConfigurationSupport</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E5%9C%BA%E6%99%AF"><span class="toc-text">Webåœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-text">è‡ªåŠ¨é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%95%88%E6%9E%9C"><span class="toc-text">é»˜è®¤æ•ˆæœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90"><span class="toc-text">é™æ€èµ„æº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%A7%84%E5%88%99"><span class="toc-text">é»˜è®¤è§„åˆ™</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%98%A0%E5%B0%84"><span class="toc-text">é™æ€èµ„æºæ˜ å°„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%BC%93%E5%AD%98"><span class="toc-text">é™æ€èµ„æºç¼“å­˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AC%A2%E8%BF%8E%E9%A1%B5"><span class="toc-text">æ¬¢è¿é¡µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Favicion"><span class="toc-text">Favicion</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E5%AE%9E%E9%AA%8C"><span class="toc-text">ç¼“å­˜å®éªŒ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%A7%84%E5%88%99"><span class="toc-text">è‡ªå®šä¹‰é™æ€èµ„æºè§„åˆ™</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F"><span class="toc-text">é…ç½®æ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%96%B9%E5%BC%8F"><span class="toc-text">ä»£ç æ–¹å¼</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E5%8C%B9%E9%85%8D"><span class="toc-text">è·¯å¾„åŒ¹é…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ant%E9%A3%8E%E6%A0%BC%E8%B7%AF%E5%BE%84%E7%94%A8%E6%B3%95"><span class="toc-text">Anté£æ ¼è·¯å¾„ç”¨æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2"><span class="toc-text">æ¨¡å¼åˆ‡æ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AntPathMatcher-%E4%B8%8E-PathPatternParser"><span class="toc-text">AntPathMatcher ä¸ PathPatternParser</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E5%8D%8F%E5%95%86"><span class="toc-text">å†…å®¹åå•†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%AB%AF%E5%86%85%E5%AE%B9%E9%80%82%E9%85%8D"><span class="toc-text">å¤šç«¯å†…å®¹é€‚é…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%A7%84%E5%88%99-2"><span class="toc-text">é»˜è®¤è§„åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA"><span class="toc-text">æ•ˆæœæ¼”ç¤º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%8D%8F%E5%95%86%E8%A7%84%E5%88%99%E4%B8%8E%E6%94%AF%E6%8C%81%E7%B1%BB%E5%9E%8B"><span class="toc-text">é…ç½®åå•†è§„åˆ™ä¸æ”¯æŒç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%94%E5%9B%9E%E5%86%85%E5%AE%B9"><span class="toc-text">è‡ªå®šä¹‰è¿”å›å†…å®¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0yaml%E8%BF%94%E5%9B%9E%E6%94%AF%E6%8C%81"><span class="toc-text">å¢åŠ yamlè¿”å›æ”¯æŒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%9D%E8%80%83%EF%BC%9A%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%82%E9%85%8D"><span class="toc-text">æ€è€ƒï¼šå¦‚ä½•å¢åŠ å…¶ä»–ç±»å‹æ•°æ®çš„é€‚é…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HttpMessageConverter%E7%9A%84%E7%A4%BA%E4%BE%8B%E5%86%99%E6%B3%95"><span class="toc-text">HttpMessageConverterçš„ç¤ºä¾‹å†™æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E5%8D%8F%E5%95%86%E5%8E%9F%E7%90%86-HttpMessageConverter-Http%E4%BF%A1%E6%81%AF%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="toc-text">å†…å®¹åå•†åŸç†-HttpMessageConverter(Httpä¿¡æ¯è½¬æ¢å™¨)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ResponseBody%E7%94%B1HttpMessageConverter%E5%A4%84%E7%90%86"><span class="toc-text">@ResponseBodyç”±HttpMessageConverterå¤„ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WebMvcAutoConfiguration%E6%8F%90%E4%BE%9B%E5%87%A0%E7%A7%8D%E9%BB%98%E8%AE%A4HttpMessageConverters"><span class="toc-text">WebMvcAutoConfigurationæä¾›å‡ ç§é»˜è®¤HttpMessageConverters</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E"><span class="toc-text">æ¨¡æ¿å¼•æ“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Thymeleaf%E6%95%B4%E5%90%88"><span class="toc-text">Thymeleafæ•´åˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">åŸºç¡€è¯­æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE"><span class="toc-text">å±æ€§é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86"><span class="toc-text">éå†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD"><span class="toc-text">åˆ¤æ–­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">å±æ€§ä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%8C%E5%86%85%E5%86%99%E6%B3%95"><span class="toc-text">è¡Œå†…å†™æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E9%80%89%E6%8B%A9"><span class="toc-text">å˜é‡é€‰æ‹©</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BD%E9%99%85%E5%8C%96"><span class="toc-text">å›½é™…åŒ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-text">é”™è¯¯å¤„ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%AE%B9%E5%99%A8"><span class="toc-text">åµŒå…¥å¼å®¹å™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E6%8E%A5%E7%AE%A1SpringMVC"><span class="toc-text">å…¨é¢æ¥ç®¡SpringMVC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-text">æœ€ä½³å®è·µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-text">ä¸‰ç§æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-text">ä¸¤ç§æ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-text">Webæ–°ç‰¹æ€§</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">AIæ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="toc-text">SpringBootå¸¸ç”¨æ³¨è§£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jps%E6%8C%87%E4%BB%A4"><span class="toc-text">jpsæŒ‡ä»¤</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">æ ¼è¨€ğŸ§¬</p><div class="bg-ad"><div>å¸¦ä¸Šä¿¡ä»°ï¼Œå»å¯»æ‰¾å±äºä½ è‡ªå·±çš„å›½åº¦å§ï¼å“ªæ€•å€¾å°½ä¸€ç”Ÿã€‚âœ¨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">ç‚¹å‡»å¼€å¯æ˜Ÿè¾°ä¹‹æ—…</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">çŒœä½ æƒ³çœ‹ğŸ’¡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">é­”æ”¹æŒ‡å—</a><a href="/box/nav/">ç½‘å€å¯¼èˆª</a></li><li><a href="/social/link/">æˆ‘çš„æœ‹å‹</a><a href="/comments/">ç•™ç‚¹ä»€ä¹ˆ</a></li><li><a href="/personal/about/">å…³äºä½œè€…</a><a href="/archives/">æ–‡ç« å½’æ¡£</a></li><li><a href="/categories/">æ–‡ç« åˆ†ç±»</a><a href="/tags/">æ–‡ç« æ ‡ç­¾</a></li><li><a href="/box/Gallery/">æˆ‘çš„ç”»å»Š</a><a href="/personal/bb/">æˆ‘çš„å” å¨</a></li><li><a href="/site/time/">å»ºè®¾è¿›ç¨‹</a><a href="/site/census/">ç½‘ç«™ç»Ÿè®¡</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">æ¨èå‹é“¾âŒ›</p><div class="ft-img-group"><div class="img-group-item"><a href="https://MoMoAo.github.io" title="MoMoAoğŸ“"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/tx.jpg" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§ŸğŸ¥‚"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§ŸğŸ¥‚"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§ŸğŸ¥‚"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§ŸğŸ¥‚"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§ŸğŸ¥‚"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2022-2023</b></span><span><b>&nbsp;&nbsp;By MoMoAoğŸ“</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="æœ¬ç«™æ•°æ®åˆ†æå¾—ç›Šäº51laæŠ€æœ¯æ”¯æŒ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20226665" style="margin-inline:5px" title="æœ¬ç«™å·²åŠ å…¥èŒICPè±ªåå¥—é¤ï¼ŒèŒICPå¤‡20226665å·"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/èŒICPå¤‡-20226665-fe1384.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="æœ¬ç½‘ç«™ç»Service Workeråˆ†æµè‡³ç¼¤çº·äº‘å¯¹è±¡å­˜å‚¨"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-ç¼¤çº·äº‘-9c62da.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="æœ¬ç«™ä½¿ç”¨ç½‘ç›¾æ˜Ÿçƒæä¾›CDNåŠ é€Ÿä¸é˜²æŠ¤"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/CDN-ç½‘ç›¾æ˜Ÿçƒ-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="æœ¬ç½‘ç«™æºç ç”±Githubæä¾›å­˜å‚¨ä»“åº“"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="å³é”®æ¨¡å¼" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="åˆ†äº«é“¾æ¥" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>å¤åˆ¶</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>ç™¾åº¦æœç´¢</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>ç²˜è´´</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>ç©ºé™è¯„è®º</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>å¤åˆ¶æœ¬æ–‡åœ°å€</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>ä¿å­˜å›¾ç‰‡</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>åœ¨æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶å›¾ç‰‡é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>æ˜¼å¤œåˆ‡æ¢</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>å…³äºåšå®¢</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>ç¾åŒ–è®¾ç½®</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>åˆ‡æ¢å…¨å±</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>æ‰“å°é¡µé¢</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async data-pjax src="/js/txmap.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><script id="click-show-text" src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/click-show-text.min.js" data-mobile="true" data-text="ROMANTIC,LOVE,HONEY,PEACE,HAPPY,ETERNITY,é¥é¥é¢†å…ˆ" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://MoMoAo.github.io/categories/æ“ä½œç³»ç»Ÿ/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸŸ MoMoAoã®æ“ä½œç³»ç»ŸåŸºç¡€ç¬”è®° (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://MoMoAo.github.io/categories/æ•°æ®åº“/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¨ MoMoAoã®æ•°æ®åº“ç¬”è®° (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://MoMoAo.github.io/categories/å·¥å…·/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¥ MoMoAoã®å·¥å…·æ¼”ç¤ºç¬”è®° (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://MoMoAo.github.io/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>';
    console.log('å·²æŒ‚è½½magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308301711.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w14.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308301711.html&quot;);" href="javascript:void(0);" alt="">SpringBootåˆè¯†</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»SpringBootçš„åŸºç¡€çŸ¥è¯†</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308301711.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202309121527.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-09-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202309121527.html&quot;);" href="javascript:void(0);" alt="">ä¸‰çº§ç½‘ç»œæŠ€æœ¯</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»è®¡ç®—æœºä¸‰çº§ç½‘ç»œæŠ€æœ¯è€ƒè¯•å†…å®¹</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202309121527.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202309291021.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202309291021.html&quot;);" href="javascript:void(0);" alt="">è‹ç©¹å¤–å–è¯¾å ‚ç¬”è®°</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡è®°å½•è‹ç©¹å¤–å–é¡¹ç›®æ­å»ºè¿‡ç¨‹ä¸­çš„ç¬”è®°</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202309291021.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308281529.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308281529.html&quot;);" href="javascript:void(0);" alt="">Spring</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»Springå’ŒSpringMVCçš„å¼€å‘æ­¥éª¤</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308281529.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241554.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w1.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241554.html&quot;);" href="javascript:void(0);" alt="">VSCodeä¸­C++ç¯å¢ƒé…ç½®</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»VSCodeä¸­C++ç¯å¢ƒçš„é…ç½®å’Œä½¿ç”¨</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241554.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w12.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt="">Shellç¼–ç¨‹</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Shellç¼–ç¨‹çš„åŸºç¡€</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241944.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241944.html&quot;);" href="javascript:void(0);" alt="">Redis</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Redisçš„å®‰è£…å’Œä½¿ç”¨</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241944.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241942.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241942.html&quot;);" href="javascript:void(0);" alt="">QTé£æœºå¤§æˆ˜æºç </a><div class="blog-slider__text">ğŸ¥§ä½¿ç”¨QTå†™çš„é£æœºå¤§æˆ˜çš„çº¯æºç </div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241942.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202309142103.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-09-14</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202309142103.html&quot;);" href="javascript:void(0);" alt="">MyBatis-Plus</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»MyBatis-Plusçš„ä½¿ç”¨å’ŒåŸºç¡€çŸ¥è¯†</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202309142103.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310071028.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310071028.html&quot;);" href="javascript:void(0);" alt="">Javaé›†åˆæ¡†æ¶</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Javaé›†åˆæ¡†æ¶çš„åŸºç¡€çŸ¥è¯†ç‚¹</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310071028.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt="">Mybatis</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»ä½¿ç”¨Mybatiså¼€å‘çš„åŸºæœ¬æ­¥éª¤ï¼Œç®€æ˜“æäº¤çœ‹Springçš„ç›¸å…³ç¬”è®°</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310071038.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310071038.html&quot;);" href="javascript:void(0);" alt="">Javaè®¾è®¡æ¨¡å¼</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»Javaè®¾è®¡æ¨¡å¼çš„åŸºç¡€çŸ¥è¯†ç‚¹å’ŒåŸºæœ¬ä½¿ç”¨</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310071038.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308310902.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308310902.html&quot;);" href="javascript:void(0);" alt="">JavaåŸºç¡€</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Javaçš„åŸºç¡€çŸ¥è¯†</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308310902.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308281533.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w14.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308281533.html&quot;);" href="javascript:void(0);" alt="">Javaåå°„</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»Javaåå°„çš„çŸ¥è¯†ç‚¹</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308281533.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308290811.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308290811.html&quot;);" href="javascript:void(0);" alt="">JavaScript</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»JavaScriptçš„åŸºç¡€çŸ¥è¯†ç‚¹</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308290811.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241940.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241940.html&quot;);" href="javascript:void(0);" alt="">Hexo</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Hexoåšå®¢æ¡†æ¶çš„å®‰è£…å’Œä½¿ç”¨æ–¹æ³•</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241940.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241933.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w19.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241933.html&quot;);" href="javascript:void(0);" alt="">CentOS</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»CentOSçš„å®‰è£…ã€å¸¸ç”¨æŒ‡ä»¤ã€å¸¸ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241933.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w1.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt="">C++æ ¸å¿ƒç¼–ç¨‹</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»C++çš„å†…å­˜ã€å¼•ç”¨ã€æ–‡ä»¶æ“ä½œã€æ¨¡æ¿ã€STLã€å¤šçº¿ç¨‹ç­‰æ ¸å¿ƒç¼–ç¨‹éƒ¨åˆ†</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310030946.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-03</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310030946.html&quot;);" href="javascript:void(0);" alt="">JVM</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»JVMçš„åŸºç¡€çŸ¥è¯†ç‚¹</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310030946.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241935.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241935.html&quot;);" href="javascript:void(0);" alt="">Git</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Gitçš„ä½¿ç”¨æ–¹æ³•</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241935.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241930.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w19.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241930.html&quot;);" href="javascript:void(0);" alt="">C++åŸºç¡€</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»C++çš„æ•°æ®ç±»å‹ã€ç±»ã€ç»“æ„ä½“ç­‰åŸºç¡€çŸ¥è¯†</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241930.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241636.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241636.html&quot;);" href="javascript:void(0);" alt="">C++QT</a><div class="blog-slider__text">ğŸ”æœ¬æ–‡æ±‡æ€»QTç¼–ç¨‹çš„åŸºç¡€å†…å®¹ï¼Œå’ŒQTCreatorçš„åŸºæœ¬ä½¿ç”¨</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241636.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w12.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Markdownæ ¼å¼ä»¥åŠå¤–æŒ‚æ ‡ç­¾åœ¨ç½‘é¡µç«¯çš„æ¸²æŸ“æ•ˆæœï¼Œå¯ä½œä¸ºæ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('å·²æŒ‚è½½gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>