<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JVM | MoMoAo🍓</title><meta name="keywords" content="Java,JVM"><meta name="author" content="MoMoAo🍓"><meta name="copyright" content="MoMoAo🍓"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="🍔本文汇总JVM的基础知识点">
<meta property="og:type" content="article">
<meta property="og:title" content="JVM">
<meta property="og:url" content="https://momoao.github.io/posts/202310030946.html">
<meta property="og:site_name" content="MoMoAo🍓">
<meta property="og:description" content="🍔本文汇总JVM的基础知识点">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://momoao.github.io/assets/wallpaper/w5.jpg">
<meta property="article:published_time" content="2023-08-03T10:19:03.000Z">
<meta property="article:modified_time" content="2023-10-28T08:46:14.891Z">
<meta property="article:author" content="MoMoAo🍓">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="JVM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://momoao.github.io/assets/wallpaper/w5.jpg"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://momoao.github.io/posts/202310030946"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"这篇文章是","messageNext":"天之前更新的，内容可能比较老了"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":30,"languages":{"author":"作者: MoMoAo🍓","link":"链接: ","source":"来源: MoMoAo🍓","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JVM',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-10-28 16:46:14'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script src="https://npm.elemecdn.com/echarts@4.9.0/map/js/china.js"></script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="MoMoAo🍓" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/tx.jpg" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> 八音盒</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> 影院</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> 八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> 画廊</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 动画</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> 网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> 网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> 文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> 旧时光</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> 唠叨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> 恋爱小屋</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">MoMoAo🍓</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> 八音盒</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> 影院</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> 八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> 画廊</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 动画</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> 网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> 网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> 文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> 旧时光</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> 唠叨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> 恋爱小屋</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> 关于</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> 搜索</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="美化设置-自定义你的风格" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">JVM</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于 </span><time class="post-meta-date-created" datetime="2023-08-03T10:19:03.000Z" title="发表于 2023-08-03 18:19:03">2023-08-03</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-10-28T08:46:14.891Z" title="更新于 2023-10-28 16:46:14">2023-10-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/%E5%BA%95%E5%B1%82/">底层</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">1.6w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>52分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JVM"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>JVM</h1>
<h2 id="前言">前言</h2>
<h3 id="Java内存模型">Java内存模型</h3>
<h4 id="什么是Java内存模型">什么是Java内存模型</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003094717616.png" alt="image-20231003094717616"></p>
<p>关系图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003094734373.png" alt="image-20231003094734373"></p>
<h4 id="多级缓存和一致性问题">多级缓存和一致性问题</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003095905800.png" alt="image-20231003095905800"></p>
<h4 id="原子性">原子性</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003095930721.png" alt="image-20231003095930721"></p>
<h4 id="可见性">可见性</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003100052920.png" alt="image-20231003100052920"></p>
<h4 id="有序性">有序性</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003100437689.png" alt="image-20231003100437689"></p>
<h4 id="内存交互">内存交互</h4>
<p>由于主内存和工作内存之间的具体交互协议，Java内存模型定义了以下八种操作来完成</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003100853256.png" alt="image-20231003100853256"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003101710296.png" alt="image-20231003101710296"></p>
<h4 id="Java如何解决原子性、可见性、有序性问题">Java如何解决原子性、可见性、有序性问题</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003100719947.png" alt="image-20231003100719947"></p>
<h4 id="as-if-serial">as-if-serial</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003102337524.png" alt="image-20231003102337524"></p>
<h4 id="先行发生原则（happens-before）">先行发生原则（happens-before）</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003102356371.png" alt="image-20231003102356371"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231003102531419.png" alt="image-20231003102531419"></p>
<h3 id="内存结构">内存结构</h3>
<ul>
<li></li>
</ul>
<h3 id="双亲委派机制">双亲委派机制</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231008103808488.png" alt="image-20231008103808488"></p>
<ul>
<li>这种机制的好处
<ul>
<li>安全性：因为加载类时都要先提交到启动类加载器，这保证了核心类的安全性不会被其他加载器破坏</li>
<li>因为有这种上下级结构，所以也可以避免重复加载导致程序混乱</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231008103825772.png" alt="image-20231008103825772"></p>
<p>父委托模型</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231008103920981.png" alt="image-20231008103920981"></p>
<h2 id="初识JVM">初识JVM</h2>
<h3 id="什么是JVM">什么是JVM</h3>
<p>JVM 全称是 Java Virtual Machine，中文译名 Java虚拟机。</p>
<p>JVM 本质上是一个运行在计算机上的程序，他的职责是运行Java字节码文件。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231012193457544.png" alt="image-20231012193457544"></p>
<p>JVM 本质上是一个运行在计算机上的程序，他的职责是运行Java字节码文件。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231012193717973.png" alt="image-20231012193717973"></p>
<h3 id="JVM的功能">JVM的功能</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013101522763.png" alt="image-20231013101522763"></p>
<p>Java需要实时解释，主要是为了支持跨平台特性。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013101624030.png" alt="image-20231013101624030"></p>
<p>即时编译</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013102403596.png" alt="image-20231013102403596"></p>
<h3 id="常见的JVM">常见的JVM</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013102420137.png" alt="image-20231013102420137"></p>
<p>HotSpot发展历程</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013102820437.png" alt="image-20231013102820437"></p>
<h2 id="详解字节码文件">详解字节码文件</h2>
<h3 id="JVM组成">JVM组成</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013103131068.png" alt="image-20231013103131068"></p>
<h3 id="字节码文件组成">字节码文件组成</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013104953672.png" alt="image-20231013104953672"></p>
<ul>
<li>
<p>基本信息</p>
<ul>
<li>
<p>魔数：Java字节码文件中，将文件头称为magic魔数</p>
<ul>
<li>文件是无法通过文件扩展名来确定文件类型的，文件扩展名可以随意修改，不影响文件的内容</li>
<li>软件使用文件的头几个字节（文件头）去校验文件的类型，如果软件不支持该种类型就会出错</li>
</ul>
</li>
<li>
<p>主副版本号：版本号的作用主要是判断当前字节码的版本和运行时的JDK是否兼容</p>
<ul>
<li>
<p>主副版本号指的是编译字节码文件的JDK版本号，主版本号用来标识大版本号，JDK1.0-1.1使用了</p>
<p>45.0-45.3，JDK1.2是46之后每升级一个大版本就加1；副版本号是当主版本号相同时作为区分不同</p>
<p>版本的标识，一般只需要关心主版本号。</p>
</li>
<li>
<p>出现问题时</p>
</li>
<li>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013123504048.png" alt="image-20231013123504048"></p>
</li>
<li>
<p>两种方案</p>
<ul>
<li>升级JDK版本（容易引发其他的兼容性问题，并且需要大量的测试）</li>
<li>将第三方依赖的版本号降低或者更换依赖，以满足JDK版本的要求</li>
</ul>
</li>
</ul>
</li>
<li>
<p>总结</p>
<ul>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013123550315.png" alt="image-20231013123550315"></li>
</ul>
</li>
</ul>
</li>
<li>
<p>常量池</p>
<ul>
<li>字节码文件中常量池的作用：避免相同的内容重复定义，节省空间。</li>
<li>常量池中的数据都有一个编号，编号从1开始。在字段或者字节码指令中通过编号可以快速的找到对应的数据</li>
<li>字节码指令中通过编号引用到常量池的过程称之为符号引用
<ul>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013123945822.png" alt="image-20231013123945822"></li>
</ul>
</li>
</ul>
</li>
<li>
<p>方法</p>
<ul>
<li>字节码中的方法区域是存放字节码指令的核心位置，字节码指令的内容存放在方法的Code属性中。
<ul>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013124122149.png" alt="image-20231013124122149"></li>
</ul>
</li>
<li>操作数栈是临时存放数据的地方，局部变量表是存放方法中的局部变量的位置。
<ul>
<li>从上往下，从(等号)右往左看，先有了数字0，所以iconst_0，在操作数栈中出现了0</li>
<li>istore_1：从栈中取出数字<code>移动</code>到局部变量表的1的位置</li>
<li>iload_1：将局部变量表中1中的数据<code>复制</code>到栈中</li>
<li>iconst_1：将常量1放入操作数栈</li>
<li>iadd：将操作数栈顶部的两个数相加并放回栈顶</li>
<li>istore_2：将栈顶的数移动到局部变量表2的位置</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013124442717.png" alt="image-20231013124442717"></li>
</ul>
</li>
<li>讲解i++过程
<ul>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013132733102.png" alt="image-20231013132733102"></li>
</ul>
</li>
<li>讲解++i
<ul>
<li>和上方不同的是：先iinc 1 by 1然后再iload_1</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013133709235.png" alt="image-20231013133709235"></li>
</ul>
</li>
<li>案例
<ul>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013134014018.png" alt="image-20231013134014018"></li>
<li>分析i++
<ul>
<li>int i = 5; i++;</li>
<li>0: iconst_5   ; 将整数常量5加载到操作数栈上<br>
1: istore_1   ; 将5存储到局部变量1（i）<br>
2: iload_1    ; 将局部变量1（i）加载到操作数栈上<br>
3: iconst_1   ; 将整数常量1加载到操作数栈上<br>
4: iadd       ; 执行加法操作<br>
5: istore_1   ; 将结果存储回局部变量1（i）</li>
</ul>
</li>
<li>分析i += 1
<ul>
<li>int x = 5; x += 3;</li>
<li>0: iconst_5   ; 将整数常量5加载到操作数栈上<br>
1: istore_1   ; 将5存储到局部变量1（x）<br>
2: iload_1    ; 将局部变量1（x）加载到操作数栈上<br>
3: iconst_3   ; 将整数常量3加载到操作数栈上<br>
4: iadd       ; 执行加法操作<br>
5: istore_1   ; 将结果存储回局部变量1（x）</li>
</ul>
</li>
<li>分析i = i + 1
<ul>
<li>int i = 5; i = i + 1;</li>
<li>0: iconst_5   ; 将整数常量5加载到操作数栈上<br>
1: istore_1   ; 将5存储到局部变量1（i）<br>
2: iload_1    ; 将局部变量1（i）加载到操作数栈上<br>
3: iconst_1   ; 将整数常量1加载到操作数栈上<br>
4: iadd       ; 执行加法操作<br>
5: istore_1   ; 将结果存储回局部变量1（i）</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="字节码常用工具">字节码常用工具</h3>
<h4 id="javap">javap</h4>
<p>javap是JDK自带的反编译工具，可以通过控制台查看字节码文件的内容。适合在服务器上查看字节码文件内容。</p>
<p>直接输入javap查看所有参数。</p>
<p>输入javap -v 字节码文件名称 查看具体的字节码信息。（如果jar包需要先使用 jar –xvf 命令解压）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013135453011.png" alt="image-20231013135453011"></p>
<h4 id="jclasslib">jclasslib</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013140303579.png" alt="image-20231013140303579"></p>
<h4 id="Arthas">Arthas</h4>
<ul>
<li>
<p>Arthas 是一款线上监控诊断产品，通过全局视角实时查看应用 load、内存、gc、线程的状态信息，并能在不修</p>
<p>改应用代码的情况下，对业务问题进行诊断，大大提升线上问题排查效率。</p>
</li>
<li>
<p>官网：<a target="_blank" rel="noopener" href="https://arthas.aliyun.com/doc/">https://arthas.aliyun.com/doc/</a></p>
</li>
<li>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013140756295.png" alt="image-20231013140756295"></p>
</li>
<li>
<p>指令dashboard -i 2000 -n 1</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://arthas.aliyun.com/doc/dashboard.html">dashboard</a> - 当前系统的实时数据面板</li>
<li>-i 表示每次显示的时间间隔（毫秒）</li>
<li>-n 表示显示几次</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013142600343.png" alt="image-20231013142600343"></p>
</li>
<li>
<p>dump 类的全限定名：dump已加载类的字节码文件到特定目录。</p>
<ul>
<li>dump -d D:/jvm/data/arthas.Demo</li>
</ul>
</li>
<li>
<p>jad 类的全限定名： 反编译已加载类的源码。</p>
<ul>
<li>jad arthas.Demo (某个包下的某个类)</li>
<li>输入后就显示类的源代码</li>
</ul>
</li>
<li></li>
</ul>
<h5 id="应用场景">应用场景</h5>
<ul>
<li>
<p>背景</p>
<ul>
<li>
<p>小李的团队昨天对系统进行了升级修复了某个bug，但是升级完之后发现bug还</p>
<p>是存在，小李怀疑是因为没有把最新的字节码文件部署到服务器上，请使用阿</p>
<p>里的arthas去确认升级完的字节码文件是不是最新的。</p>
</li>
</ul>
</li>
<li>
<p><strong>思路：</strong></p>
<ul>
<li>在出问题的服务器上部署一个 arthas，并启动。</li>
<li>连接 arthas的控制台，使用 jad命令加上想要查看的类名，反编译出源码。</li>
<li>jad com.example.MyClass
<ul>
<li>反编译源代码并用vim进行修改</li>
</ul>
</li>
<li>jad com.example.MyClass --source
<ul>
<li>重新编译代码，会生成一个class文件</li>
</ul>
</li>
<li>redefine -c com.example.MyClass /path/to/MyClass.class
<ul>
<li>对新的class文件进行热加载；问题修复</li>
</ul>
</li>
<li>热加载操作风险较高，一般还是不用</li>
</ul>
</li>
</ul>
<h3 id="类的生命周期">类的生命周期</h3>
<h4 id="生命周期概述">生命周期概述</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013150945016.png" alt="image-20231013150945016"></p>
<h4 id="加载阶段">加载阶段</h4>
<p>1、加载(Loading)阶段第一步是类加载器根据类的全限定名通过不同的渠道以二进制流的方式获取字节码信息。</p>
<p>程序员可以使用Java代码拓展的不同的渠道。</p>
<ul>
<li>不同的渠道
<ul>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013151032653.png" alt="image-20231013151032653"></li>
</ul>
</li>
</ul>
<p>2、类加载器在加载完类之后，Java虚拟机会将字节码中的信息保存到内存的方法区（逻辑概念）中。</p>
<p>3、生成一个InstanceKlass对象，保存类的所有信息，里边还包含实现特定功能比如多态的信息</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013151234026.png" alt="image-20231013151234026"></p>
<p>4、同时，Java虚拟机还会在堆中生成一份与方法区中数据类似的java.lang.Class对象。</p>
<p>作用是在Java代码中去获取类的信息以及存储静态字段的数据（JDK8及之后）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013151321949.png" alt="image-20231013151321949"></p>
<p>对于开发者来说，只需要访问堆中的Class对象而不需要访问方法区中所有信息。</p>
<p>这样Java虚拟机就能很好地控制开发者访问数据的范围</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013151424395.png" alt="image-20231013151424395"></p>
<p>推荐使用 JDK自带的hsdb工具查看Java虚拟机内存信息。工具位于JDK安装目录下lib文件夹中的sa-jdi.jar中。</p>
<p>启动命令：java -cp sa-jdi.jar sun.jvm.hotspot.HSDB</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013151543597.png" alt="image-20231013151543597"></p>
<h4 id="连接阶段">连接阶段</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013152133402.png" alt="image-20231013152133402"></p>
<h5 id="验证">验证</h5>
<p>一共四部分</p>
<ol>
<li>文件格式验证，比如文件是否以0xCAFEBABE开头，主次版本号是否满足当前Java虚拟机版本要求
<ol>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013152526229.png" alt="image-20231013152526229"></li>
</ol>
</li>
<li>元信息验证，例如类必须有父类（super不能为空）
<ol>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013152602411.png" alt="image-20231013152602411"></li>
</ol>
</li>
<li>验证程序执行指令的语义，比如方法内的指令执行中跳转到不正确的位置。
<ol>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013152613495.png" alt="image-20231013152613495"></li>
</ol>
</li>
<li>.符号引用验证，例如是否访问了其他类中private的方法等</li>
</ol>
<p><strong>验证案例</strong></p>
<p>主版本号不能高于运行环境主版本号，如果主版本号相等，副版本号也不能超过。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013152757639.png" alt="image-20231013152757639"></p>
<h5 id="准备">准备</h5>
<p>准备阶段为静态变量（static）分配内存并设置初始值</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013160932903.png" alt="image-20231013160932903"></p>
<p>准备阶段只会给静态变量赋初始值，而每一种基本数据类型和引用数据类型都有其初始值。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013160948366.png" alt="image-20231013160948366"></p>
<p>final修饰的基本数据类型的静态变量，准备阶段直接会将代码中的值进行赋值。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013161117629.png" alt="image-20231013161117629"></p>
<h5 id="解析">解析</h5>
<p>解析阶段主要是将常量池中的符号引用替换为直接引用</p>
<p>符号引用就是在字节码文件中使用编号来访问常量池中的内容</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013161223957.png" alt="image-20231013161223957"></p>
<p>直接引用不在使用编号，而是使用内存中地址进行访问具体的数据。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013161242824.png" alt="image-20231013161242824"></p>
<h4 id="初始化阶段">初始化阶段</h4>
<p>初始化阶段会执行静态代码块中的代码，并为静态变量赋值。</p>
<p>初始化阶段会执行字节码文件中clinit部分的字节码指令。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013161804372.png" alt="image-20231013161804372"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013163505886.png" alt="image-20231013163505886"></p>
<ul>
<li>以下几种方式会导致类的初始化
<ul>
<li>访问一个类的静态变量或者静态方法，注意变量是final修饰的并且等号右边是常量不会触发初始化。</li>
<li>调用Class.forName(String className)。</li>
<li>new一个该类的对象时</li>
<li>执行Main方法的当前类</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013164509318.png" alt="image-20231013164509318"></p>
<p>执行顺序举例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// 这是静态初始化块</span></span><br><span class="line">        System.out.println(<span class="string">&quot;静态初始化块&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 这是实例初始化块</span></span><br><span class="line">        System.out.println(<span class="string">&quot;实例初始化块&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyClass</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 这是构造方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;构造方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyClass</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyClass</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在上面的示例中，执行顺序是：</p>
<ol>
<li>静态初始化块中的代码。</li>
<li>实例初始化块中的代码。</li>
<li>构造方法中的代码。</li>
</ol>
<p>clinit指令在特定情况下不会出现，比如：如下几种情况是不会进行初始化指令执行的。</p>
<ul>
<li>无静态代码块且无静态变量赋值语句</li>
<li>有静态变量的声明，但是没有赋值语句。</li>
<li>静态变量的定义使用final关键字，这类变量会在准备阶段直接进行初始化</li>
</ul>
<p>直接访问父类的静态变量，不会触发子类的初始化。</p>
<p>子类的初始化clinit调用之前，会先调用父类的clinit初始化方法</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013165959472.png" alt="image-20231013165959472"></p>
<p>这里只调用了父类的静态变量，所以只初始化父类</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013170045387.png" alt="image-20231013170045387"></p>
<h5 id="例子">例子</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013170818971.png" alt="image-20231013170818971"></p>
<p>final修饰的变量等号右边也是常量就不会初始化</p>
<p>但是这里等号右边是表达式，所以在准备阶段无法进行初始化，只能在初始化阶段进行初始化</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013170944059.png" alt="image-20231013170944059"></p>
<h3 id="类加载器">类加载器</h3>
<p>类加载器（ClassLoader）是Java虚拟机提供给应用程序去实现获取类和接口字节码数据的技术</p>
<p>类加载器只参与加载过程中的字节码获取并加载到内存这一部分</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013171318091.png" alt="image-20231013171318091"></p>
<p>应用场景</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013171331752.png" alt="image-20231013171331752"></p>
<h4 id="类加载器分类">类加载器分类</h4>
<p>类加载器分为两类，一类是Java代码中实现的，一类是Java虚拟机底层源码实现的</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013171514272.png" alt="image-20231013171514272"></p>
<p>类加载器的设计JDK8和8之后的版本差别较大，JDK8及之前的版本中默认的类加载器有如下几种</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013171626958.png" alt="image-20231013171626958"></p>
<p><strong>Arthas中类加载器相关的功能</strong></p>
<p>类加载器的详细信息可以通过classloader命令查看</p>
<p>classloader - 查看 classloader 的继承树，urls，类加载信息，使用 classloader 去 getResource</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013171711791.png" alt="image-20231013171711791"></p>
<h5 id="启动类加载器">启动类加载器</h5>
<p>启动类加载器（Bootstrap ClassLoader）是由Hotspot虚拟机提供的、使用C++编写的类加载器</p>
<p>默认加载Java安装目录/jre/lib下的类文件，比如rt.jar，tools.jar，resources.jar等</p>
<ul>
<li>如何使用启动类加载器加载用户的jar包
<ul>
<li>放入jre/lib下进行扩展
<ul>
<li>不推荐，尽可能不要去更改JDK安装目录中的内容，会出现即时放进去由于文件名不匹配的问题也不会正常地被加载</li>
</ul>
</li>
<li>使用参数进行扩展
<ul>
<li>推荐，使用-Xbootclasspath/a:jar包目录/jar包名 进行扩展</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="扩展类加载器">扩展类加载器</h5>
<p>·扩展类加载器和应用程序类加载器都是JDK中提供的、使用Java编写的类加载器</p>
<p>它们的源码都位于sun.misc.Launcher中，是一个静态内部类。继承自URLClassLoader。具备通过目录或者指定jar包将字节码文件加载到内存中。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013171954944.png" alt="image-20231013171954944"></p>
<p>扩展类加载器默认加载Java安装目录/jre/lib/ext下的类文件</p>
<ul>
<li>如果使用扩展类加载器加载用户的jar包
<ul>
<li>放入/jre/lib/ext下进行扩展
<ul>
<li>不推荐，尽可能不要去更改JDK安装目录中的内容</li>
</ul>
</li>
<li>使用参数进行扩展
<ul>
<li>推荐，使用-Djava.ext.dirs=jar包目录 进行扩展,这种方式会覆盖掉原始目录，可以用;(windows):(macos/linux)追加上原始目录</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="应用类加载器">应用类加载器</h5>
<p>加载classpath下的类文件</p>
<p>在Arthas中</p>
<p>类加载器的加载路径可以通过classloader –c hash值 查看</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013172306376.png" alt="image-20231013172306376"></p>
<h4 id="双亲委派机制-2">双亲委派机制</h4>
<ul>
<li>在Java中如何使用代码的方式去主动加载一个类呢？
<ul>
<li>方式1：使用Class.forName方法，使用当前类的类加载器去加载指定的类。</li>
<li>方式2：获取到类加载器，通过类加载器的loadClass方法指定某个类加载器加载</li>
</ul>
</li>
</ul>
<p>com.itheima.my.A这个类在扩展类加载器的范畴下</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231013172811959.png" alt="image-20231013172811959"></p>
<p>每个Java实现的类加载器中保存了一个成员变量叫“父”（Parent）类加载器，可以理解为它的上级，并不是继承关系。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014091813736.png" alt="image-20231014091813736"></p>
<p>应用程序类加载器的parent父类加载器是扩展类加载器，而扩展类加载器的parent是空</p>
<p>启动类加载器使用C++编写，没有上级类加载器</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014091852748.png" alt="image-20231014091852748"></p>
<p>类加载器的继承关系可以通过classloader –t 查看</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014091910377.png" alt="image-20231014091910377"></p>
<p>在类加载的过程中，每个类加载器都会先检查是否已经加载了该类，如果已经加载则直接返回，否则会将加载请求委派给父类加载器</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014091952683.png" alt="image-20231014091952683"></p>
<p>如果类加载的parent为null，则会提交给启动类加载器处理</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014092010328.png" alt="image-20231014092010328"></p>
<p>如果所有的父类加载器都无法加载该类，则由当前类加载器自己尝试加载。所以看上去是自顶向下尝试加载。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014092036564.png" alt="image-20231014092036564"></p>
<p>第二次再去加载相同的类，仍然会向上进行委派，如果某个类加载器加载过就会直接返回</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014092055240.png" alt="image-20231014092055240"></p>
<p><strong>双亲委派机制指的是：自底向上查找是否加载过，再由顶向下进行加载。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014092618371.png" alt="image-20231014092618371"></p>
<ul>
<li>
<p>如果一个类重复出现在三个类加载器的加载位置，应该由谁来加载？</p>
<ul>
<li>启动类加载器加载，根据双亲委派机制，它的优先级是最高的</li>
</ul>
</li>
<li>
<p>在自己的项目中去创建一个java.lang.String类，会被加载吗</p>
<ul>
<li>不能，会交由启动类加载器加载在rt.jar包中的String类</li>
</ul>
</li>
<li>
<p>这几个类加载器彼此之间存在关系吗？</p>
<ul>
<li>应用类加载器的父类加载器是扩展类加载器，扩展类加载器没有父类加载器，但是会委派给启动类加载器加载</li>
</ul>
</li>
</ul>
<p><strong>双亲委派机制有什么用？</strong></p>
<ul>
<li><strong>保证类加载的安全性</strong>
<ul>
<li>通过双亲委派机制，让顶层的类加载器去加载核心类，避免恶意代码替换JDK中的核心类库，比如java.lang.String，确保核心库的完整性和安全性。</li>
</ul>
</li>
<li><strong>避免重复加载</strong>
<ul>
<li>双亲委派机制可以避免同一个类被多次加载，上层的类加载器如果加载过类，就会直接返回该类，避免重复加载。</li>
</ul>
</li>
</ul>
<h4 id="打破双亲委派机制">打破双亲委派机制</h4>
<ul>
<li>三种方式
<ul>
<li>自定义类加载器并且重写loadClass方法，就可以将双亲委派机制的代码去除
<ul>
<li>Tomcat通过这种方式实现应用之间类隔离</li>
</ul>
</li>
<li>利用上下文类加载器加载类，比如JDBC和JNDI等</li>
<li>历史上Osgi框架实现了一套新的类加载器机制，允许同级之间委托进行类的加载</li>
</ul>
</li>
</ul>
<h5 id="自定义类加载器">自定义类加载器</h5>
<ul>
<li>一个Tomcat程序中是可以运行多个Web应用的，如果这两个应用中出现了相同限定名的类，比如Servlet类，Tomcat要保证这两个类都能加载并且它们应该是不同的类。</li>
<li>如果不打破双亲委派机制，当应用类加载器加载Web应用1中的MyServlet之后，Web应用2中相同限定名的MyServlet类就无法被加载了。</li>
</ul>
<p>Tomcat使用了自定义类加载器来实现应用之间类的隔离</p>
<p>每一个应用会有一个独立的类加载器加载对应的类</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014094842864.png" alt="image-20231014094842864"></p>
<p>先来分析ClassLoader的原理，ClassLoader中包含了4个核心方法。</p>
<p>双亲委派机制的核心代码就位于loadClass方法中。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014094915247.png" alt="image-20231014094915247"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014095200440.png" alt="image-20231014095200440"></p>
<p>自定义类加载器父类怎么是AppClassLoader呢？</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014095213110.png" alt="image-20231014095213110"></p>
<p>自定义类加载器默认的父类加载器</p>
<p>以Jdk8为例，ClassLoader类中提供了构造方法设置parent的内容：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014095233878.png" alt="image-20231014095233878"></p>
<p>这个构造方法由另外一个构造方法调用，其中父类加载器由getSystemClassLoader方法设置，该方法返回的是AppClassLoader。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014095332893.png" alt="image-20231014095332893"></p>
<ul>
<li>两个自定义类加载器加载相同限定名的类，不会冲突吗？
<ul>
<li>不会冲突，在同一个Java虚拟机中，只有相同类加载器+相同的类限定名才会被认为是同一个类</li>
</ul>
</li>
<li>在Arthas中使用sc –d 类名的方式查看具体的情况。</li>
</ul>
<h5 id="第二种方法">第二种方法</h5>
<p>JDBC案例</p>
<p>JDBC中使用了DriverManager来管理项目中引入的不同数据库的驱动，比如mysql驱动、oracle驱动。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014095457628.png" alt="image-20231014095457628"></p>
<p>DriverManager类位于rt.jar包中，由启动类加载器加载</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014095518311.png" alt="image-20231014095518311"></p>
<p>依赖中的mysql驱动对应的类，由应用程序类加载器来加载</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014095556372.png" alt="image-20231014095556372"></p>
<p>DriverManager属于rt.jar是启动类加载器加载的。而用户jar包中的驱动需要由应用类加载器加载，这就违反了双亲委派机制。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014095701932.png" alt="image-20231014095701932"></p>
<p>DriverManager怎么知道jar包中要加载的驱动在哪儿？</p>
<p>总结</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014104021886.png" alt="image-20231014104021886"></p>
<p>这种由启动类加载器加载的类，委派应用程序类加载器去加载类的方式，打破了双亲委派机制</p>
<p>使用阿里arthas不停机解决线上问题</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014105525337.png" alt="image-20231014105525337"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014105642830.png" alt="image-20231014105642830"></p>
<h4 id="JDK9之后的类加载器">JDK9之后的类加载器</h4>
<p>JDK8及之前的版本中，扩展类加载器和应用程序类加载器的源码位于rt.jar包中的sun.misc.Launcher.java。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014105845666.png" alt="image-20231014105845666"></p>
<ul>
<li>
<p>由于JDK9引入了module的概念，类加载器在设计上发生了很多变化</p>
<ul>
<li>启动类加载器使用Java编写，位于jdk.internal.loader.ClassLoaders类中</li>
<li>Java中的BootClassLoader继承自BuiltinClassLoader实现从模块中找到要加载的字节码资源文件。</li>
<li>启动类加载器依然无法通过java代码获取到，返回的仍然是null，保持了统一。</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014110059658.png" alt="image-20231014110059658"></li>
</ul>
</li>
<li>
<p>扩展类加载器被替换成了平台类加载器（Platform Class Loader）。</p>
<ul>
<li>平台类加载器遵循模块化方式加载字节码文件，所以继承关系从URLClassLoader变成了</li>
<li>BuiltinClassLoader，BuiltinClassLoader实现了从模块中加载字节码文件</li>
<li>平台类加载器的存在更多的是为了与老版本的设计方案兼容，自身没有特殊的逻辑</li>
</ul>
</li>
<li>
<p>类加载器的作用是什么？</p>
<ul>
<li>类加载器（ClassLoader）负责在类加载过程中的字节码获取并加载到内存这一部分。通过加载字节码数据放入内存转换成byte[]，接下来调用虚拟机底层方法将byte[]转换成方法区和堆中的数据</li>
</ul>
</li>
<li>
<p>有几种类加载器？</p>
<ul>
<li>启动类加载器（Bootstrap ClassLoader）加载核心类</li>
<li>扩展类加载器（Extension ClassLoader）加载扩展类</li>
<li>应用程序类加载器（Application ClassLoader）加载应用classpath中的类</li>
<li>自定义类加载器，重写findClass方法</li>
<li>JDK9及之后扩展类加载器（Extension ClassLoader）变成了平台类加载器（PlatformClassLoader）</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014114810759.png" alt="image-20231014114810759"></li>
</ul>
</li>
<li>
<p>什么是双亲委派机制？</p>
<ul>
<li>每个Java实现的类加载器中保存了一个成员变量叫“父”（Parent）类加载器。自底向上查找是否加载过，再由顶向下进行加载。避免了核心类被应用程序重写并覆盖的问题，提升了安全性</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014114830256.png" alt="image-20231014114830256"></li>
</ul>
</li>
<li>
<p>怎么打破双亲委派机制？</p>
<ul>
<li>
<p>1、重写loadClass方法，不再实现双亲委派机制。</p>
<p>2、JNDI、JDBC、JCE、JAXB和JBI等框架使用了SPI机制+线程上下文类加载器。</p>
<p>3、OSGi实现了一整套类加载机制，允许同级类加载器之间互相调用</p>
</li>
</ul>
</li>
</ul>
<h2 id="Java内存区域">Java内存区域</h2>
<h3 id="JVM组成-2">JVM组成</h3>
<p>java代码编译成字节码之后，JVM中的类加载器，将字节码加载到内存中，之后执行引擎配合本地接口完成运行</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014115107905.png" alt="image-20231014115107905"></p>
<h3 id="运行时数据区">运行时数据区</h3>
<p>Java虚拟机在运行Java程序过程中管理的内存区域，称之为运行时数据区</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014115332767.png" alt="image-20231014115332767"></p>
<h3 id="程序计数器">程序计数器</h3>
<p>程序计数器（<strong>Program Counter Register</strong>）也叫<strong>PC</strong>寄存器，每个线程会通过程序计数器记录当前要执行的的字节码指令的地址。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014181457829.png" alt="image-20231014181457829"></p>
<p>一个计数器的具体案例</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014181635653.png" alt="image-20231014181635653"></p>
<p>在加载阶段，虚拟机将字节码文件中的指令读取到内存之后，会将原文件中的偏移量转换成内存地址。每一条字节码指令都会拥有一个内存地址。（过程：加载、连接、初始化、使用、卸载）</p>
<p>在多线程执行情况下，<strong>Java</strong>虚拟机需要通过程序计数器记录<strong>CPU</strong>切换前解释执行到那一句指令并继续解释运行。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231014181952547.png" alt="image-20231014181952547"></p>
<ul>
<li>程序计数器在运行中会出现内存溢出吗？
<ul>
<li>内存溢出指的是程序在使用某一块内存区域时，存放的数据需要占用的内存大小超过了虚拟机能提供的内存上限。</li>
<li>因为每个线程只存储一个固定长度的内存地址，程序计数器是不会发生内存溢出的。</li>
<li>程序员无需对程序计数器做任何处理</li>
</ul>
</li>
</ul>
<h3 id="栈">栈</h3>
<h4 id="Java虚拟机栈">Java虚拟机栈</h4>
<p><strong>Java</strong>虚拟机栈（<strong>Java Virtual Machine Stack</strong>）采用栈的数据结构来管理方法调用中的基本数据，先进后出（<strong>First In Last Out</strong>）**,**每一个方法的调用使用一个栈帧（<strong>Stack Frame</strong>）来保存。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024105811045.png" alt="image-20231024105811045"></p>
<p>Java虚拟机栈随着线程的创建而创建，而回收则会在线程的销毁时进行。由于方法可能会在不同线程中执行，每个线程都会包含一个自己的虚拟机栈</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024111110443.png" alt="image-20231024111110443"></p>
<h5 id="栈帧的组成">栈帧的组成</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024111132413.png" alt="image-20231024111132413"></p>
<h4 id="局部变量表">局部变量表</h4>
<p>局部变量表的作用是在方法执行过程中存放所有的局部变量。编译成字节码文件时就可以确定局部变量表的内容</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024111215603.png" alt="image-20231024111215603"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024111323923.png" alt="image-20231024111323923"></p>
<p>栈帧中的局部变量表是一个数组，数组中每一个位置称之为槽(slot) ，long和double类型占用两个槽，其他类型占用一个槽。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024111434543.png" alt="image-20231024111434543"></p>
<p>实例方法中的序号为0的位置存放的是this，指的是当前调用方法的对象，运行时会在内存中存放实例对象的地址。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024111551606.png" alt="image-20231024111551606"></p>
<p>方法参数也会保存在局部变量表中，其顺序与方法中参数定义的顺序一致。</p>
<p>局部变量表保存的内容有：实例方法的this对象，方法的参数，方法体中声明的局部变量。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024114333103.png" alt="image-20231024114333103"></p>
<p>思考题</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024120144684.png" alt="image-20231024120144684"></p>
<h4 id="操作数栈">操作数栈</h4>
<p>操作数栈是栈帧中虚拟机在执行指令过程中用来存放中间数据的一块区域。他是一种栈式的数据结构，如果一条指令将一个值压入操作数栈，则后面的指令可以弹出并使用该值</p>
<p>在编译期就可以确定操作数栈的最大深度，从而在执行时正确的分配内存大小</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024123834281.png" alt="image-20231024123834281"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024123955491.png" alt="image-20231024123955491"></p>
<h4 id="帧数据">帧数据</h4>
<p><strong>当前类的字节码指令引用了其他类的属性或者方法时，需要将符号引用（编号）转换成对应的运行时常量池中的内存地址。动态链接就保存了编号到运行时常量池的内存地址的映射关系。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024124739947.png" alt="image-20231024124739947"></p>
<p><strong>方法出口指的是方法在正确或者异常结束时，当前栈帧会被弹出，同时程序计数器应该指向上一个栈帧中的下一条指令的地址。所以在当前栈帧中，需要存储此方法出口的地址</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024124837520.png" alt="image-20231024124837520"></p>
<p><strong>异常表存放的是代码中异常的处理信息，包含了异常捕获的生效范围以及异常发生后跳转到的字节码指令位置</strong></p>
<ul>
<li>起始pc
<ul>
<li>try代码块中的第一个操作</li>
</ul>
</li>
<li>结束pc
<ul>
<li>记录了try成功执行后跳转到哪步操作，</li>
<li>一般为finally代码块的开始或者catch代码块下的第一个操作</li>
</ul>
</li>
<li>跳转pc
<ul>
<li>catch代码块的第一个操作</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024125018071.png" alt="image-20231024125018071"></p>
<h4 id="栈内存溢出">栈内存溢出</h4>
<p>⚫ Java虚拟机栈如果栈帧过多，占用内存超过栈内存可以分配的最大大小就会出现内存溢出。</p>
<p>⚫ Java虚拟机栈内存溢出时会出现StackOverflowError的错误</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024125535275.png" alt="image-20231024125535275"></p>
<p>默认大小</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024125612866.png" alt="image-20231024125612866"></p>
<p>模拟</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024163214597.png" alt="image-20231024163214597"></p>
<h4 id="设置栈大小">设置栈大小</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024163247904.png" alt="image-20231024163247904"></p>
<p>注意事项</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024163431527.png" alt="image-20231024163431527"></p>
<h3 id="本地方法栈">本地方法栈</h3>
<p>⚫ Java虚拟机栈存储了Java方法调用时的栈帧，而本地方法栈存储的是native本地方法的栈帧。</p>
<p>⚫ 在Hotspot虚拟机中，Java虚拟机栈和本地方法栈实现上使用了同一个栈空间。本地方法栈会在栈内存上生成一个栈帧，临时保存方法的参数同时方便出现异常时也把本地方法的栈信息打印出来。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024164221638.png" alt="image-20231024164221638"></p>
<h3 id="堆">堆</h3>
<p>⚫ 一般Java程序中堆内存是空间最大的一块内存区域。创建出来的对象都存在于堆上。</p>
<p>⚫ 栈上的局部变量表中，可以存放堆上对象的引用。静态变量也可以存放堆对象的引用，通过静态变量就可以实现对象在线程之间共享</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024165345342.png" alt="image-20231024165345342"></p>
<p>模拟堆区的溢出</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024165518150.png" alt="image-20231024165518150"></p>
<p>⚫ 堆空间有三个需要关注的值，used total max。</p>
<p>⚫ used指的是当前已使用的堆内存，total是java虚拟机已经分配的可用堆内存，max是java虚拟机可以分配的最大堆内存。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024165722513.png" alt="image-20231024165722513"></p>
<h5 id="arthas中堆内存相关的功能">arthas中堆内存相关的功能</h5>
<p>⚫ 堆内存used total max三个值可以通过dashboard命令看到。</p>
<p>⚫ 手动指定刷新频率（不指定默认5秒一次）：dashboard –i 刷新频率(毫秒)</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024165825534.png" alt="image-20231024165825534"></p>
<p>⚫ 随着堆中的对象增多，当total可以使用的内存即将不足时，java虚拟机会继续分配内存给堆。</p>
<p>⚫ 如果堆内存不足，java虚拟机就会不断的分配内存，total值会变大。total最多只能与max相等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024165852537.png" alt="image-20231024165852537"></p>
<p>注意</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024165915130.png" alt="image-20231024165915130"></p>
<p>⚫ 如果不设置任何的虚拟机参数，max默认是系统内存的1/4，total默认是系统内存的1/64。在实际应用中一般都需要设置total和max的值。</p>
<p>⚫ Oracle官方文档：<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html</a></p>
<h5 id="设置大小">设置大小</h5>
<p>⚫ <strong>要修改堆的大小，可以使用虚拟机参数 –Xmx（max最大值）和-Xms (初始的total)</strong>。</p>
<p>⚫ 语法：-Xmx值 -Xms值</p>
<p>⚫ 单位：字节（默认，必须是 1024 的倍数）、k或者K(KB)、m或者M(MB)、g或者G(GB)</p>
<p>⚫ 限制：Xmx必须大于 2 MB，Xms必须大于1MB</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024170026153.png" alt="image-20231024170026153"></p>
<p>一般可使用的total和max都要比设置的小</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024170128689.png" alt="image-20231024170128689"></p>
<p>⚫ Java服务端程序开发时，建议将-Xmx和-Xms设置为相同的值，这样在程序启动之后可使用的总内存就是最大内存，而无</p>
<p>需向java虚拟机再次申请，减少了申请并分配内存时间上的开销，同时也不会出现内存过剩之后堆收缩的情况。</p>
<p>⚫ -Xmx具体设置的值与实际的应用程序运行环境有关，在《实战篇》中会给出设置方案。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024170500520.png" alt="image-20231024170500520"></p>
<h3 id="方法区">方法区</h3>
<p>方法区是存放基础信息的位置，线程共享，主要包含三部分内容</p>
<p>方法区（Method Area）通常是在Java虚拟机的内存结构中独立于栈和堆的一个区域。方法区用于存储类的结构信息，例如类的字段、方法、静态变量、常量池、字节码等。方法区是每个Java虚拟机实例的共享区域，它存储的是类的元信息，而不是类的实例</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024170527462.png" alt="image-20231024170527462"></p>
<p>方法区是用来存储每个类的基本信息（元信息），一般称之为**InstanceKlass对象。**在类的加载阶段完成。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024170824359.png" alt="image-20231024170824359"></p>
<p>⚫ 方法区除了存储类的元信息之外，还存放了运行时常量池。常量池中存放的是字节码中的常量池内容。</p>
<p>⚫ 字节码文件中通过编号查表的方式找到常量，这种常量池称为静态常量池。当常量池加载到内存中之后，可以通过内存地址快速的定位到常量池中的内容，这种常量池称为运行时常量池。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024171105596.png" alt="image-20231024171105596"></p>
<p>⚫ 方法区是《Java虚拟机规范》中设计的虚拟概念，每款Java虚拟机在实现上都各不相同。Hotspot设计如下：</p>
<p>⚫ JDK7及之前的版本将方法区存放在堆区域中的永久代空间，堆的大小由虚拟机参数来控制。</p>
<p>⚫ JDK8及之后的版本将方法区存放在元空间中，元空间位于操作系统维护的直接内存中，默认情况下只要不超过操作系统承受的上限，可以一直分配。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024171245838.png" alt="image-20231024171245838"></p>
<h4 id="arthas中查看方法区">arthas中查看方法区</h4>
<p>⚫ 使用memory打印出内存情况，JDK7及之前的版本查看ps_perm_gen属性。</p>
<p>⚫ JDK8及之后的版本查看metaspace属性。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024171423365.png" alt="image-20231024171423365"></p>
<h4 id="溢出">溢出</h4>
<p>实验发现，JDK7上运行大概十几万次，就出现了错误。在JDK8上运行百万次，程序都没有出现任何错误，但是内存会直线升高。这说明JDK7和JDK8在方法区的存放上，采用了不同的设计。</p>
<p>⚫ JDK7将方法区存放在堆区域中的永久代空间，堆的大小由虚拟机参数-XX:MaxPermSize=值来控制。</p>
<p>⚫ JDK8将方法区存放在元空间中，元空间位于操作系统维护的直接内存中，默认情况下只要不超过操作系统承受的上限，可以一直分配。可以使用-XX:MaxMetaspaceSize=值将元空间最大大小进行限制。</p>
<h4 id="字符串常量池">字符串常量池</h4>
<p>⚫ 方法区中除了类的元信息、运行时常量池之外，还有一块区域叫字符串常量池(<strong>StringTable)</strong>。</p>
<p>⚫ 字符串常量池存储在代码中定义的常量字符串内容。比如“123” 这个123就会被放入字符串常量池。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024172430048.png" alt="image-20231024172430048"></p>
<p>字符串常量池和运行时常量池有什么关系？</p>
<p>早期设计时，字符串常量池是属于运行时常量池的一部分，他们存储的位置也是一致的。后续做出了调整，</p>
<p>将字符串常量池和运行时常量池做了拆分。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024172546533.png" alt="image-20231024172546533"></p>
<p>练习</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024173346326.png" alt="image-20231024173346326"></p>
<p>测试</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231024173811423.png" alt="image-20231024173811423"></p>
<h3 id="直接内存">直接内存</h3>
<p>⚫ 直接内存（Direct Memory）并不在《Java虚拟机规范》中存在，所以并不属于Java运行时的内存区域。</p>
<p>在 JDK 1.4 中引入了 NIO 机制，使用了直接内存，主要为了解决以下两个问题:</p>
<p>1、Java堆中的对象如果不再使用要回收，回收时会影响对象的创建和使用。</p>
<p>2、IO操作比如读文件，需要先把文件读入直接内存（缓冲区）再把数据复制到Java堆中。</p>
<p>现在直接放入直接内存即可，同时Java堆上维护直接内存的引用，减少了数据复制的开销。写文件也是类似的思路。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027154416911.png" alt="image-20231027154416911"></p>
<p>主动申请直接内存</p>
<p>不能无限申请，无限申请会报错：内存溢出，但不是真的溢出了，由虚拟机控制可以申请的最大的直接内存空间大小</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027154726834.png" alt="image-20231027154726834"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027154927257.png" alt="image-20231027154927257"></p>
<h3 id="总结">总结</h3>
<p>运行时数据区分为那几部分？</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027155941943.png" alt="image-20231027155941943"></p>
<ul>
<li>程序计数器
<ul>
<li>每个线程会通过程序计数器纪录当前要执行的 字节码指令地址，程序计数器可以控制程序指令的进行，实现分支、跳转、异常等逻辑</li>
<li>不会出现内存溢出</li>
</ul>
</li>
<li>虚拟机栈和本地方法栈
<ul>
<li>Java虚拟机栈存储了Java方法调用时的栈帧，而本地方法栈存储的是native方法的栈帧。</li>
<li>采用栈结构来管理方法中的基本数据（局部变量、操作数等），每一个方法的调用使用一个栈帧（局部变量表、操作数栈、帧数据）来保存</li>
<li>一般只有递归的时候才会出现内存溢出</li>
</ul>
</li>
<li>方法区
<ul>
<li>存放类的元信息，同时还保存常量池</li>
<li>注意：JDK8之后方法区叫元空间，属于直接内存区域</li>
</ul>
</li>
<li>堆
<ul>
<li>存放创建出来的对象，这也是最容易产生内存溢出的位置</li>
</ul>
</li>
</ul>
<p>不同版本的JDK的区别</p>
<p>JDK6</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027162008433.png" alt="image-20231027162008433"></p>
<p>JDK7</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027162018702.png" alt="image-20231027162018702"></p>
<p>JDK8</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027162027482.png" alt="image-20231027162027482"></p>
<h2 id="垃圾回收">垃圾回收</h2>
<h3 id="方法区回收">方法区回收</h3>
<p>⚫ Java虚拟机在运行Java程序过程中管理的内存区域，称之为<strong>运行时数据区</strong>。</p>
<p>⚫ 《Java虚拟机规范》中规定了每一部分的作用。</p>
<p>⚫ 线程不共享的部分，都是伴随着线程的创建而创建，线程的销毁而销毁。而方法的栈帧在执行完方法之后就会自动弹出栈并释放掉对应的内存。</p>
<ul>
<li>类的生命周期
<ul>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027162412508.png" alt="image-20231027162412508"></li>
</ul>
</li>
</ul>
<p>⚫ 方法区中能回收的内容主要就是不再使用的类。</p>
<p>判定一个类可以被卸载。需要同时满足下面三个条件：</p>
<p>1、此类所有实例对象都已经被回收，在堆中不存在任何该类的实例对象以及子类对象。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027162544449.png" alt="image-20231027162544449"></p>
<p>2、加载该类的类加载器已经被回收。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../assets/image/JVM_Image/image-20231027194823584.png" alt="image-20231027194823584"></p>
<p>3、该类对应的 java.lang.Class 对象没有在任何地方被引用。</p>
<ul>
<li>
<p>获取class对象的三种方式</p>
<ul>
<li>
<p>Class&lt;?&gt; myClass = MyClass.class;</p>
</li>
<li>
<p>MyClass obj = new MyClass();<br>
Class&lt;?&gt; myClass = obj.getClass();</p>
</li>
<li>
<pre><code>try &#123;
    Class&lt;?&gt; myClass = Class.forName(&quot;com.example.MyClass&quot;);
&#125; catch (ClassNotFoundException e) &#123;
    // 处理类未找到异常
&#125;

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![image-<span class="number">20231027194844301</span>](..<span class="regexp">/assets/im</span>age<span class="regexp">/JVM_Image/im</span>age-<span class="number">20231027194844301</span>.png)</span><br><span class="line"></span><br><span class="line"><span class="comment">#### 手动触发回收</span></span><br><span class="line"></span><br><span class="line">![image-<span class="number">20231027195905342</span>](..<span class="regexp">/assets/im</span>age<span class="regexp">/JVM_Image/im</span>age-<span class="number">20231027195905342</span>.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">开发中此类场景一般很少出现，主要在如 OSGi、JSP 的热部署等应用场景中。</span><br><span class="line"></span><br><span class="line">每个jsp文件对应一个唯一的类加载器，当一个jsp文件修改了，就直接卸载这个jsp类加载器。重新创建类加载器，重新加载jsp文件。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 堆回收</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#### 引用计数法和可达性分析法</span></span><br><span class="line"></span><br><span class="line">如何判断堆上的对象可以回收？</span><br><span class="line"></span><br><span class="line">Java中的对象是否能被回收，是根据对象是否被引用来决定的。如果对象被引用了，说明该对象还在使用，不允许被回收。</span><br><span class="line"></span><br><span class="line">比如下面代码的内存结构图：</span><br><span class="line"></span><br><span class="line">![image-<span class="number">20231027200352505</span>](..<span class="regexp">/assets/im</span>age<span class="regexp">/JVM_Image/im</span>age-<span class="number">20231027200352505</span>.png)</span><br><span class="line"></span><br><span class="line">![image-<span class="number">20231027200418986</span>](..<span class="regexp">/assets/im</span>age<span class="regexp">/JVM_Image/im</span>age-<span class="number">20231027200418986</span>.png)</span><br><span class="line"></span><br><span class="line">只有无法通过引用获取到对象时，该对象才能被回收。</span><br><span class="line"></span><br><span class="line">图中A的实例对象要回收，有两个引用要去除：</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.栈中a1变量到对象的引用 <span class="number">2</span>.B对象到A对象的引用</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<p>a1 = null<br>
b1.a = null</p>
<pre><code>
![image-20231027200504089](../assets/image/JVM_Image/image-20231027200504089.png)

如果在main方法中最后执行 a1 = null ，b1 = null，是否能回收A和B对象呢？

可以回收，方法中已经没有办法使用引用去访问A和B对象了。

![image-20231027200549823](../assets/image/JVM_Image/image-20231027200549823.png)

如何判断堆上的对象没有被引用？

常见的有两种判断方法：引用计数法和可达性分析法。

**引用计数法会为每个对象维护一个引用计数器，当对象被引用时加1，取消引用时减1。**

![image-20231027200731167](../assets/image/JVM_Image/image-20231027200731167.png)

引用计数法的缺点-循环引用

引用计数法的优点是实现简单，C++中的智能指针就采用了引用计数法，但是它也存在缺点，主要有两点：

1.每次引用和取消引用都需要维护计数器，对系统性能会有一定的影响

2.存在循环引用问题，所谓循环引用就是当A引用B，B同时引用A时会出现对象无法回收的问题。

**简述：当 a1  b1都为null时，对象的引用计数器依然不为0，因为这两个实例在互相引用**

![image-20231027200830105](../assets/image/JVM_Image/image-20231027200830105.png)

查看垃圾回收日志

⚫ **如果想要查看垃圾回收的信息，可以使用-verbose:gc参数**。

⚫ 语法： **-verbose:gc**

![image-20231027200940909](../assets/image/JVM_Image/image-20231027200940909.png)



可达性分析算法

Java使用的是可达性分析算法来判断对象是否可以被回收。可达性分析将对象分为两类：垃圾回收的根对象（GC Root）和普通对象，对象与对象之间存在引用关系。

下图中A到B再到C和D，形成了一个引用链，可达性分析算法指的是如果从某个到GC Root对象是可达的，对象就不可被回收。

![image-20231027201058434](../assets/image/JVM_Image/image-20231027201058434.png)

哪些对象被称之为GC Root对象呢？

-   线程Thread对象。
    -   当a1和b1都为null时，Thread对象将不可达A和B的示例对象
    -   ![image-20231027201226389](../assets/image/JVM_Image/image-20231027201226389.png)

-   系统类加载器加载的java.lang.Class对象。
    -   ![image-20231027201335296](../assets/image/JVM_Image/image-20231027201335296.png)

-   监视器对象，用来保存同步锁synchronized关键字持有的对象。
    -   ![image-20231027201350723](../assets/image/JVM_Image/image-20231027201350723.png)

-   本地方法调用时使用的全局对象

查看GC Root

&gt; heapdump
&gt; [INFO] /path/to/your/app-heap-dump.hprof

![image-20231027202225336](../assets/image/JVM_Image/image-20231027202225336.png)





#### 五种对象引用

可达性算法中描述的对象引用，一般指的是强引用，即是GCRoot对象对普通对象有引用关系，只要这层关系存在，普通对象就不会被回收。除了强引用之外，Java中还设计了几种其他引用方式：

⚫ 软引用

⚫ 弱引用

⚫ 虚引用

⚫ 终结器引用

##### 软引用

软引用相对于强引用是一种比较弱的引用关系，如果一个对象只有软引用关联到它，当程序内存不足时，就会将软引用中的数据进行回收。所以可以用于引用不重要的对象

在JDK 1.2版之后提供了SoftReference类来实现软引用，软引用常用于缓存中。

![image-20231027203129637](../assets/image/JVM_Image/image-20231027203129637.png)

软引用的执行过程如下：

1.将对象使用软引用包装起来，**new SoftReference&lt;对象类型&gt;(对象)**。

2.内存不足时，虚拟机尝试进行垃圾回收。

3.如果垃圾回收仍不能解决内存不足的问题，回收软引用中的对象。

4.如果依然内存不足，抛出OutOfMemory异常。

![image-20231027203556420](../assets/image/JVM_Image/image-20231027203556420.png)



软引用中的对象如果在内存不足时回收，SoftReference对象本身也需要被回收。如何知道哪些SoftReference对象需要回收呢？

SoftReference提供了一套队列机制：

1、软引用创建时，通过构造器传入引用队列

2、在软引用中包含的对象被回收时，该软引用对象会被放入引用队列

3、通过代码遍历引用队列，将SoftReference的强引用删除

案例

前提：`-Xmx200m`

-   创建一个100m的强引用对象
-   转为软引用
-   将对象的实例设置为null
-   输出
    -   对象还在，因为空间还够用
-   在创建一个100m的对象
-   输出
    -   空间不足，虽然堆空间为200m，但是虚拟机还要占用一些，所以释放掉了软引用

![image-20231027204021945](../assets/image/JVM_Image/image-20231027204021945.png)

软引用中的对象如果在内存不足时回收，SoftReference对象本身也需要被回收。如何知道哪些SoftReference对象需要回收呢？

SoftReference提供了一套队列机制：

1、软引用创建时，通过构造器传入引用队列

2、在软引用中包含的对象被回收时，该软引用对象会被放入引用队列

3、通过代码遍历引用队列，将SoftReference的强引用删除

**所以你可以通过引用队列来判断哪些软引用对象的引用对象已被回收**

案例

前提：`-Xmx200m`

-   创建一个存放软引用的list，防止虚拟机回收软引用
-   创建软引用队列
-   for循环
    -   创建100m大小的对象
    -   将这个对象的强引用变为软引用，并指明软引用队列
    -   将软引用添加进list中，放在虚拟机回收
-   遍历软引用队列，看看其中存储了几个软引用
    -   **软引用队列：软引用指向的对象因为heap空间不足被回收，这个软引用就会进入到创建这个软引用时指定的队列中**
-   结果：9

![image-20231027204832595](../assets/image/JVM_Image/image-20231027204832595.png)

**使用场景**

软引用也可以使用继承自SoftReference类的方式来实现，StudentRef类就是一个软引用对象。通过构造器传入软引用包含的对象，以及引用队列。

![image-20231028084645068](../assets/image/JVM_Image/image-20231028084645068.png)



![image-20231028085226027](../assets/image/JVM_Image/image-20231028085226027.png)





##### 弱引用

弱引用的整体机制和软引用基本一致，**区别在于弱引用包含的对象在垃圾回收时，不管内存够不够都会直接被回收**。在JDK 1.2版之后提供了WeakReference类来实现弱引用，弱引用主要在ThreadLocal中使用。弱引用对象本身也可以使用引用队列进行回收。

![image-20231028085639073](../assets/image/JVM_Image/image-20231028085639073.png)

案例

-   `-Xmx200m`
-   发现就算存储够用，弱引用也被回收了

![image-20231028095011162](../assets/image/JVM_Image/image-20231028095011162.png)

##### 虚引用和终结器引用

虚引用也叫幽灵引用/幻影引用，不能通过虚引用对象获取到包含的对象。虚引用唯一的用途是当对象被垃圾回收器回收时可以接收到对应的通知。Java中使用PhantomReference实现了虚引用，直接内存中为了及时知道直接内存对象不再使用，从而回收内存，使用了虚引用来实现。

终结器引用指的是在对象需要被回收时，终结器引用会关联对象并放置在Finalizer类中的引用队列中，在稍后由一条由FinalizerThread线程从队列中获取对象，然后执行对象的finalize方法，在对象第二次被回收时，该对象才真正的被回收。在这个过程中可以在finalize方法中再将自身对象使用强引用关联上，但是不建议这样做。



#### 垃圾回收算法

⚫ Java是如何实现垃圾回收的呢？简单来说，垃圾回收要做的有两件事：

1、找到内存中存活的对象

2、释放不再存活对象的内存，使得程序能再次利用这部分空间



⚫ 1960年John McCarthy发布了第一个GC算法：标记-清除算法。

⚫ 1963年Marvin L. Minsky 发布了复制算法。本质上后续所有的垃圾回收算法，都是在上述两种算法的基础上优化而来。

![image-20231028095725514](../assets/image/JVM_Image/image-20231028095725514.png)

Java垃圾回收过程会通过单独的GC线程来完成，但是不管使用哪一种GC算法，都会有部分阶段需要停止所有的用户线程。这个过程被称之为Stop The World简称STW，如果STW时间过长则会影响用户的使用。

![image-20231028095825114](../assets/image/JVM_Image/image-20231028095825114.png)

所以判断GC算法是否优秀，可以从三个方面来考虑：

1.吞吐量

吞吐量指的是 CPU 用于执行用户代码的时间与 CPU 总执行时间的比值，即吞吐量 = 执行用户代码时间 /（执行用户代码时间 + GC时间）。吞吐量数值越高，垃圾回收的效率就越高。

![image-20231028095908082](../assets/image/JVM_Image/image-20231028095908082.png)

2.最大暂停时间

最大暂停时间指的是所有在垃圾回收过程中的STW时间最大值。比如如下的图中，黄色部分的STW就是最大暂停时间，显而易见上面的图比下面的图拥有更少的最大暂停时间。最大暂停时间越短，用户使用系统时受到的影响就越短。

![image-20231028095927348](../assets/image/JVM_Image/image-20231028095927348.png)

3.堆使用效率

不同垃圾回收算法，对堆内存的使用方式是不同的。比如标记清除算法，可以使用完整的堆内存。而复制算法会将堆内存一分为二，每次只能使用一半内存。从堆使用效率上来说，标记清除算法要优于复制算法。上述三种评价标准：堆使用效率、吞吐量，以及最大暂停时间不可兼得。一般来说，堆内存越大，最大暂停时间就越长。想要减少最大暂停时间，就会降低吞吐量。

**不同的垃圾回收算法，适用于不同的场景。**

![image-20231028100016442](../assets/image/JVM_Image/image-20231028100016442.png)



-   标记清除算法

标记清除算法的核心思想分为两个阶段：

1.标记阶段，将所有存活的对象进行标记。Java中使用可达性分析算法，从GC Root开始通过引用链遍历出所有存活对象。

2.清除阶段，从内存中删除没有被标记也就是非存活对象。



标记清除算法的优缺点

优点：实现简单，只需要在第一阶段给每个对象维护标志位，第二阶段删除对象即可。

缺点：

1.碎片化问题

由于内存是连续的，所以在对象被删除之后，内存中会出现很多细小的可用内存单元。如果我们需要的是一个比较大的空间，很有可能这些内存单元的大小过小无法进行分配。

2.分配速度慢。

由于内存碎片的存在，需要维护一个空闲链表，极有可能发生每次需要遍历到链表的最后才能获得合适的内存空间。

![image-20231028100434726](../assets/image/JVM_Image/image-20231028100434726.png)



-   复制算法

复制算法的核心思想是：

1.准备两块空间From空间和To空间，每次在对象分配阶段，只能使用其中一块空间（From空间）。

2.在垃圾回收GC阶段，将From中存活对象复制到To空间。

3.将两块空间的From和To名字互换。

完整的复制算法的例子：

1.将堆内存分割成两块From空间 To空间，对象分配阶段，创建对象。

2.GC阶段开始，将GC Root搬运到To空间

3.将GC Root关联的对象，搬运到To空间

4.清理From空间，并把名称互换

优缺点

![image-20231028100644567](../assets/image/JVM_Image/image-20231028100644567.png)





-   标记整理算法

标记整理算法也叫标记压缩算法，是对标记清理算法中容易产生内存碎片问题的一种解决方案。核心思想分为两个阶段：

1.标记阶段，将所有存活的对象进行标记。Java中使用可达性分析算法，从GC Root开始通过引用链遍历出

所有存活对象。

2.整理阶段，将存活对象移动到堆的一端。清理掉存活对象的内存空间。

![image-20231028100832492](../assets/image/JVM_Image/image-20231028100832492.png)

优缺点

![image-20231028100855914](../assets/image/JVM_Image/image-20231028100855914.png)





-   分代垃圾回收算法

现代优秀的垃圾回收算法，会将上述描述的垃圾回收算法组合进行使用，其中应用最广的就是分代垃圾回收算法(Generational GC)。

分代垃圾回收将整个内存区域划分为年轻代和老年代：

![image-20231028101025672](../assets/image/JVM_Image/image-20231028101025672.png)

arthas查看分代之后的内存情况

⚫ 在JDK8中，添加-XX:+UseSerialGC参数使用分代回收的垃圾回收器，运行程序。

⚫ 在arthas中使用memory命令查看内存，显示出三个区域的内存情况。

-   翻译
    -   eden_space  伊甸园
    -   survivor_space  幸存者  （有2个from和to）
    -   tenured_gen  老年区

![image-20231028101240166](../assets/image/JVM_Image/image-20231028101240166.png)



调整内存区域的大小

![image-20231028101609275](../assets/image/JVM_Image/image-20231028101609275.png)





分代回收时，创建出来的对象，首先会被放入Eden伊甸园区。

随着对象在Eden区越来越多，如果Eden区满，新创建的对象已经无法放入，就会触发年轻代的GC，称为Minor GC或者Young GC。

Minor GC会把eden中和From中需要回收的对象回收，把没有回收的对象放入To区。

之后新创建的对象就可以放入eden中了

![image-20231028103300291](../assets/image/JVM_Image/image-20231028103300291.png)



接下来，S0会变成To区，S1变成From区。当eden区满时再往里放入对象，依然会发生Minor GC。此时会回收eden区和S1(from)中的对象，并把eden和from区中剩余的对象放入S0。

注意：每次Minor GC中都会为对象记录他的年龄，初始值为0，每次GC完加1。

![image-20231028130149410](../assets/image/JVM_Image/image-20231028130149410.png)

![image-20231028130217591](../assets/image/JVM_Image/image-20231028130217591.png)

如果Minor GC后对象的年龄达到阈值（最大15，默认值和垃圾回收器有关），对象就会被晋升至老年代。当老年代中空间不足，无法放入新的对象时，先尝试minor gc如果还是不足，就会触发Full GC，Full GC会对整个堆进行垃圾回收。

这里老年代满了却用minor gc回收

如果Full GC依然无法回收掉老年代的对象，那么当对象继续放入老年代时，就会抛出Out Of Memory异常。

![image-20231028130447764](../assets/image/JVM_Image/image-20231028130447764.png)





总结：eden满了，就清理eden和from，把存活的对象年龄+1并放入to中，from和to调换位置





#### 垃圾回收器



# Ai总结

## Java内存结构

Java的内存结构包括几个不同的区域，每个区域都有特定的作用和用途。以下是Java内存结构的主要部分：

1. **方法区（Method Area）**：
   - 方法区是用于存储类的信息、静态变量、常量和方法字节码的内存区域。
   - 类加载器将类加载到方法区中，并在运行时维护类的信息。
   - 字符串常量池也位于方法区中，用于存储字符串常量。

2. **堆内存（Heap）**：
   - 堆内存是用于存储对象实例的主要区域。在堆中分配的内存由Java的垃圾回收器来管理。
   - 所有通过 `new` 操作符创建的对象都存储在堆内存中。
   - 堆内存可以分为新生代（Young Generation）、老年代（Old Generation）和持久代（PermGen，或者在Java 8+ 中被称为元空间 Metaspace）等不同的部分。

3. **栈内存（Stack）**：
   - 栈内存用于存储方法调用的局部变量、方法参数和方法调用的状态。
   - 每个线程都有自己的栈，它包括栈帧（Stack Frame），每个栈帧对应一个方法调用。
   - 栈内存中的数据是线程私有的，不存在线程安全问题。

4. **本地方法栈（Native Method Stack）**：
   - 本地方法栈用于存储Java程序调用本地方法（Native Method）的信息。
   - 本地方法是用其他编程语言编写的，例如C或C++，并通过JNI（Java Native Interface）与Java程序进行交互。

5. **程序计数器（Program Counter Register）**：
   - 程序计数器是一个小的内存区域，用于存储当前线程正在执行的字节码指令的地址。
   - 在多线程环境下，每个线程都有自己的程序计数器，用于跟踪线程执行的位置。

6. **直接内存（Direct Memory）**：
   - 直接内存不是Java虚拟机的一部分，但是在Java程序中使用了`java.nio`包的一些类，例如`ByteBuffer`，它们可以分配直接内存，而不是堆内存。
   - 直接内存由操作系统管理，通常用于I/O操作，可以提高性能。

这些内存区域在Java应用程序的运行过程中扮演不同的角色，而且它们的大小和管理方式都可以通过Java虚拟机的启动参数进行调整。了解这些内存区域对于理解Java内存管理和解决性能问题非常重要。

## Java如何解决原子性、可见性、有序性问题

Java通过使用关键字 `volatile`、`synchronized`、`java.util.concurrent` 包以及原子类来解决原子性、可见性和有序性问题。

1. **原子性（Atomicity）**：
   - 原子性问题指的是多线程环境下，一个操作是否能够被看作是不可分割的单个操作。
   - Java提供了原子操作的支持，主要通过 `java.util.concurrent.atomic` 包中的原子类来实现。例如，`AtomicInteger`、`AtomicLong`、`AtomicReference` 等。
   - 这些原子类提供了一系列的原子操作，可以保证在多线程环境下某个操作的原子性，而不需要显式地使用`synchronized`关键字。

2. **可见性（Visibility）**：
   - 可见性问题指的是一个线程对共享变量的修改是否能够被其他线程立即看到。
   - 使用 `volatile` 关键字可以保证可见性。当一个变量被声明为 `volatile`，对它的写操作将会立即刷新到主内存，并且对它的读操作也会从主内存中读取，而不是从线程的本地缓存中读取。
   - 同时，Java的锁机制（例如 `synchronized`）也可以保证可见性，因为在释放锁之前，所有对共享变量的修改都会刷新到主内存。

3. **有序性（Ordering）**：
   - 有序性问题指的是程序中的操作是否按照预期的顺序执行。
   - Java提供了一些机制来保证操作的有序性。首先，`volatile` 关键字可以保证变量的读写顺序，这意味着在一个线程写入一个 `volatile` 变量之后，它后面的所有操作都不会被重排序到写操作之前。
   - 另外，`synchronized` 块也可以保证进入和退出临界区的代码不会被重排序。

总结：
Java提供了多种机制来解决并发编程中的原子性、可见性和有序性问题。选择合适的机制取决于具体的需求和场景。在Java 5及以后的版本中，使用 `java.util.concurrent` 包中的工具和原子类可以更容易地编写线程安全的代码。

## as-if-serial

&quot;as-if-serial&quot; 是Java内存模型（Java Memory Model，JMM）中的一个概念，用于描述编译器和处理器对程序代码的重排序和优化。

&quot;as-if-serial&quot; 原则的核心思想是，编译器和处理器可以对程序代码进行各种优化，只要在单线程执行程序时的最终结果与按照程序的顺序执行得到的结果一致，就是合法的。换句话说，即使编译器和处理器对指令重排序、缓存优化等进行了优化，只要这些优化不会改变程序在单线程执行时的行为，就被认为是符合 &quot;as-if-serial&quot; 原则的。

这个原则的存在是为了允许编译器和处理器在不破坏程序正确性的前提下进行性能优化。在多线程环境下，&quot;as-if-serial&quot; 原则对于确保多线程程序的正确性也是非常重要的。虽然编译器和处理器可以对指令进行重排序，但它们需要遵守一些规则和约束，以确保多线程程序的可见性和正确性。这些规则包括使用 `volatile` 关键字、`synchronized` 块、`final` 字段等来禁止某些重排序操作，以确保多线程程序的行为与单线程执行时的行为一致。

总之，&quot;as-if-serial&quot; 原则是Java内存模型中的一个基本概念，它允许编译器和处理器在不改变程序正确性的前提下进行各种优化，从而提高程序的性能。但在多线程编程中，需要谨慎处理并确保正确使用同步机制来保证线程安全。

## happens-before

&quot;happens-before&quot; 是Java内存模型（Java Memory Model，JMM）中的一个关键概念，用于描述多线程程序中操作之间的顺序和可见性规则。&quot;happens-before&quot; 规则定义了在多线程环境下，一个操作对另一个操作的可见性和顺序的影响。

具体来说，&quot;happens-before&quot; 规则包括以下情况：

1. **程序顺序规则（Program Order Rule）**：
   - 在单个线程中，操作按照程序中的顺序执行，也就是说，程序中的操作顺序必须被保留。

2. **监视器锁规则（Monitor Lock Rule）**：
   - 对一个监视器（synchronized块或方法）的解锁操作 `unlock` 必须在随后的锁操作 `lock` 之前执行，确保在一个线程释放锁之后，另一个线程能够获取相同的锁。

3. **volatile变量规则（Volatile Variable Rule）**：
   - 对一个 `volatile` 变量的写操作必须在随后的读操作之前执行，确保写操作对其他线程可见。

4. **线程启动规则（Thread Start Rule）**：
   - 在一个线程中，启动另一个线程的操作 `Thread.start()` 必须在新线程的任何操作之前执行，确保新线程能够看到启动线程的操作。

5. **线程结束规则（Thread Termination Rule）**：
   - 在一个线程中，线程的所有操作必须在另一个线程检测到线程已经终止之前执行。

6. **传递性规则（Transitivity）**：
   - 如果操作 A &quot;happens-before&quot; 操作 B，且操作 B &quot;happens-before&quot; 操作 C，那么操作 A &quot;happens-before&quot; 操作 C。

&quot;happens-before&quot; 规则帮助程序员理解多线程程序中操作之间的顺序和可见性，确保程序在不同线程之间能够正确地协同工作。这些规则对于避免竞态条件（Race Condition）和确保线程安全非常重要。在实际编码中，通常会使用同步机制（例如`synchronized`关键字和`volatile`关键字）来确保 &quot;happens-before&quot; 规则的正确应用。

## 堆和栈

在Java中，堆（Heap）和栈（Stack）是两种不同的内存区域，用于存储不同类型的数据和对象。它们具有不同的特性和用途：

1. **堆（Heap）**：

   - **用途**：堆是用来存储对象实例的内存区域。在堆中分配的对象拥有较长的生命周期，通常存活于方法之外，直到没有引用指向它们时才会被垃圾回收。

   - **特点**：堆是在JVM启动时分配的，所有线程共享它。堆内存的大小可以通过启动JVM时的参数来调整。Java的垃圾回收器会定期清理不再被引用的对象，释放堆内存。

   - **对象存储**：在堆中存储的对象可以动态分配和释放。对象的生命周期由其引用决定，当没有引用指向一个对象时，它就会成为垃圾，等待垃圾回收。

   - **多线程共享**：多个线程可以同时访问堆，并在堆中分配对象。因此，堆是线程安全的，但需要注意同步问题。

2. **栈（Stack）**：

   - **用途**：栈主要用来存储线程的方法调用和局部变量，它的生命周期与线程的生命周期相同，即在方法调用时创建，方法返回时销毁。

   - **特点**：每个线程都有自己的栈，栈是线程私有的。栈内存的大小通常比堆小得多，它在JVM启动时分配给每个线程，因此每个线程有自己独立的栈。

   - **方法调用**：栈用于存储方法的调用栈帧。每当一个方法被调用，一个新的栈帧会被压入栈顶，用于存储方法的局部变量、方法参数和方法返回地址等信息。当方法返回时，栈帧被弹出，恢复上一个方法的上下文。

   - **局部变量**：局部变量（如基本数据类型和对象引用）通常存储在栈中，它们的生命周期与方法的执行周期相对应。

   - **线程安全**：由于每个线程都有自己的栈，栈是线程安全的，不需要显式的同步措施。

总结：
- 堆和栈是Java中两种不同的内存区域，用于存储不同类型的数据和对象。
- 堆用于存储对象实例，拥有较长的生命周期，由垃圾回收器管理。
- 栈用于存储方法调用和局部变量，生命周期与方法的执行周期相对应，是线程私有的。
- 堆和栈在内存管理和生命周期方面有不同的特性，了解它们的区别对于编写高效和正确的Java程序非常重要。

## Java字节码常见指令

Java 字节码是一种中间代码，它是Java源代码编译后生成的，然后由Java虚拟机（JVM）执行的指令集。下面是一些常见的Java字节码指令：

1. **aload**: 将引用类型的局部变量加载到操作数栈上。
2. **astore**: 将操作数栈上的引用类型的值存储到局部变量中。
3. **istore**：指令用于将操作数栈上的整数值存储到局部变量中
4. **iconst**: 将整数常量（通常是-1、0、1、2、3、4、5）加载到操作数栈上。
5. **bipush**: 将一个字节值（-128 到 127）加载到操作数栈上。
6. **sipush**: 将一个短整数值（-32,768 到 32,767）加载到操作数栈上。
7. **iadd**, **isub**, **imul**, **idiv**, **irem**: 分别执行整数的加法、减法、乘法、除法和取余操作。
8. **ladd**, **lsub**, **lmul**, **ldiv**, **lrem**: 分别执行长整数的加法、减法、乘法、除法和取余操作。
9. **fadd**, **fsub**, **fmul**, **fdiv**: 分别执行单精度浮点数的加法、减法、乘法和除法。
10. **dadd**, **dsub**, **dmul**, **ddiv**: 分别执行双精度浮点数的加法、减法、乘法和除法。
11. **iinc**: 对局部整数变量进行增量操作。
12. **if&lt;条件&gt;**: 根据条件跳转到不同的指令。
13. **goto**: 无条件跳转到指定的指令。
14. **return**: 从方法返回。
15. **invokevirtual**, **invokespecial**, **invokestatic**: 分别用于调用虚拟方法、特殊方法（构造函数等）和静态方法。
16. **new**: 创建一个新的对象。
17. **dup**: 复制栈顶的数值。
18. **pop**: 弹出栈顶的数值。
19. **checkcast**: 检查对象是否能够转换为指定的类型。
19. **instanceof**: 检查对象是否是指定类型的实例。

这只是一小部分常见的Java字节码指令，Java字节码包含了更多的指令和操作码，用于执行各种操作，包括方法调用、条件分支、异常处理等。每个指令都有特定的操作码，参数和操作数，它们在JVM中执行Java程序时起到关键作用。

## Arthas

![image-20231013143940911](../assets/image/JVM_Image/image-20231013143940911.png)

## 堆区和方法区

JVM中的堆区（Heap）和方法区（Method Area）不同，它们具有不同的作用和存储内容：

1. 堆区（Heap）：
   - 堆区是用于存储对象实例的内存区域。
   - 所有通过`new`关键字创建的对象都存储在堆区中。
   - 堆区是Java中最大的内存区域之一，用于动态分配内存，支持垃圾回收。
   - 堆区中的内存管理是基于分代的，分为新生代和老年代，以便更有效地进行垃圾回收。

2. 方法区（Method Area）：
   - 方法区是用于存储类的元数据信息、静态成员变量、常量池和方法字节码等数据的内存区域。
   - 方法区中包含了类的结构信息，包括类的字段、方法、构造函数、常量池、方法字节码以及其他类相关的元信息。
   - 方法区在Java虚拟机规范中通常是永久代（PermGen）的一部分，尽管在Java 8及以后的版本中，永久代被元数据区（Metaspace）取代。
   - 方法区主要用于支持Java类的加载、解析和运行时动态生成类。

虽然堆区和方法区在JVM中都扮演着重要的角色，但它们的职责和存储内容完全不同。堆区用于存储对象实例，而方法区用于存储类的元数据和方法相关的信息。在Java 8及以后的版本中，方法区被替代为元数据区（Metaspace），因此这两个区域的实现和管理方式也存在显著差异。</code></pre>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>JVM</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://momoao.github.io/posts/202310030946.html">https://momoao.github.io/posts/202310030946.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>MoMoAo🍓</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2023-08-03</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2023-10-28</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>Java</a><a class="post-meta__tags" href="/tags/JVM/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>JVM</a></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">投喂作者</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://momoao.github.io/assets/wxcollection.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wxcollection.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://momoao.github.io/assets/zfbcollection.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/zfbcollection.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/202310071038.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w7.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Java设计模式</div></div></a></div><div class="next-post pull-right"><a href="/posts/202308241636.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w2.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">C++QT</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/202308281527.html" title="MySQL"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w19.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-10-27</div><div class="title">MySQL</div></div></a></div><div><a href="/posts/202310201322.html" title="JUC"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-10-27</div><div class="title">JUC</div></div></a></div><div><a href="/posts/202308281533.html" title="Java反射"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w15.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-09-24</div><div class="title">Java反射</div></div></a></div><div><a href="/posts/202308310902.html" title="Java基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w12.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-09-24</div><div class="title">Java基础</div></div></a></div><div><a href="/posts/202310071038.html" title="Java设计模式"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-10-22</div><div class="title">Java设计模式</div></div></a></div><div><a href="/posts/202310071028.html" title="Java集合框架"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-10-07</div><div class="title">Java集合框架</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">JVM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B"><span class="toc-text">Java内存模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJava%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B"><span class="toc-text">什么是Java内存模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98%E5%92%8C%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98"><span class="toc-text">多级缓存和一致性问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%AD%90%E6%80%A7"><span class="toc-text">原子性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E8%A7%81%E6%80%A7"><span class="toc-text">可见性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%BA%8F%E6%80%A7"><span class="toc-text">有序性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E4%BA%A4%E4%BA%92"><span class="toc-text">内存交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%8E%9F%E5%AD%90%E6%80%A7%E3%80%81%E5%8F%AF%E8%A7%81%E6%80%A7%E3%80%81%E6%9C%89%E5%BA%8F%E6%80%A7%E9%97%AE%E9%A2%98"><span class="toc-text">Java如何解决原子性、可见性、有序性问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#as-if-serial"><span class="toc-text">as-if-serial</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%88%E8%A1%8C%E5%8F%91%E7%94%9F%E5%8E%9F%E5%88%99%EF%BC%88happens-before%EF%BC%89"><span class="toc-text">先行发生原则（happens-before）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84"><span class="toc-text">内存结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6"><span class="toc-text">双亲委派机制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%AF%86JVM"><span class="toc-text">初识JVM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJVM"><span class="toc-text">什么是JVM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JVM%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-text">JVM的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84JVM"><span class="toc-text">常见的JVM</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%A6%E8%A7%A3%E5%AD%97%E8%8A%82%E7%A0%81%E6%96%87%E4%BB%B6"><span class="toc-text">详解字节码文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JVM%E7%BB%84%E6%88%90"><span class="toc-text">JVM组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E7%A0%81%E6%96%87%E4%BB%B6%E7%BB%84%E6%88%90"><span class="toc-text">字节码文件组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E7%A0%81%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7"><span class="toc-text">字节码常用工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#javap"><span class="toc-text">javap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jclasslib"><span class="toc-text">jclasslib</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arthas"><span class="toc-text">Arthas</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">应用场景</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">类的生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%A6%82%E8%BF%B0"><span class="toc-text">生命周期概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E9%98%B6%E6%AE%B5"><span class="toc-text">加载阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E9%98%B6%E6%AE%B5"><span class="toc-text">连接阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81"><span class="toc-text">验证</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%86%E5%A4%87"><span class="toc-text">准备</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90"><span class="toc-text">解析</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%98%B6%E6%AE%B5"><span class="toc-text">初始化阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-text">例子</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-text">类加载器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%88%86%E7%B1%BB"><span class="toc-text">类加载器分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-text">启动类加载器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-text">扩展类加载器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-text">应用类加载器</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6-2"><span class="toc-text">双亲委派机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E7%A0%B4%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6"><span class="toc-text">打破双亲委派机制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-text">自定义类加载器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-text">第二种方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JDK9%E4%B9%8B%E5%90%8E%E7%9A%84%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-text">JDK9之后的类加载器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Java%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F"><span class="toc-text">Java内存区域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JVM%E7%BB%84%E6%88%90-2"><span class="toc-text">JVM组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA"><span class="toc-text">运行时数据区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="toc-text">程序计数器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88"><span class="toc-text">栈</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88"><span class="toc-text">Java虚拟机栈</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%88%E5%B8%A7%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-text">栈帧的组成</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E8%A1%A8"><span class="toc-text">局部变量表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E6%A0%88"><span class="toc-text">操作数栈</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A7%E6%95%B0%E6%8D%AE"><span class="toc-text">帧数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%88%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA"><span class="toc-text">栈内存溢出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%A0%88%E5%A4%A7%E5%B0%8F"><span class="toc-text">设置栈大小</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88"><span class="toc-text">本地方法栈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86"><span class="toc-text">堆</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#arthas%E4%B8%AD%E5%A0%86%E5%86%85%E5%AD%98%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-text">arthas中堆内存相关的功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%A4%A7%E5%B0%8F"><span class="toc-text">设置大小</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E5%8C%BA"><span class="toc-text">方法区</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#arthas%E4%B8%AD%E6%9F%A5%E7%9C%8B%E6%96%B9%E6%B3%95%E5%8C%BA"><span class="toc-text">arthas中查看方法区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%A2%E5%87%BA"><span class="toc-text">溢出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0"><span class="toc-text">字符串常量池</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%86%85%E5%AD%98"><span class="toc-text">直接内存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6"><span class="toc-text">垃圾回收</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E5%8C%BA%E5%9B%9E%E6%94%B6"><span class="toc-text">方法区回收</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>带上信仰，去寻找属于你自己的国度吧！哪怕倾尽一生。✨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">点击开启星辰之旅</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">魔改指南</a><a href="/box/nav/">网址导航</a></li><li><a href="/social/link/">我的朋友</a><a href="/comments/">留点什么</a></li><li><a href="/personal/about/">关于作者</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/box/Gallery/">我的画廊</a><a href="/personal/bb/">我的唠叨</a></li><li><a href="/site/time/">建设进程</a><a href="/site/census/">网站统计</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">推荐友链⌛</p><div class="ft-img-group"><div class="img-group-item"><a href="https://MoMoAo.github.io" title="MoMoAo🍓"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/tx.jpg" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租🥂"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租🥂"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租🥂"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租🥂"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租🥂"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://MoMoAo.github.io/assets/ggw.png" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2022-2023</b></span><span><b>&nbsp;&nbsp;By MoMoAo🍓</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v6.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v4.3.1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用多线部署，主线路托管于Vercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="本站数据分析得益于51la技术支持"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20226665" style="margin-inline:5px" title="本站已加入萌ICP豪华套餐，萌ICP备20226665号"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/萌ICP备-20226665-fe1384.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="本网站经Service Worker分流至缤纷云对象存储"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-缤纷云-9c62da.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="本站使用网盾星球提供CDN加速与防护"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/CDN-网盾星球-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本网站源码由Github提供存储仓库"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="右键模式" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>美化设置</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>切换全屏</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async data-pjax src="/js/txmap.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><script id="click-show-text" src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/click-show-text.min.js" data-mobile="true" data-text="ROMANTIC,LOVE,HONEY,PEACE,HAPPY,ETERNITY,遥遥领先" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://MoMoAo.github.io/categories/操作系统/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍟 MoMoAoの操作系统基础笔记 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://MoMoAo.github.io/categories/数据库/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍨 MoMoAoの数据库笔记 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://MoMoAo.github.io/categories/工具/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍥 MoMoAoの工具演示笔记 (4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://MoMoAo.github.io/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308301711.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308301711.html&quot;);" href="javascript:void(0);" alt="">SpringBoot初识</a><div class="blog-slider__text">🍔本文汇总SpringBoot的基础知识</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308301711.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202309291021.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w19.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202309291021.html&quot;);" href="javascript:void(0);" alt="">苍穹外卖课堂笔记</a><div class="blog-slider__text">🍔本文记录苍穹外卖项目搭建过程中的笔记</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202309291021.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310151032.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w16.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-15</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310151032.html&quot;);" href="javascript:void(0);" alt="">黑马头条课堂笔记</a><div class="blog-slider__text">🥧黑马头条课堂笔记</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310151032.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202309121527.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-09-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202309121527.html&quot;);" href="javascript:void(0);" alt="">三级网络技术</a><div class="blog-slider__text">🍔本文汇总计算机三级网络技术考试内容</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202309121527.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/20231024.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-24</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/20231024.html&quot;);" href="javascript:void(0);" alt="">微服务-数字货币交易</a><div class="blog-slider__text">🥧本文汇总微服务-数字货币交易平台搭建的过程</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/20231024.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241554.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241554.html&quot;);" href="javascript:void(0);" alt="">VSCode中C++环境配置</a><div class="blog-slider__text">🥧本文汇总VSCode中C++环境的配置和使用</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241554.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310090902.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-09-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310090902.html&quot;);" href="javascript:void(0);" alt="">SpringCloud</a><div class="blog-slider__text">🥧本文汇总SpringCloud的基础知识点</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310090902.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310231647.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-23</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310231647.html&quot;);" href="javascript:void(0);" alt="">SpringCloud Alibaba</a><div class="blog-slider__text">🥧本文汇总SpringCloud Alibaba构建项目的过程和涉及到的中间件</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310231647.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308281529.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308281529.html&quot;);" href="javascript:void(0);" alt="">Spring</a><div class="blog-slider__text">🍔本文汇总Spring和SpringMVC的开发步骤</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308281529.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt="">Shell编程</a><div class="blog-slider__text">🥧本文汇总Shell编程的基础</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310261001.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-26</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310261001.html&quot;);" href="javascript:void(0);" alt="">RocketMQ</a><div class="blog-slider__text">🥧本文汇总RocketMQ的安装和使用</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310261001.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241944.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241944.html&quot;);" href="javascript:void(0);" alt="">Redis</a><div class="blog-slider__text">🥧本文汇总Redis的安装和使用</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241944.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310081056.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w19.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310081056.html&quot;);" href="javascript:void(0);" alt="">RabbitMQ</a><div class="blog-slider__text">🥧本文汇总RabbitMQ的安装、使用和常见知识点</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310081056.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241942.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w1.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241942.html&quot;);" href="javascript:void(0);" alt="">QT飞机大战源码</a><div class="blog-slider__text">🥧使用QT写的飞机大战的纯源码</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241942.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310090917.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310090917.html&quot;);" href="javascript:void(0);" alt="">Mysql优化</a><div class="blog-slider__text">🥧本文汇总Mysql优化的基础知识</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310090917.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt="">Mybatis</a><div class="blog-slider__text">🍔本文汇总使用Mybatis开发的基本步骤，简易提交看Spring的相关笔记</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w19.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt="">MySQL</a><div class="blog-slider__text">🍔本文汇总使用Mybatis开发的基本步骤，简易提交看Spring的相关笔记</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308281527.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202309142103.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-09-14</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202309142103.html&quot;);" href="javascript:void(0);" alt="">MyBatis-Plus</a><div class="blog-slider__text">🍔本文汇总MyBatis-Plus的使用和基础知识</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202309142103.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310161341.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310161341.html&quot;);" href="javascript:void(0);" alt="">Maven</a><div class="blog-slider__text">🥧本文汇总Maven的安装和使用</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310161341.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310071028.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310071028.html&quot;);" href="javascript:void(0);" alt="">Java集合框架</a><div class="blog-slider__text">🥧本文汇总Java集合框架的基础知识点</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310071028.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310071038.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310071038.html&quot;);" href="javascript:void(0);" alt="">Java设计模式</a><div class="blog-slider__text">🍔本文汇总Java设计模式的基础知识点和基本使用</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310071038.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308310902.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w12.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308310902.html&quot;);" href="javascript:void(0);" alt="">Java基础</a><div class="blog-slider__text">🥧本文汇总Java的基础知识</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308310902.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308281533.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w15.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308281533.html&quot;);" href="javascript:void(0);" alt="">Java反射</a><div class="blog-slider__text">🍔本文汇总Java反射的知识点</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308281533.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308290811.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w9.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308290811.html&quot;);" href="javascript:void(0);" alt="">JavaScript</a><div class="blog-slider__text">🍔本文汇总JavaScript的基础知识点</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308290811.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310030946.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-03</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310030946.html&quot;);" href="javascript:void(0);" alt="">JVM</a><div class="blog-slider__text">🍔本文汇总JVM的基础知识点</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310030946.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241940.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241940.html&quot;);" href="javascript:void(0);" alt="">Hexo</a><div class="blog-slider__text">🥧本文汇总Hexo博客框架的安装和使用方法</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241940.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310201322.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-20</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310201322.html&quot;);" href="javascript:void(0);" alt="">JUC</a><div class="blog-slider__text">🥧本文汇总JAVA的并发编程知识</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310201322.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241935.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w9.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241935.html&quot;);" href="javascript:void(0);" alt="">Git</a><div class="blog-slider__text">🥧本文汇总Git的使用方法</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241935.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202310120920.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w15.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202310120920.html&quot;);" href="javascript:void(0);" alt="">Docker</a><div class="blog-slider__text">🥧本文汇总Docker的安装、使用和基础知识点</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202310120920.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt="">C++核心编程</a><div class="blog-slider__text">🥧本文汇总C++的内存、引用、文件操作、模板、STL、多线程等核心编程部分</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241921.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241933.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w19.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241933.html&quot;);" href="javascript:void(0);" alt="">CentOS</a><div class="blog-slider__text">🥧本文汇总CentOS的安装、常用指令、常用第三方软件</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241933.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241930.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241930.html&quot;);" href="javascript:void(0);" alt="">C++基础</a><div class="blog-slider__text">🥧本文汇总C++的数据类型、类、结构体等基础知识</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241930.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/202308241636.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/202308241636.html&quot;);" href="javascript:void(0);" alt="">C++QT</a><div class="blog-slider__text">🍔本文汇总QT编程的基础内容，和QTCreator的基本使用</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/202308241636.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://momoao.github.io/assets/wallpaper/w16.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">Markdown语法与外挂标签写法汇总</a><div class="blog-slider__text">🥧本文汇总Markdown格式以及外挂标签在网页端的渲染效果，可作为文档进行查询</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>